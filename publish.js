/*
-------------------------------------------
Meta Bind - Publish Dev Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Thu, 11 Apr 2024 20:46:48 GMT
Version: Publish Dev Build
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var meta_bind_publish=(()=>{var _6=Object.create;var ml=Object.defineProperty,S6=Object.defineProperties,A6=Object.getOwnPropertyDescriptor,N6=Object.getOwnPropertyDescriptors,D6=Object.getOwnPropertyNames,HA=Object.getOwnPropertySymbols,E6=Object.getPrototypeOf,GA=Object.prototype.hasOwnProperty,M6=Object.prototype.propertyIsEnumerable;var hh=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n);var gh=(n,e,t)=>e in n?ml(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ie=(n,e)=>{for(var t in e||(e={}))GA.call(e,t)&&gh(n,t,e[t]);if(HA)for(var t of HA(e))M6.call(e,t)&&gh(n,t,e[t]);return n},_t=(n,e)=>S6(n,N6(e));var dl=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var an=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),C6=(n,e)=>{for(var t in e)ml(n,t,{get:e[t],enumerable:!0})},WA=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of D6(e))!GA.call(n,i)&&i!==t&&ml(n,i,{get:()=>e[i],enumerable:!(r=A6(e,i))||r.enumerable});return n};var br=(n,e,t)=>(t=n!=null?_6(E6(n)):{},WA(e||!n||!n.__esModule?ml(t,"default",{value:n,enumerable:!0}):t,n)),T6=n=>WA(ml({},"__esModule",{value:!0}),n);var tn=(n,e,t)=>(gh(n,typeof e!="symbol"?e+"":e,t),t);var xt=(n,e,t)=>new Promise((r,i)=>{var a=s=>{try{l(t.next(s))}catch(u){i(u)}},o=s=>{try{l(t.throw(s))}catch(u){i(u)}},l=s=>s.done?r(s.value):Promise.resolve(s.value).then(a,o);l((t=t.apply(n,e)).next())}),F6=function(n,e){this[0]=n,this[1]=e};var vh=n=>{var e=n[hh("asyncIterator")],t=!1,r,i={};return e==null?(e=n[hh("iterator")](),r=a=>i[a]=o=>e[a](o)):(e=e.call(n),r=a=>i[a]=o=>{if(t){if(t=!1,a==="throw")throw o;return o}return t=!0,{done:!1,value:new F6(new Promise(l=>{var s=e[a](o);if(!(s instanceof Object))throw TypeError("Object expected");l(s)}),1)}}),i[hh("iterator")]=()=>i,r("next"),"throw"in e?r("throw"):i.throw=a=>{throw a},"return"in e&&r("return"),i};var Wc=an(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.P_HELPERS=ti.ParserHelpers=ti.validateRegexFlags=ti.validateRange=ti.getIndex=ti.arrayUnion=void 0;var _h=Yc();function B6(n,e){if(n===void 0&&e===void 0)return;if(n===void 0)return e;if(e===void 0)return n;let t=[...n];for(let r of e)t.includes(r)||t.push(r);return t}ti.arrayUnion=B6;function O6(n){return n===void 0?-1:n.index}ti.getIndex=O6;function k6(n,e){if(e<n)throw new Error(`Invalid Range: max might not be smaller than min. Received [${n}, ${e}].`);if(n<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${n}, ${e}].`);if(n===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${n}, ${e}].`);if(!Number.isInteger(n)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${n}, ${e}].`)}ti.validateRange=k6;function R6(n){for(let e of n)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}ti.validateRegexFlags=R6;var Gc=class{followedBy(e){return new _h.Parser(function(r){return e.p(r.copy())})}notFollowedBy(e){return new _h.Parser(function(r){let i=r.copy(),a=e.p(i),o=r.sliceTo(i.position.index);return a.success?r.fail("not '"+o+"'"):r.succeed(void 0)})}test(e){return new _h.Parser(function(r){let i=r.input[r.position.index];return!r.atEOF()&&e(i)?r.succeedOffset(1,i):r.fail(`a character matching ${e}`)})}};ti.ParserHelpers=Gc;ti.P_HELPERS=new Gc});var XA=an(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.ParserContext=void 0;var Sh=Wc(),Ah=class n{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new n(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
    `?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let r=(0,Sh.getIndex)(e.furthest),i=(0,Sh.getIndex)(t.furthest);if(i>r)return t;let a=i===r?(0,Sh.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};jc.ParserContext=Ah});var hi=an(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.P=void 0;var di=Yc(),Zc=Wc(),Nh=class n{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new di.Parser(function(r){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let s=e[o].p(r);if(i=r.merge(i,s),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new di.Parser(function(i){let a,o=new Array(t.length);for(let l=0;l<t.length;l++){let u=t[l].p(i);if(a=i.merge(a,u),!a.success)return a;o[l]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},r={},i={};for(let a in e)i[a]=n.reference(()=>e[a](t,i)),Object.defineProperty(r,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](r,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new di.Parser(function(r){let i;for(let a of e){let o=a,l=r.copy(),s=o.p(l);if(i=r.merge(i,s),i.success)return r.moveToPosition(l.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(n.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new di.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,Zc.validateRegexFlags)(e.flags);let r=e.source;return t!==void 0?new di.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let s=t!=null?t:0;if(s>=0&&s<=l.length){let c=l[0],f=l[s];return a.succeedOffset(c.length,f)}let u="expected valid match group (0 to "+l.length+") in "+r;return a.fail(u)}else return a.fail(r)}):new di.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let s=l[0];return a.succeedOffset(s.length,s)}else return a.fail(r)})}static succeed(e){return new di.Parser(function(r){return r.succeed(e)})}static fail(e){return new di.Parser(function(r){return r.fail(e)})}static oneOf(e){return Zc.P_HELPERS.test(function(r){return e.includes(r)}).describe(`one character of '${e}'`)}static noneOf(e){return Zc.P_HELPERS.test(function(r){return!e.includes(r)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new di.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&e.includes(r.input[i]);i++);return r.succeedAt(i,r.sliceTo(i))})}static manyNotOf(e){return new di.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&!e.includes(r.input[i]);i++);return r.succeedAt(i,r.sliceTo(i))})}static custom(e){return new di.Parser(e)}static range(e,t){let r=e.charCodeAt(0),i=t.charCodeAt(0);return Zc.P_HELPERS.test(function(o){let l=o.charCodeAt(0);return r<=l&&l<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new di.Parser(function(r){let i=r.position.index;for(;i<r.input.length&&e(r.input[i]);)i++;return r.succeedAt(i,r.input.slice(r.position.index,i))})}static reference(e){return new di.Parser(function(r){return e().p(r)})}};Jc.P=Nh});var KA=an(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ParsingError=Xs.createParsingErrorMessage=void 0;function QA(n,e,t){let r=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${r} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=n.split(`
    `)[e.furthest.line-1],l=`${e.furthest.line} |   `;i+=`
    
    ${l}${o}`,i+=`
    ${" ".repeat(e.furthest.column-1+l.length)}^ (${r})`}return i}Xs.createParsingErrorMessage=QA;var Dh=class extends Error{constructor(e,t){super(QA(e,t,!0))}};Xs.ParsingError=Dh});var Yc=an(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.Parser=void 0;var L6=XA(),Ii=hi(),Eh=Wc(),Qs=Pi(),U6=KA(),Mh=class n{constructor(e){this.p=e}tryParse(e){return this.p(new L6.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new U6.ParsingError(e,t)}or(e){return Ii.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(Ii.P.string(e))}wrap(e,t){let r=this;return new n(function(a){let o=e.p(a);if(!o.success)return o;let l=a.merge(o,r.p(a));if(!l.success)return l;let s=a.merge(l,t.p(a));return s.success?a.merge(s,a.succeed(l.value)):s})}wrapString(e,t){return this.wrap(Ii.P.string(e),Ii.P.string(t))}then(e){let t=this;return new n(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new n(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return Ii.P.sequence(this,e)}many(){let e=this;return new n(function(r){let i,a=r.position.index,o=[];for(;;){let l=r.copy(),s=e.p(l);if(i=r.merge(i,s),i.success){if(l.position.index===a)throw new Error("infinite loop in many() parser detected");r.moveToPosition(l.position),o.push(i.value)}else return r.merge(i,r.succeed(o))}})}repeat(e,t){(0,Eh.validateRange)(e,t);let r=this;return new n(function(a){let o,l,s=[],u=0;for(;u<e;u++)if(o=r.p(a),l=a.merge(l,o),o.success)s.push(o.value);else return l;for(;u<t;u++){let c=a.copy();if(o=r.p(c),l=a.merge(l,o),o.success)a.moveToPosition(c.position),s.push(o.value);else break}return a.merge(l,a.succeed(s))})}atMost(e){return this.repeat(0,e)}atLeast(e){return Ii.P.sequenceMap((t,r)=>t.concat(r),this.repeat(e,e),this.many())}separateBy(e){return Ii.P.separateBy(this,e)}separateByNotEmpty(e){return Ii.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new n(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return Ii.P.sequenceMap(function(t,r,i){return{value:r,range:{from:t,to:i}}},Qs.P_UTILS.position(),this,Qs.P_UTILS.position())}namedMarker(e){return Ii.P.sequenceMap(function(r,i,a){return{value:i,name:e,range:{from:r,to:a}}},Qs.P_UTILS.position(),this,Qs.P_UTILS.position())}node(e){return Ii.P.sequenceMap(function(r,i,a){return e(i,{from:r,to:a})},Qs.P_UTILS.position(),this,Qs.P_UTILS.position())}followedBy(e){return this.skip(Eh.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Eh.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new n(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new n(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(Ii.P.succeed(e))}chain(e){let t=this;return new n(function(i){let a=t.p(i);if(!a.success)return a;let l=e(a.value).p(i);return i.merge(a,l)})}thenEof(){let e=this;return new n(function(r){let i=e.p(r);return i.success?r.atEOF()?i:r.merge(i,r.fail("eof")):i})}memorize(){let e=this,t="",r=new Map,i=new Map;return new n(function(o){let l=o.position.index;if(o.input!==t)t=o.input,r.clear(),i.clear();else{let u=r.get(l),c=i.get(l);if(u!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},u)}let s=e.p(o);return r.set(l,Object.assign({},s)),i.set(l,o.getPosition()),s})}};Xc.Parser=Mh});var Pi=an(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.P_UTILS=void 0;var Qc=Yc(),Er=hi(),Ch=class n{static position(){return new Qc.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Qc.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Qc.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Qc.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return Er.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return Er.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return Er.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return Er.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return Er.P.regexp(new RegExp("^\\p{L}","iu")).describe("a unicode letter")}static unicodeLetters(){return Er.P.regexp(new RegExp("^\\p{L}+","iu")).describe("multiple unicode letters")}static unicodeAlphanumeric(){return Er.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return Er.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return Er.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return Er.P.regexp(/^\s+/).describe("whitespace")}static cr(){return Er.P.string("\r")}static lf(){return Er.P.string(`
    `)}static crlf(){return Er.P.string(`\r
    `)}static newline(){return Er.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,r){return Er.P.sequenceMap((i,a)=>i.reduce((o,l)=>r(l,o),a),e.many(),t)}static postfix(e,t,r){return Er.P.sequenceMap((i,a)=>a.reduce((o,l)=>r(l,o),i),t,e.many())}static binaryRight(e,t,r){return Er.P.sequenceMap((i,a)=>i.reverse().reduce((o,l)=>{let[s,u]=l;return r(s,u,o)},a),Er.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,r){return Er.P.sequenceMap((i,a)=>a.reduce((o,l)=>{let[s,u]=l;return r(o,s,u)},i),t,Er.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,r){return Er.P.sequenceMap((i,a,o)=>i.reverse().reduce((l,s)=>{let[u,c,f]=s;return r({from:u,to:o},c,f,l)},a),Er.P.sequence(n.position(),t,e.trim(this.optionalWhitespace())).many(),t,n.position())}static binaryLeftRange(e,t,r){return Er.P.sequenceMap((i,a,o)=>o.reduce((l,s)=>{let[u,c,f]=s;return r({from:i,to:f},l,u,c)},a),n.position(),t,Er.P.sequence(e.trim(this.optionalWhitespace()),t,n.position()).many())}static func(e,t,r){let i=typeof e=="string"?Er.P.string(e):e;return Er.P.sequenceMap((a,o,l,s,u,c)=>r(a,s),i,Er.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),Er.P.string(")"))}};Kc.P_UTILS=Ch});var Nl=an((Jh,fu)=>{(function(n,e){typeof Jh=="object"&&typeof fu!="undefined"?fu.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(Jh,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(g){n=g}function r(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function i(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function a(g,A){return Object.prototype.hasOwnProperty.call(g,A)}function o(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;var A;for(A in g)if(a(g,A))return!1;return!0}function l(g){return g===void 0}function s(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function u(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function c(g,A){var I=[],k,$=g.length;for(k=0;k<$;++k)I.push(A(g[k],k));return I}function f(g,A){for(var I in A)a(A,I)&&(g[I]=A[I]);return a(A,"toString")&&(g.toString=A.toString),a(A,"valueOf")&&(g.valueOf=A.valueOf),g}function p(g,A,I,k){return wA(g,A,I,k,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(g){return g._pf==null&&(g._pf=m()),g._pf}var d;Array.prototype.some?d=Array.prototype.some:d=function(g){var A=Object(this),I=A.length>>>0,k;for(k=0;k<I;k++)if(k in A&&g.call(this,A[k],k,A))return!0;return!1};function v(g){var A=null,I=!1,k=g._d&&!isNaN(g._d.getTime());if(k&&(A=h(g),I=d.call(A.parsedDateParts,function($){return $!=null}),k=A.overflow<0&&!A.empty&&!A.invalidEra&&!A.invalidMonth&&!A.invalidWeekday&&!A.weekdayMismatch&&!A.nullInput&&!A.invalidFormat&&!A.userInvalidated&&(!A.meridiem||A.meridiem&&I),g._strict&&(k=k&&A.charsLeftOver===0&&A.unusedTokens.length===0&&A.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(g))g._isValid=k;else return k;return g._isValid}function b(g){var A=p(NaN);return g!=null?f(h(A),g):h(A).userInvalidated=!0,A}var S=e.momentProperties=[],y=!1;function w(g,A){var I,k,$,se=S.length;if(l(A._isAMomentObject)||(g._isAMomentObject=A._isAMomentObject),l(A._i)||(g._i=A._i),l(A._f)||(g._f=A._f),l(A._l)||(g._l=A._l),l(A._strict)||(g._strict=A._strict),l(A._tzm)||(g._tzm=A._tzm),l(A._isUTC)||(g._isUTC=A._isUTC),l(A._offset)||(g._offset=A._offset),l(A._pf)||(g._pf=h(A)),l(A._locale)||(g._locale=A._locale),se>0)for(I=0;I<se;I++)k=S[I],$=A[k],l($)||(g[k]=$);return g}function _(g){w(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),y===!1&&(y=!0,e.updateOffset(this),y=!1)}function x(g){return g instanceof _||g!=null&&g._isAMomentObject!=null}function M(g){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+g)}function D(g,A){var I=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,g),I){var k=[],$,se,Te,ut=arguments.length;for(se=0;se<ut;se++){if($="",typeof arguments[se]=="object"){$+=`
    [`+se+"] ";for(Te in arguments[0])a(arguments[0],Te)&&($+=Te+": "+arguments[0][Te]+", ");$=$.slice(0,-2)}else $=arguments[se];k.push($)}M(g+`
    Arguments: `+Array.prototype.slice.call(k).join("")+`
    `+new Error().stack),I=!1}return A.apply(this,arguments)},A)}var N={};function E(g,A){e.deprecationHandler!=null&&e.deprecationHandler(g,A),N[g]||(M(A),N[g]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function P(g){return typeof Function!="undefined"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function O(g){var A,I;for(I in g)a(g,I)&&(A=g[I],P(A)?this[I]=A:this["_"+I]=A);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U(g,A){var I=f({},g),k;for(k in A)a(A,k)&&(i(g[k])&&i(A[k])?(I[k]={},f(I[k],g[k]),f(I[k],A[k])):A[k]!=null?I[k]=A[k]:delete I[k]);for(k in g)a(g,k)&&!a(A,k)&&i(g[k])&&(I[k]=f({},I[k]));return I}function z(g){g!=null&&this.set(g)}var L;Object.keys?L=Object.keys:L=function(g){var A,I=[];for(A in g)a(g,A)&&I.push(A);return I};var B={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function T(g,A,I){var k=this._calendar[g]||this._calendar.sameElse;return P(k)?k.call(A,I):k}function G(g,A,I){var k=""+Math.abs(g),$=A-k.length,se=g>=0;return(se?I?"+":"":"-")+Math.pow(10,Math.max(0,$)).toString().substr(1)+k}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ie=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},H={};function V(g,A,I,k){var $=k;typeof k=="string"&&($=function(){return this[k]()}),g&&(H[g]=$),A&&(H[A[0]]=function(){return G($.apply(this,arguments),A[1],A[2])}),I&&(H[I]=function(){return this.localeData().ordinal($.apply(this,arguments),g)})}function fe(g){return g.match(/\[[\s\S]/)?g.replace(/^\[|\]$/g,""):g.replace(/\\/g,"")}function _e(g){var A=g.match(R),I,k;for(I=0,k=A.length;I<k;I++)H[A[I]]?A[I]=H[A[I]]:A[I]=fe(A[I]);return function($){var se="",Te;for(Te=0;Te<k;Te++)se+=P(A[Te])?A[Te].call($,g):A[Te];return se}}function pe(g,A){return g.isValid()?(A=de(A,g.localeData()),j[A]=j[A]||_e(A),j[A](g)):g.localeData().invalidDate()}function de(g,A){var I=5;function k($){return A.longDateFormat($)||$}for(ie.lastIndex=0;I>=0&&ie.test(g);)g=g.replace(ie,k),ie.lastIndex=0,I-=1;return g}var we={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function he(g){var A=this._longDateFormat[g],I=this._longDateFormat[g.toUpperCase()];return A||!I?A:(this._longDateFormat[g]=I.match(R).map(function(k){return k==="MMMM"||k==="MM"||k==="DD"||k==="dddd"?k.slice(1):k}).join(""),this._longDateFormat[g])}var ve="Invalid date";function xe(){return this._invalidDate}var Ce="%d",ze=/\d{1,2}/;function tt(g){return this._ordinal.replace("%d",g)}var Y={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function K(g,A,I,k){var $=this._relativeTime[I];return P($)?$(g,A,I,k):$.replace(/%d/i,g)}function ge(g,A){var I=this._relativeTime[g>0?"future":"past"];return P(I)?I(A):I.replace(/%s/i,A)}var X={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(g){return typeof g=="string"?X[g]||X[g.toLowerCase()]:void 0}function ue(g){var A={},I,k;for(k in g)a(g,k)&&(I=ne(k),I&&(A[I]=g[k]));return A}var De={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ee(g){var A=[],I;for(I in g)a(g,I)&&A.push({unit:I,priority:De[I]});return A.sort(function(k,$){return k.priority-$.priority}),A}var Ze=/\d/,Fe=/\d\d/,wt=/\d{3}/,Ct=/\d{4}/,Xt=/[+-]?\d{6}/,bt=/\d\d?/,Q=/\d\d\d\d?/,ce=/\d\d\d\d\d\d?/,ye=/\d{1,3}/,ke=/\d{1,4}/,qe=/[+-]?\d{1,6}/,Be=/\d+/,Ve=/[+-]?\d+/,He=/Z|[+-]\d\d:?\d\d/gi,F=/Z|[+-]\d\d(?::?\d\d)?/gi,W=/[+-]?\d+(\.\d{1,3})?/,me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Oe=/^[1-9]\d?/,ot=/^([1-9]\d|\d)/,dt;dt={};function Ye(g,A,I){dt[g]=P(A)?A:function(k,$){return k&&I?I:A}}function Wn(g,A){return a(dt,g)?dt[g](A._strict,A._locale):new RegExp(pi(g))}function pi(g){return Cn(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(A,I,k,$,se){return I||k||$||se}))}function Cn(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function wn(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function er(g){var A=+g,I=0;return A!==0&&isFinite(A)&&(I=wn(A)),I}var ol={};function wr(g,A){var I,k=A,$;for(typeof g=="string"&&(g=[g]),s(A)&&(k=function(se,Te){Te[A]=er(se)}),$=g.length,I=0;I<$;I++)ol[g[I]]=k}function Xo(g,A){wr(g,function(I,k,$,se){$._w=$._w||{},A(I,$._w,$,se)})}function zd(g,A,I){A!=null&&a(ol,g)&&ol[g](A,I._a,I,g)}function zs(g){return g%4===0&&g%100!==0||g%400===0}var hn=0,Zi=1,Ti=2,en=3,mi=4,Ji=5,Ia=6,$d=7,Hd=8;V("Y",0,0,function(){var g=this.year();return g<=9999?G(g,4):"+"+g}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),Ye("Y",Ve),Ye("YY",bt,Fe),Ye("YYYY",ke,Ct),Ye("YYYYY",qe,Xt),Ye("YYYYYY",qe,Xt),wr(["YYYYY","YYYYYY"],hn),wr("YYYY",function(g,A){A[hn]=g.length===2?e.parseTwoDigitYear(g):er(g)}),wr("YY",function(g,A){A[hn]=e.parseTwoDigitYear(g)}),wr("Y",function(g,A){A[hn]=parseInt(g,10)});function Qo(g){return zs(g)?366:365}e.parseTwoDigitYear=function(g){return er(g)+(er(g)>68?1900:2e3)};var Sc=io("FullYear",!0);function Gd(){return zs(this.year())}function io(g,A){return function(I){return I!=null?(Ac(this,g,I),e.updateOffset(this,A),this):Ko(this,g)}}function Ko(g,A){if(!g.isValid())return NaN;var I=g._d,k=g._isUTC;switch(A){case"Milliseconds":return k?I.getUTCMilliseconds():I.getMilliseconds();case"Seconds":return k?I.getUTCSeconds():I.getSeconds();case"Minutes":return k?I.getUTCMinutes():I.getMinutes();case"Hours":return k?I.getUTCHours():I.getHours();case"Date":return k?I.getUTCDate():I.getDate();case"Day":return k?I.getUTCDay():I.getDay();case"Month":return k?I.getUTCMonth():I.getMonth();case"FullYear":return k?I.getUTCFullYear():I.getFullYear();default:return NaN}}function Ac(g,A,I){var k,$,se,Te,ut;if(!(!g.isValid()||isNaN(I))){switch(k=g._d,$=g._isUTC,A){case"Milliseconds":return void($?k.setUTCMilliseconds(I):k.setMilliseconds(I));case"Seconds":return void($?k.setUTCSeconds(I):k.setSeconds(I));case"Minutes":return void($?k.setUTCMinutes(I):k.setMinutes(I));case"Hours":return void($?k.setUTCHours(I):k.setHours(I));case"Date":return void($?k.setUTCDate(I):k.setDate(I));case"FullYear":break;default:return}se=I,Te=g.month(),ut=g.date(),ut=ut===29&&Te===1&&!zs(se)?28:ut,$?k.setUTCFullYear(se,Te,ut):k.setFullYear(se,Te,ut)}}function Wd(g){return g=ne(g),P(this[g])?this[g]():this}function Yd(g,A){if(typeof g=="object"){g=ue(g);var I=Ee(g),k,$=I.length;for(k=0;k<$;k++)this[I[k].unit](g[I[k].unit])}else if(g=ne(g),P(this[g]))return this[g](A);return this}function jd(g,A){return(g%A+A)%A}var Hr;Array.prototype.indexOf?Hr=Array.prototype.indexOf:Hr=function(g){var A;for(A=0;A<this.length;++A)if(this[A]===g)return A;return-1};function sl(g,A){if(isNaN(g)||isNaN(A))return NaN;var I=jd(A,12);return g+=(A-I)/12,I===1?zs(g)?29:28:31-I%7%2}V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),V("MMMM",0,0,function(g){return this.localeData().months(this,g)}),Ye("M",bt,Oe),Ye("MM",bt,Fe),Ye("MMM",function(g,A){return A.monthsShortRegex(g)}),Ye("MMMM",function(g,A){return A.monthsRegex(g)}),wr(["M","MM"],function(g,A){A[Zi]=er(g)-1}),wr(["MMM","MMMM"],function(g,A,I,k){var $=I._locale.monthsParse(g,k,I._strict);$!=null?A[Zi]=$:h(I).invalidMonth=g});var Zd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Nc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ao=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yr=me,Tn=me;function Jd(g,A){return g?r(this._months)?this._months[g.month()]:this._months[(this._months.isFormat||ao).test(A)?"format":"standalone"][g.month()]:r(this._months)?this._months:this._months.standalone}function $s(g,A){return g?r(this._monthsShort)?this._monthsShort[g.month()]:this._monthsShort[ao.test(A)?"format":"standalone"][g.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function es(g,A,I){var k,$,se,Te=g.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],k=0;k<12;++k)se=p([2e3,k]),this._shortMonthsParse[k]=this.monthsShort(se,"").toLocaleLowerCase(),this._longMonthsParse[k]=this.months(se,"").toLocaleLowerCase();return I?A==="MMM"?($=Hr.call(this._shortMonthsParse,Te),$!==-1?$:null):($=Hr.call(this._longMonthsParse,Te),$!==-1?$:null):A==="MMM"?($=Hr.call(this._shortMonthsParse,Te),$!==-1?$:($=Hr.call(this._longMonthsParse,Te),$!==-1?$:null)):($=Hr.call(this._longMonthsParse,Te),$!==-1?$:($=Hr.call(this._shortMonthsParse,Te),$!==-1?$:null))}function Xd(g,A,I){var k,$,se;if(this._monthsParseExact)return es.call(this,g,A,I);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),k=0;k<12;k++){if($=p([2e3,k]),I&&!this._longMonthsParse[k]&&(this._longMonthsParse[k]=new RegExp("^"+this.months($,"").replace(".","")+"$","i"),this._shortMonthsParse[k]=new RegExp("^"+this.monthsShort($,"").replace(".","")+"$","i")),!I&&!this._monthsParse[k]&&(se="^"+this.months($,"")+"|^"+this.monthsShort($,""),this._monthsParse[k]=new RegExp(se.replace(".",""),"i")),I&&A==="MMMM"&&this._longMonthsParse[k].test(g))return k;if(I&&A==="MMM"&&this._shortMonthsParse[k].test(g))return k;if(!I&&this._monthsParse[k].test(g))return k}}function lA(g,A){if(!g.isValid())return g;if(typeof A=="string"){if(/^\d+$/.test(A))A=er(A);else if(A=g.localeData().monthsParse(A),!s(A))return g}var I=A,k=g.date();return k=k<29?k:Math.min(k,sl(g.year(),I)),g._isUTC?g._d.setUTCMonth(I,k):g._d.setMonth(I,k),g}function cA(g){return g!=null?(lA(this,g),e.updateOffset(this,!0),this):Ko(this,"Month")}function a8(){return sl(this.year(),this.month())}function o8(g){return this._monthsParseExact?(a(this,"_monthsRegex")||fA.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=yr),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)}function s8(g){return this._monthsParseExact?(a(this,"_monthsRegex")||fA.call(this),g?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Tn),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)}function fA(){function g(Rt,ur){return ur.length-Rt.length}var A=[],I=[],k=[],$,se,Te,ut;for($=0;$<12;$++)se=p([2e3,$]),Te=Cn(this.monthsShort(se,"")),ut=Cn(this.months(se,"")),A.push(Te),I.push(ut),k.push(ut),k.push(Te);A.sort(g),I.sort(g),k.sort(g),this._monthsRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+A.join("|")+")","i")}function u8(g,A,I,k,$,se,Te){var ut;return g<100&&g>=0?(ut=new Date(g+400,A,I,k,$,se,Te),isFinite(ut.getFullYear())&&ut.setFullYear(g)):ut=new Date(g,A,I,k,$,se,Te),ut}function ul(g){var A,I;return g<100&&g>=0?(I=Array.prototype.slice.call(arguments),I[0]=g+400,A=new Date(Date.UTC.apply(null,I)),isFinite(A.getUTCFullYear())&&A.setUTCFullYear(g)):A=new Date(Date.UTC.apply(null,arguments)),A}function Dc(g,A,I){var k=7+A-I,$=(7+ul(g,0,k).getUTCDay()-A)%7;return-$+k-1}function pA(g,A,I,k,$){var se=(7+I-k)%7,Te=Dc(g,k,$),ut=1+7*(A-1)+se+Te,Rt,ur;return ut<=0?(Rt=g-1,ur=Qo(Rt)+ut):ut>Qo(g)?(Rt=g+1,ur=ut-Qo(g)):(Rt=g,ur=ut),{year:Rt,dayOfYear:ur}}function ll(g,A,I){var k=Dc(g.year(),A,I),$=Math.floor((g.dayOfYear()-k-1)/7)+1,se,Te;return $<1?(Te=g.year()-1,se=$+Pa(Te,A,I)):$>Pa(g.year(),A,I)?(se=$-Pa(g.year(),A,I),Te=g.year()+1):(Te=g.year(),se=$),{week:se,year:Te}}function Pa(g,A,I){var k=Dc(g,A,I),$=Dc(g+1,A,I);return(Qo(g)-k+$)/7}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),Ye("w",bt,Oe),Ye("ww",bt,Fe),Ye("W",bt,Oe),Ye("WW",bt,Fe),Xo(["w","ww","W","WW"],function(g,A,I,k){A[k.substr(0,1)]=er(g)});function l8(g){return ll(g,this._week.dow,this._week.doy).week}var c8={dow:0,doy:6};function f8(){return this._week.dow}function p8(){return this._week.doy}function m8(g){var A=this.localeData().week(this);return g==null?A:this.add((g-A)*7,"d")}function d8(g){var A=ll(this,1,4).week;return g==null?A:this.add((g-A)*7,"d")}V("d",0,"do","day"),V("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),V("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),V("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),Ye("d",bt),Ye("e",bt),Ye("E",bt),Ye("dd",function(g,A){return A.weekdaysMinRegex(g)}),Ye("ddd",function(g,A){return A.weekdaysShortRegex(g)}),Ye("dddd",function(g,A){return A.weekdaysRegex(g)}),Xo(["dd","ddd","dddd"],function(g,A,I,k){var $=I._locale.weekdaysParse(g,k,I._strict);$!=null?A.d=$:h(I).invalidWeekday=g}),Xo(["d","e","E"],function(g,A,I,k){A[k]=er(g)});function h8(g,A){return typeof g!="string"?g:isNaN(g)?(g=A.weekdaysParse(g),typeof g=="number"?g:null):parseInt(g,10)}function g8(g,A){return typeof g=="string"?A.weekdaysParse(g)%7||7:isNaN(g)?null:g}function Qd(g,A){return g.slice(A,7).concat(g.slice(0,A))}var v8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mA="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),y8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),b8=me,x8=me,w8=me;function _8(g,A){var I=r(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(A)?"format":"standalone"];return g===!0?Qd(I,this._week.dow):g?I[g.day()]:I}function S8(g){return g===!0?Qd(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort}function A8(g){return g===!0?Qd(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin}function N8(g,A,I){var k,$,se,Te=g.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],k=0;k<7;++k)se=p([2e3,1]).day(k),this._minWeekdaysParse[k]=this.weekdaysMin(se,"").toLocaleLowerCase(),this._shortWeekdaysParse[k]=this.weekdaysShort(se,"").toLocaleLowerCase(),this._weekdaysParse[k]=this.weekdays(se,"").toLocaleLowerCase();return I?A==="dddd"?($=Hr.call(this._weekdaysParse,Te),$!==-1?$:null):A==="ddd"?($=Hr.call(this._shortWeekdaysParse,Te),$!==-1?$:null):($=Hr.call(this._minWeekdaysParse,Te),$!==-1?$:null):A==="dddd"?($=Hr.call(this._weekdaysParse,Te),$!==-1||($=Hr.call(this._shortWeekdaysParse,Te),$!==-1)?$:($=Hr.call(this._minWeekdaysParse,Te),$!==-1?$:null)):A==="ddd"?($=Hr.call(this._shortWeekdaysParse,Te),$!==-1||($=Hr.call(this._weekdaysParse,Te),$!==-1)?$:($=Hr.call(this._minWeekdaysParse,Te),$!==-1?$:null)):($=Hr.call(this._minWeekdaysParse,Te),$!==-1||($=Hr.call(this._weekdaysParse,Te),$!==-1)?$:($=Hr.call(this._shortWeekdaysParse,Te),$!==-1?$:null))}function D8(g,A,I){var k,$,se;if(this._weekdaysParseExact)return N8.call(this,g,A,I);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),k=0;k<7;k++){if($=p([2e3,1]).day(k),I&&!this._fullWeekdaysParse[k]&&(this._fullWeekdaysParse[k]=new RegExp("^"+this.weekdays($,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[k]=new RegExp("^"+this.weekdaysShort($,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[k]=new RegExp("^"+this.weekdaysMin($,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[k]||(se="^"+this.weekdays($,"")+"|^"+this.weekdaysShort($,"")+"|^"+this.weekdaysMin($,""),this._weekdaysParse[k]=new RegExp(se.replace(".",""),"i")),I&&A==="dddd"&&this._fullWeekdaysParse[k].test(g))return k;if(I&&A==="ddd"&&this._shortWeekdaysParse[k].test(g))return k;if(I&&A==="dd"&&this._minWeekdaysParse[k].test(g))return k;if(!I&&this._weekdaysParse[k].test(g))return k}}function E8(g){if(!this.isValid())return g!=null?this:NaN;var A=Ko(this,"Day");return g!=null?(g=h8(g,this.localeData()),this.add(g-A,"d")):A}function M8(g){if(!this.isValid())return g!=null?this:NaN;var A=(this.day()+7-this.localeData()._week.dow)%7;return g==null?A:this.add(g-A,"d")}function C8(g){if(!this.isValid())return g!=null?this:NaN;if(g!=null){var A=g8(g,this.localeData());return this.day(this.day()%7?A:A-7)}else return this.day()||7}function T8(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Kd.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=b8),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)}function F8(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Kd.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=x8),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function I8(g){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Kd.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=w8),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kd(){function g(Yn,La){return La.length-Yn.length}var A=[],I=[],k=[],$=[],se,Te,ut,Rt,ur;for(se=0;se<7;se++)Te=p([2e3,1]).day(se),ut=Cn(this.weekdaysMin(Te,"")),Rt=Cn(this.weekdaysShort(Te,"")),ur=Cn(this.weekdays(Te,"")),A.push(ut),I.push(Rt),k.push(ur),$.push(ut),$.push(Rt),$.push(ur);A.sort(g),I.sort(g),k.sort(g),$.sort(g),this._weekdaysRegex=new RegExp("^("+$.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+A.join("|")+")","i")}function eh(){return this.hours()%12||12}function P8(){return this.hours()||24}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,eh),V("k",["kk",2],0,P8),V("hmm",0,0,function(){return""+eh.apply(this)+G(this.minutes(),2)}),V("hmmss",0,0,function(){return""+eh.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)});function dA(g,A){V(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),A)})}dA("a",!0),dA("A",!1);function hA(g,A){return A._meridiemParse}Ye("a",hA),Ye("A",hA),Ye("H",bt,ot),Ye("h",bt,Oe),Ye("k",bt,Oe),Ye("HH",bt,Fe),Ye("hh",bt,Fe),Ye("kk",bt,Fe),Ye("hmm",Q),Ye("hmmss",ce),Ye("Hmm",Q),Ye("Hmmss",ce),wr(["H","HH"],en),wr(["k","kk"],function(g,A,I){var k=er(g);A[en]=k===24?0:k}),wr(["a","A"],function(g,A,I){I._isPm=I._locale.isPM(g),I._meridiem=g}),wr(["h","hh"],function(g,A,I){A[en]=er(g),h(I).bigHour=!0}),wr("hmm",function(g,A,I){var k=g.length-2;A[en]=er(g.substr(0,k)),A[mi]=er(g.substr(k)),h(I).bigHour=!0}),wr("hmmss",function(g,A,I){var k=g.length-4,$=g.length-2;A[en]=er(g.substr(0,k)),A[mi]=er(g.substr(k,2)),A[Ji]=er(g.substr($)),h(I).bigHour=!0}),wr("Hmm",function(g,A,I){var k=g.length-2;A[en]=er(g.substr(0,k)),A[mi]=er(g.substr(k))}),wr("Hmmss",function(g,A,I){var k=g.length-4,$=g.length-2;A[en]=er(g.substr(0,k)),A[mi]=er(g.substr(k,2)),A[Ji]=er(g.substr($))});function B8(g){return(g+"").toLowerCase().charAt(0)==="p"}var O8=/[ap]\.?m?\.?/i,k8=io("Hours",!0);function R8(g,A,I){return g>11?I?"pm":"PM":I?"am":"AM"}var gA={calendar:B,longDateFormat:we,invalidDate:ve,ordinal:Ce,dayOfMonthOrdinalParse:ze,relativeTime:Y,months:Zd,monthsShort:Nc,week:c8,weekdays:v8,weekdaysMin:y8,weekdaysShort:mA,meridiemParse:O8},Vr={},cl={},fl;function L8(g,A){var I,k=Math.min(g.length,A.length);for(I=0;I<k;I+=1)if(g[I]!==A[I])return I;return k}function vA(g){return g&&g.toLowerCase().replace("_","-")}function U8(g){for(var A=0,I,k,$,se;A<g.length;){for(se=vA(g[A]).split("-"),I=se.length,k=vA(g[A+1]),k=k?k.split("-"):null;I>0;){if($=Ec(se.slice(0,I).join("-")),$)return $;if(k&&k.length>=I&&L8(se,k)>=I-1)break;I--}A++}return fl}function V8(g){return!!(g&&g.match("^[^/\\\\]*$"))}function Ec(g){var A=null,I;if(Vr[g]===void 0&&typeof fu!="undefined"&&fu&&fu.exports&&V8(g))try{A=fl._abbr,I=dl,I("./locale/"+g),oo(A)}catch(k){Vr[g]=null}return Vr[g]}function oo(g,A){var I;return g&&(l(A)?I=Ba(g):I=th(g,A),I?fl=I:typeof console!="undefined"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),fl._abbr}function th(g,A){if(A!==null){var I,k=gA;if(A.abbr=g,Vr[g]!=null)E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),k=Vr[g]._config;else if(A.parentLocale!=null)if(Vr[A.parentLocale]!=null)k=Vr[A.parentLocale]._config;else if(I=Ec(A.parentLocale),I!=null)k=I._config;else return cl[A.parentLocale]||(cl[A.parentLocale]=[]),cl[A.parentLocale].push({name:g,config:A}),null;return Vr[g]=new z(U(k,A)),cl[g]&&cl[g].forEach(function($){th($.name,$.config)}),oo(g),Vr[g]}else return delete Vr[g],null}function q8(g,A){if(A!=null){var I,k,$=gA;Vr[g]!=null&&Vr[g].parentLocale!=null?Vr[g].set(U(Vr[g]._config,A)):(k=Ec(g),k!=null&&($=k._config),A=U($,A),k==null&&(A.abbr=g),I=new z(A),I.parentLocale=Vr[g],Vr[g]=I),oo(g)}else Vr[g]!=null&&(Vr[g].parentLocale!=null?(Vr[g]=Vr[g].parentLocale,g===oo()&&oo(g)):Vr[g]!=null&&delete Vr[g]);return Vr[g]}function Ba(g){var A;if(g&&g._locale&&g._locale._abbr&&(g=g._locale._abbr),!g)return fl;if(!r(g)){if(A=Ec(g),A)return A;g=[g]}return U8(g)}function z8(){return L(Vr)}function rh(g){var A,I=g._a;return I&&h(g).overflow===-2&&(A=I[Zi]<0||I[Zi]>11?Zi:I[Ti]<1||I[Ti]>sl(I[hn],I[Zi])?Ti:I[en]<0||I[en]>24||I[en]===24&&(I[mi]!==0||I[Ji]!==0||I[Ia]!==0)?en:I[mi]<0||I[mi]>59?mi:I[Ji]<0||I[Ji]>59?Ji:I[Ia]<0||I[Ia]>999?Ia:-1,h(g)._overflowDayOfYear&&(A<hn||A>Ti)&&(A=Ti),h(g)._overflowWeeks&&A===-1&&(A=$d),h(g)._overflowWeekday&&A===-1&&(A=Hd),h(g).overflow=A),g}var $8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,H8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,G8=/Z|[+-]\d\d(?::?\d\d)?/,Mc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],nh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],W8=/^\/?Date\((-?\d+)/i,Y8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,j8={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function yA(g){var A,I,k=g._i,$=$8.exec(k)||H8.exec(k),se,Te,ut,Rt,ur=Mc.length,Yn=nh.length;if($){for(h(g).iso=!0,A=0,I=ur;A<I;A++)if(Mc[A][1].exec($[1])){Te=Mc[A][0],se=Mc[A][2]!==!1;break}if(Te==null){g._isValid=!1;return}if($[3]){for(A=0,I=Yn;A<I;A++)if(nh[A][1].exec($[3])){ut=($[2]||" ")+nh[A][0];break}if(ut==null){g._isValid=!1;return}}if(!se&&ut!=null){g._isValid=!1;return}if($[4])if(G8.exec($[4]))Rt="Z";else{g._isValid=!1;return}g._f=Te+(ut||"")+(Rt||""),ah(g)}else g._isValid=!1}function Z8(g,A,I,k,$,se){var Te=[J8(g),Nc.indexOf(A),parseInt(I,10),parseInt(k,10),parseInt($,10)];return se&&Te.push(parseInt(se,10)),Te}function J8(g){var A=parseInt(g,10);return A<=49?2e3+A:A<=999?1900+A:A}function X8(g){return g.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Q8(g,A,I){if(g){var k=mA.indexOf(g),$=new Date(A[0],A[1],A[2]).getDay();if(k!==$)return h(I).weekdayMismatch=!0,I._isValid=!1,!1}return!0}function K8(g,A,I){if(g)return j8[g];if(A)return 0;var k=parseInt(I,10),$=k%100,se=(k-$)/100;return se*60+$}function bA(g){var A=Y8.exec(X8(g._i)),I;if(A){if(I=Z8(A[4],A[3],A[2],A[5],A[6],A[7]),!Q8(A[1],I,g))return;g._a=I,g._tzm=K8(A[8],A[9],A[10]),g._d=ul.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),h(g).rfc2822=!0}else g._isValid=!1}function eU(g){var A=W8.exec(g._i);if(A!==null){g._d=new Date(+A[1]);return}if(yA(g),g._isValid===!1)delete g._isValid;else return;if(bA(g),g._isValid===!1)delete g._isValid;else return;g._strict?g._isValid=!1:e.createFromInputFallback(g)}e.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))});function Hs(g,A,I){return g!=null?g:A!=null?A:I}function tU(g){var A=new Date(e.now());return g._useUTC?[A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()]:[A.getFullYear(),A.getMonth(),A.getDate()]}function ih(g){var A,I,k=[],$,se,Te;if(!g._d){for($=tU(g),g._w&&g._a[Ti]==null&&g._a[Zi]==null&&rU(g),g._dayOfYear!=null&&(Te=Hs(g._a[hn],$[hn]),(g._dayOfYear>Qo(Te)||g._dayOfYear===0)&&(h(g)._overflowDayOfYear=!0),I=ul(Te,0,g._dayOfYear),g._a[Zi]=I.getUTCMonth(),g._a[Ti]=I.getUTCDate()),A=0;A<3&&g._a[A]==null;++A)g._a[A]=k[A]=$[A];for(;A<7;A++)g._a[A]=k[A]=g._a[A]==null?A===2?1:0:g._a[A];g._a[en]===24&&g._a[mi]===0&&g._a[Ji]===0&&g._a[Ia]===0&&(g._nextDay=!0,g._a[en]=0),g._d=(g._useUTC?ul:u8).apply(null,k),se=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[en]=24),g._w&&typeof g._w.d!="undefined"&&g._w.d!==se&&(h(g).weekdayMismatch=!0)}}function rU(g){var A,I,k,$,se,Te,ut,Rt,ur;A=g._w,A.GG!=null||A.W!=null||A.E!=null?(se=1,Te=4,I=Hs(A.GG,g._a[hn],ll(Or(),1,4).year),k=Hs(A.W,1),$=Hs(A.E,1),($<1||$>7)&&(Rt=!0)):(se=g._locale._week.dow,Te=g._locale._week.doy,ur=ll(Or(),se,Te),I=Hs(A.gg,g._a[hn],ur.year),k=Hs(A.w,ur.week),A.d!=null?($=A.d,($<0||$>6)&&(Rt=!0)):A.e!=null?($=A.e+se,(A.e<0||A.e>6)&&(Rt=!0)):$=se),k<1||k>Pa(I,se,Te)?h(g)._overflowWeeks=!0:Rt!=null?h(g)._overflowWeekday=!0:(ut=pA(I,k,$,se,Te),g._a[hn]=ut.year,g._dayOfYear=ut.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function ah(g){if(g._f===e.ISO_8601){yA(g);return}if(g._f===e.RFC_2822){bA(g);return}g._a=[],h(g).empty=!0;var A=""+g._i,I,k,$,se,Te,ut=A.length,Rt=0,ur,Yn;for($=de(g._f,g._locale).match(R)||[],Yn=$.length,I=0;I<Yn;I++)se=$[I],k=(A.match(Wn(se,g))||[])[0],k&&(Te=A.substr(0,A.indexOf(k)),Te.length>0&&h(g).unusedInput.push(Te),A=A.slice(A.indexOf(k)+k.length),Rt+=k.length),H[se]?(k?h(g).empty=!1:h(g).unusedTokens.push(se),zd(se,k,g)):g._strict&&!k&&h(g).unusedTokens.push(se);h(g).charsLeftOver=ut-Rt,A.length>0&&h(g).unusedInput.push(A),g._a[en]<=12&&h(g).bigHour===!0&&g._a[en]>0&&(h(g).bigHour=void 0),h(g).parsedDateParts=g._a.slice(0),h(g).meridiem=g._meridiem,g._a[en]=nU(g._locale,g._a[en],g._meridiem),ur=h(g).era,ur!==null&&(g._a[hn]=g._locale.erasConvertYear(ur,g._a[hn])),ih(g),rh(g)}function nU(g,A,I){var k;return I==null?A:g.meridiemHour!=null?g.meridiemHour(A,I):(g.isPM!=null&&(k=g.isPM(I),k&&A<12&&(A+=12),!k&&A===12&&(A=0)),A)}function iU(g){var A,I,k,$,se,Te,ut=!1,Rt=g._f.length;if(Rt===0){h(g).invalidFormat=!0,g._d=new Date(NaN);return}for($=0;$<Rt;$++)se=0,Te=!1,A=w({},g),g._useUTC!=null&&(A._useUTC=g._useUTC),A._f=g._f[$],ah(A),v(A)&&(Te=!0),se+=h(A).charsLeftOver,se+=h(A).unusedTokens.length*10,h(A).score=se,ut?se<k&&(k=se,I=A):(k==null||se<k||Te)&&(k=se,I=A,Te&&(ut=!0));f(g,I||A)}function aU(g){if(!g._d){var A=ue(g._i),I=A.day===void 0?A.date:A.day;g._a=c([A.year,A.month,I,A.hour,A.minute,A.second,A.millisecond],function(k){return k&&parseInt(k,10)}),ih(g)}}function oU(g){var A=new _(rh(xA(g)));return A._nextDay&&(A.add(1,"d"),A._nextDay=void 0),A}function xA(g){var A=g._i,I=g._f;return g._locale=g._locale||Ba(g._l),A===null||I===void 0&&A===""?b({nullInput:!0}):(typeof A=="string"&&(g._i=A=g._locale.preparse(A)),x(A)?new _(rh(A)):(u(A)?g._d=A:r(I)?iU(g):I?ah(g):sU(g),v(g)||(g._d=null),g))}function sU(g){var A=g._i;l(A)?g._d=new Date(e.now()):u(A)?g._d=new Date(A.valueOf()):typeof A=="string"?eU(g):r(A)?(g._a=c(A.slice(0),function(I){return parseInt(I,10)}),ih(g)):i(A)?aU(g):s(A)?g._d=new Date(A):e.createFromInputFallback(g)}function wA(g,A,I,k,$){var se={};return(A===!0||A===!1)&&(k=A,A=void 0),(I===!0||I===!1)&&(k=I,I=void 0),(i(g)&&o(g)||r(g)&&g.length===0)&&(g=void 0),se._isAMomentObject=!0,se._useUTC=se._isUTC=$,se._l=I,se._i=g,se._f=A,se._strict=k,oU(se)}function Or(g,A,I,k){return wA(g,A,I,k,!1)}var uU=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Or.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:b()}),lU=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Or.apply(null,arguments);return this.isValid()&&g.isValid()?g>this?this:g:b()});function _A(g,A){var I,k;if(A.length===1&&r(A[0])&&(A=A[0]),!A.length)return Or();for(I=A[0],k=1;k<A.length;++k)(!A[k].isValid()||A[k][g](I))&&(I=A[k]);return I}function cU(){var g=[].slice.call(arguments,0);return _A("isBefore",g)}function fU(){var g=[].slice.call(arguments,0);return _A("isAfter",g)}var pU=function(){return Date.now?Date.now():+new Date},pl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mU(g){var A,I=!1,k,$=pl.length;for(A in g)if(a(g,A)&&!(Hr.call(pl,A)!==-1&&(g[A]==null||!isNaN(g[A]))))return!1;for(k=0;k<$;++k)if(g[pl[k]]){if(I)return!1;parseFloat(g[pl[k]])!==er(g[pl[k]])&&(I=!0)}return!0}function dU(){return this._isValid}function hU(){return Xi(NaN)}function Cc(g){var A=ue(g),I=A.year||0,k=A.quarter||0,$=A.month||0,se=A.week||A.isoWeek||0,Te=A.day||0,ut=A.hour||0,Rt=A.minute||0,ur=A.second||0,Yn=A.millisecond||0;this._isValid=mU(A),this._milliseconds=+Yn+ur*1e3+Rt*6e4+ut*1e3*60*60,this._days=+Te+se*7,this._months=+$+k*3+I*12,this._data={},this._locale=Ba(),this._bubble()}function Tc(g){return g instanceof Cc}function oh(g){return g<0?Math.round(-1*g)*-1:Math.round(g)}function gU(g,A,I){var k=Math.min(g.length,A.length),$=Math.abs(g.length-A.length),se=0,Te;for(Te=0;Te<k;Te++)(I&&g[Te]!==A[Te]||!I&&er(g[Te])!==er(A[Te]))&&se++;return se+$}function SA(g,A){V(g,0,0,function(){var I=this.utcOffset(),k="+";return I<0&&(I=-I,k="-"),k+G(~~(I/60),2)+A+G(~~I%60,2)})}SA("Z",":"),SA("ZZ",""),Ye("Z",F),Ye("ZZ",F),wr(["Z","ZZ"],function(g,A,I){I._useUTC=!0,I._tzm=sh(F,g)});var vU=/([\+\-]|\d\d)/gi;function sh(g,A){var I=(A||"").match(g),k,$,se;return I===null?null:(k=I[I.length-1]||[],$=(k+"").match(vU)||["-",0,0],se=+($[1]*60)+er($[2]),se===0?0:$[0]==="+"?se:-se)}function uh(g,A){var I,k;return A._isUTC?(I=A.clone(),k=(x(g)||u(g)?g.valueOf():Or(g).valueOf())-I.valueOf(),I._d.setTime(I._d.valueOf()+k),e.updateOffset(I,!1),I):Or(g).local()}function lh(g){return-Math.round(g._d.getTimezoneOffset())}e.updateOffset=function(){};function yU(g,A,I){var k=this._offset||0,$;if(!this.isValid())return g!=null?this:NaN;if(g!=null){if(typeof g=="string"){if(g=sh(F,g),g===null)return this}else Math.abs(g)<16&&!I&&(g=g*60);return!this._isUTC&&A&&($=lh(this)),this._offset=g,this._isUTC=!0,$!=null&&this.add($,"m"),k!==g&&(!A||this._changeInProgress?EA(this,Xi(g-k,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?k:lh(this)}function bU(g,A){return g!=null?(typeof g!="string"&&(g=-g),this.utcOffset(g,A),this):-this.utcOffset()}function xU(g){return this.utcOffset(0,g)}function wU(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(lh(this),"m")),this}function _U(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var g=sh(He,this._i);g!=null?this.utcOffset(g):this.utcOffset(0,!0)}return this}function SU(g){return this.isValid()?(g=g?Or(g).utcOffset():0,(this.utcOffset()-g)%60===0):!1}function AU(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function NU(){if(!l(this._isDSTShifted))return this._isDSTShifted;var g={},A;return w(g,this),g=xA(g),g._a?(A=g._isUTC?p(g._a):Or(g._a),this._isDSTShifted=this.isValid()&&gU(g._a,A.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function DU(){return this.isValid()?!this._isUTC:!1}function EU(){return this.isValid()?this._isUTC:!1}function AA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var MU=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,CU=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xi(g,A){var I=g,k=null,$,se,Te;return Tc(g)?I={ms:g._milliseconds,d:g._days,M:g._months}:s(g)||!isNaN(+g)?(I={},A?I[A]=+g:I.milliseconds=+g):(k=MU.exec(g))?($=k[1]==="-"?-1:1,I={y:0,d:er(k[Ti])*$,h:er(k[en])*$,m:er(k[mi])*$,s:er(k[Ji])*$,ms:er(oh(k[Ia]*1e3))*$}):(k=CU.exec(g))?($=k[1]==="-"?-1:1,I={y:ts(k[2],$),M:ts(k[3],$),w:ts(k[4],$),d:ts(k[5],$),h:ts(k[6],$),m:ts(k[7],$),s:ts(k[8],$)}):I==null?I={}:typeof I=="object"&&("from"in I||"to"in I)&&(Te=TU(Or(I.from),Or(I.to)),I={},I.ms=Te.milliseconds,I.M=Te.months),se=new Cc(I),Tc(g)&&a(g,"_locale")&&(se._locale=g._locale),Tc(g)&&a(g,"_isValid")&&(se._isValid=g._isValid),se}Xi.fn=Cc.prototype,Xi.invalid=hU;function ts(g,A){var I=g&&parseFloat(g.replace(",","."));return(isNaN(I)?0:I)*A}function NA(g,A){var I={};return I.months=A.month()-g.month()+(A.year()-g.year())*12,g.clone().add(I.months,"M").isAfter(A)&&--I.months,I.milliseconds=+A-+g.clone().add(I.months,"M"),I}function TU(g,A){var I;return g.isValid()&&A.isValid()?(A=uh(A,g),g.isBefore(A)?I=NA(g,A):(I=NA(A,g),I.milliseconds=-I.milliseconds,I.months=-I.months),I):{milliseconds:0,months:0}}function DA(g,A){return function(I,k){var $,se;return k!==null&&!isNaN(+k)&&(E(A,"moment()."+A+"(period, number) is deprecated. Please use moment()."+A+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),se=I,I=k,k=se),$=Xi(I,k),EA(this,$,g),this}}function EA(g,A,I,k){var $=A._milliseconds,se=oh(A._days),Te=oh(A._months);g.isValid()&&(k=k==null?!0:k,Te&&lA(g,Ko(g,"Month")+Te*I),se&&Ac(g,"Date",Ko(g,"Date")+se*I),$&&g._d.setTime(g._d.valueOf()+$*I),k&&e.updateOffset(g,se||Te))}var FU=DA(1,"add"),IU=DA(-1,"subtract");function MA(g){return typeof g=="string"||g instanceof String}function PU(g){return x(g)||u(g)||MA(g)||s(g)||OU(g)||BU(g)||g===null||g===void 0}function BU(g){var A=i(g)&&!o(g),I=!1,k=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],$,se,Te=k.length;for($=0;$<Te;$+=1)se=k[$],I=I||a(g,se);return A&&I}function OU(g){var A=r(g),I=!1;return A&&(I=g.filter(function(k){return!s(k)&&MA(g)}).length===0),A&&I}function kU(g){var A=i(g)&&!o(g),I=!1,k=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],$,se;for($=0;$<k.length;$+=1)se=k[$],I=I||a(g,se);return A&&I}function RU(g,A){var I=g.diff(A,"days",!0);return I<-6?"sameElse":I<-1?"lastWeek":I<0?"lastDay":I<1?"sameDay":I<2?"nextDay":I<7?"nextWeek":"sameElse"}function LU(g,A){arguments.length===1&&(arguments[0]?PU(arguments[0])?(g=arguments[0],A=void 0):kU(arguments[0])&&(A=arguments[0],g=void 0):(g=void 0,A=void 0));var I=g||Or(),k=uh(I,this).startOf("day"),$=e.calendarFormat(this,k)||"sameElse",se=A&&(P(A[$])?A[$].call(this,I):A[$]);return this.format(se||this.localeData().calendar($,this,Or(I)))}function UU(){return new _(this)}function VU(g,A){var I=x(g)?g:Or(g);return this.isValid()&&I.isValid()?(A=ne(A)||"millisecond",A==="millisecond"?this.valueOf()>I.valueOf():I.valueOf()<this.clone().startOf(A).valueOf()):!1}function qU(g,A){var I=x(g)?g:Or(g);return this.isValid()&&I.isValid()?(A=ne(A)||"millisecond",A==="millisecond"?this.valueOf()<I.valueOf():this.clone().endOf(A).valueOf()<I.valueOf()):!1}function zU(g,A,I,k){var $=x(g)?g:Or(g),se=x(A)?A:Or(A);return this.isValid()&&$.isValid()&&se.isValid()?(k=k||"()",(k[0]==="("?this.isAfter($,I):!this.isBefore($,I))&&(k[1]===")"?this.isBefore(se,I):!this.isAfter(se,I))):!1}function $U(g,A){var I=x(g)?g:Or(g),k;return this.isValid()&&I.isValid()?(A=ne(A)||"millisecond",A==="millisecond"?this.valueOf()===I.valueOf():(k=I.valueOf(),this.clone().startOf(A).valueOf()<=k&&k<=this.clone().endOf(A).valueOf())):!1}function HU(g,A){return this.isSame(g,A)||this.isAfter(g,A)}function GU(g,A){return this.isSame(g,A)||this.isBefore(g,A)}function WU(g,A,I){var k,$,se;if(!this.isValid())return NaN;if(k=uh(g,this),!k.isValid())return NaN;switch($=(k.utcOffset()-this.utcOffset())*6e4,A=ne(A),A){case"year":se=Fc(this,k)/12;break;case"month":se=Fc(this,k);break;case"quarter":se=Fc(this,k)/3;break;case"second":se=(this-k)/1e3;break;case"minute":se=(this-k)/6e4;break;case"hour":se=(this-k)/36e5;break;case"day":se=(this-k-$)/864e5;break;case"week":se=(this-k-$)/6048e5;break;default:se=this-k}return I?se:wn(se)}function Fc(g,A){if(g.date()<A.date())return-Fc(A,g);var I=(A.year()-g.year())*12+(A.month()-g.month()),k=g.clone().add(I,"months"),$,se;return A-k<0?($=g.clone().add(I-1,"months"),se=(A-k)/(k-$)):($=g.clone().add(I+1,"months"),se=(A-k)/($-k)),-(I+se)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function YU(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jU(g){if(!this.isValid())return null;var A=g!==!0,I=A?this.clone().utc():this;return I.year()<0||I.year()>9999?pe(I,A?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?A?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pe(I,"Z")):pe(I,A?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ZU(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g="moment",A="",I,k,$,se;return this.isLocal()||(g=this.utcOffset()===0?"moment.utc":"moment.parseZone",A="Z"),I="["+g+'("]',k=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",$="-MM-DD[T]HH:mm:ss.SSS",se=A+'[")]',this.format(I+k+$+se)}function JU(g){g||(g=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var A=pe(this,g);return this.localeData().postformat(A)}function XU(g,A){return this.isValid()&&(x(g)&&g.isValid()||Or(g).isValid())?Xi({to:this,from:g}).locale(this.locale()).humanize(!A):this.localeData().invalidDate()}function QU(g){return this.from(Or(),g)}function KU(g,A){return this.isValid()&&(x(g)&&g.isValid()||Or(g).isValid())?Xi({from:this,to:g}).locale(this.locale()).humanize(!A):this.localeData().invalidDate()}function eV(g){return this.to(Or(),g)}function CA(g){var A;return g===void 0?this._locale._abbr:(A=Ba(g),A!=null&&(this._locale=A),this)}var TA=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function FA(){return this._locale}var Ic=1e3,Gs=60*Ic,Pc=60*Gs,IA=(365*400+97)*24*Pc;function Ws(g,A){return(g%A+A)%A}function PA(g,A,I){return g<100&&g>=0?new Date(g+400,A,I)-IA:new Date(g,A,I).valueOf()}function BA(g,A,I){return g<100&&g>=0?Date.UTC(g+400,A,I)-IA:Date.UTC(g,A,I)}function tV(g){var A,I;if(g=ne(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?BA:PA,g){case"year":A=I(this.year(),0,1);break;case"quarter":A=I(this.year(),this.month()-this.month()%3,1);break;case"month":A=I(this.year(),this.month(),1);break;case"week":A=I(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":A=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":A=I(this.year(),this.month(),this.date());break;case"hour":A=this._d.valueOf(),A-=Ws(A+(this._isUTC?0:this.utcOffset()*Gs),Pc);break;case"minute":A=this._d.valueOf(),A-=Ws(A,Gs);break;case"second":A=this._d.valueOf(),A-=Ws(A,Ic);break}return this._d.setTime(A),e.updateOffset(this,!0),this}function rV(g){var A,I;if(g=ne(g),g===void 0||g==="millisecond"||!this.isValid())return this;switch(I=this._isUTC?BA:PA,g){case"year":A=I(this.year()+1,0,1)-1;break;case"quarter":A=I(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":A=I(this.year(),this.month()+1,1)-1;break;case"week":A=I(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":A=I(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":A=I(this.year(),this.month(),this.date()+1)-1;break;case"hour":A=this._d.valueOf(),A+=Pc-Ws(A+(this._isUTC?0:this.utcOffset()*Gs),Pc)-1;break;case"minute":A=this._d.valueOf(),A+=Gs-Ws(A,Gs)-1;break;case"second":A=this._d.valueOf(),A+=Ic-Ws(A,Ic)-1;break}return this._d.setTime(A),e.updateOffset(this,!0),this}function nV(){return this._d.valueOf()-(this._offset||0)*6e4}function iV(){return Math.floor(this.valueOf()/1e3)}function aV(){return new Date(this.valueOf())}function oV(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]}function sV(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}}function uV(){return this.isValid()?this.toISOString():null}function lV(){return v(this)}function cV(){return f({},h(this))}function fV(){return h(this).overflow}function pV(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Ye("N",ch),Ye("NN",ch),Ye("NNN",ch),Ye("NNNN",SV),Ye("NNNNN",AV),wr(["N","NN","NNN","NNNN","NNNNN"],function(g,A,I,k){var $=I._locale.erasParse(g,k,I._strict);$?h(I).era=$:h(I).invalidEra=g}),Ye("y",Be),Ye("yy",Be),Ye("yyy",Be),Ye("yyyy",Be),Ye("yo",NV),wr(["y","yy","yyy","yyyy"],hn),wr(["yo"],function(g,A,I,k){var $;I._locale._eraYearOrdinalRegex&&($=g.match(I._locale._eraYearOrdinalRegex)),I._locale.eraYearOrdinalParse?A[hn]=I._locale.eraYearOrdinalParse(g,$):A[hn]=parseInt(g,10)});function mV(g,A){var I,k,$,se=this._eras||Ba("en")._eras;for(I=0,k=se.length;I<k;++I){switch(typeof se[I].since){case"string":$=e(se[I].since).startOf("day"),se[I].since=$.valueOf();break}switch(typeof se[I].until){case"undefined":se[I].until=1/0;break;case"string":$=e(se[I].until).startOf("day").valueOf(),se[I].until=$.valueOf();break}}return se}function dV(g,A,I){var k,$,se=this.eras(),Te,ut,Rt;for(g=g.toUpperCase(),k=0,$=se.length;k<$;++k)if(Te=se[k].name.toUpperCase(),ut=se[k].abbr.toUpperCase(),Rt=se[k].narrow.toUpperCase(),I)switch(A){case"N":case"NN":case"NNN":if(ut===g)return se[k];break;case"NNNN":if(Te===g)return se[k];break;case"NNNNN":if(Rt===g)return se[k];break}else if([Te,ut,Rt].indexOf(g)>=0)return se[k]}function hV(g,A){var I=g.since<=g.until?1:-1;return A===void 0?e(g.since).year():e(g.since).year()+(A-g.offset)*I}function gV(){var g,A,I,k=this.localeData().eras();for(g=0,A=k.length;g<A;++g)if(I=this.clone().startOf("day").valueOf(),k[g].since<=I&&I<=k[g].until||k[g].until<=I&&I<=k[g].since)return k[g].name;return""}function vV(){var g,A,I,k=this.localeData().eras();for(g=0,A=k.length;g<A;++g)if(I=this.clone().startOf("day").valueOf(),k[g].since<=I&&I<=k[g].until||k[g].until<=I&&I<=k[g].since)return k[g].narrow;return""}function yV(){var g,A,I,k=this.localeData().eras();for(g=0,A=k.length;g<A;++g)if(I=this.clone().startOf("day").valueOf(),k[g].since<=I&&I<=k[g].until||k[g].until<=I&&I<=k[g].since)return k[g].abbr;return""}function bV(){var g,A,I,k,$=this.localeData().eras();for(g=0,A=$.length;g<A;++g)if(I=$[g].since<=$[g].until?1:-1,k=this.clone().startOf("day").valueOf(),$[g].since<=k&&k<=$[g].until||$[g].until<=k&&k<=$[g].since)return(this.year()-e($[g].since).year())*I+$[g].offset;return this.year()}function xV(g){return a(this,"_erasNameRegex")||fh.call(this),g?this._erasNameRegex:this._erasRegex}function wV(g){return a(this,"_erasAbbrRegex")||fh.call(this),g?this._erasAbbrRegex:this._erasRegex}function _V(g){return a(this,"_erasNarrowRegex")||fh.call(this),g?this._erasNarrowRegex:this._erasRegex}function ch(g,A){return A.erasAbbrRegex(g)}function SV(g,A){return A.erasNameRegex(g)}function AV(g,A){return A.erasNarrowRegex(g)}function NV(g,A){return A._eraYearOrdinalRegex||Be}function fh(){var g=[],A=[],I=[],k=[],$,se,Te,ut,Rt,ur=this.eras();for($=0,se=ur.length;$<se;++$)Te=Cn(ur[$].name),ut=Cn(ur[$].abbr),Rt=Cn(ur[$].narrow),A.push(Te),g.push(ut),I.push(Rt),k.push(Te),k.push(ut),k.push(Rt);this._erasRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+A.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+I.join("|")+")","i")}V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Bc(g,A){V(0,[g,g.length],0,A)}Bc("gggg","weekYear"),Bc("ggggg","weekYear"),Bc("GGGG","isoWeekYear"),Bc("GGGGG","isoWeekYear"),Ye("G",Ve),Ye("g",Ve),Ye("GG",bt,Fe),Ye("gg",bt,Fe),Ye("GGGG",ke,Ct),Ye("gggg",ke,Ct),Ye("GGGGG",qe,Xt),Ye("ggggg",qe,Xt),Xo(["gggg","ggggg","GGGG","GGGGG"],function(g,A,I,k){A[k.substr(0,2)]=er(g)}),Xo(["gg","GG"],function(g,A,I,k){A[k]=e.parseTwoDigitYear(g)});function DV(g){return OA.call(this,g,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function EV(g){return OA.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)}function MV(){return Pa(this.year(),1,4)}function CV(){return Pa(this.isoWeekYear(),1,4)}function TV(){var g=this.localeData()._week;return Pa(this.year(),g.dow,g.doy)}function FV(){var g=this.localeData()._week;return Pa(this.weekYear(),g.dow,g.doy)}function OA(g,A,I,k,$){var se;return g==null?ll(this,k,$).year:(se=Pa(g,k,$),A>se&&(A=se),IV.call(this,g,A,I,k,$))}function IV(g,A,I,k,$){var se=pA(g,A,I,k,$),Te=ul(se.year,0,se.dayOfYear);return this.year(Te.getUTCFullYear()),this.month(Te.getUTCMonth()),this.date(Te.getUTCDate()),this}V("Q",0,"Qo","quarter"),Ye("Q",Ze),wr("Q",function(g,A){A[Zi]=(er(g)-1)*3});function PV(g){return g==null?Math.ceil((this.month()+1)/3):this.month((g-1)*3+this.month()%3)}V("D",["DD",2],"Do","date"),Ye("D",bt,Oe),Ye("DD",bt,Fe),Ye("Do",function(g,A){return g?A._dayOfMonthOrdinalParse||A._ordinalParse:A._dayOfMonthOrdinalParseLenient}),wr(["D","DD"],Ti),wr("Do",function(g,A){A[Ti]=er(g.match(bt)[0])});var kA=io("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),Ye("DDD",ye),Ye("DDDD",wt),wr(["DDD","DDDD"],function(g,A,I){I._dayOfYear=er(g)});function BV(g){var A=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?A:this.add(g-A,"d")}V("m",["mm",2],0,"minute"),Ye("m",bt,ot),Ye("mm",bt,Fe),wr(["m","mm"],mi);var OV=io("Minutes",!1);V("s",["ss",2],0,"second"),Ye("s",bt,ot),Ye("ss",bt,Fe),wr(["s","ss"],Ji);var kV=io("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return this.millisecond()*10}),V(0,["SSSSS",5],0,function(){return this.millisecond()*100}),V(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),V(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),V(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),V(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ye("S",ye,Ze),Ye("SS",ye,Fe),Ye("SSS",ye,wt);var so,RA;for(so="SSSS";so.length<=9;so+="S")Ye(so,Be);function RV(g,A){A[Ia]=er(("0."+g)*1e3)}for(so="S";so.length<=9;so+="S")wr(so,RV);RA=io("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");function LV(){return this._isUTC?"UTC":""}function UV(){return this._isUTC?"Coordinated Universal Time":""}var Je=_.prototype;Je.add=FU,Je.calendar=LU,Je.clone=UU,Je.diff=WU,Je.endOf=rV,Je.format=JU,Je.from=XU,Je.fromNow=QU,Je.to=KU,Je.toNow=eV,Je.get=Wd,Je.invalidAt=fV,Je.isAfter=VU,Je.isBefore=qU,Je.isBetween=zU,Je.isSame=$U,Je.isSameOrAfter=HU,Je.isSameOrBefore=GU,Je.isValid=lV,Je.lang=TA,Je.locale=CA,Je.localeData=FA,Je.max=lU,Je.min=uU,Je.parsingFlags=cV,Je.set=Yd,Je.startOf=tV,Je.subtract=IU,Je.toArray=oV,Je.toObject=sV,Je.toDate=aV,Je.toISOString=jU,Je.inspect=ZU,typeof Symbol!="undefined"&&Symbol.for!=null&&(Je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Je.toJSON=uV,Je.toString=YU,Je.unix=iV,Je.valueOf=nV,Je.creationData=pV,Je.eraName=gV,Je.eraNarrow=vV,Je.eraAbbr=yV,Je.eraYear=bV,Je.year=Sc,Je.isLeapYear=Gd,Je.weekYear=DV,Je.isoWeekYear=EV,Je.quarter=Je.quarters=PV,Je.month=cA,Je.daysInMonth=a8,Je.week=Je.weeks=m8,Je.isoWeek=Je.isoWeeks=d8,Je.weeksInYear=TV,Je.weeksInWeekYear=FV,Je.isoWeeksInYear=MV,Je.isoWeeksInISOWeekYear=CV,Je.date=kA,Je.day=Je.days=E8,Je.weekday=M8,Je.isoWeekday=C8,Je.dayOfYear=BV,Je.hour=Je.hours=k8,Je.minute=Je.minutes=OV,Je.second=Je.seconds=kV,Je.millisecond=Je.milliseconds=RA,Je.utcOffset=yU,Je.utc=xU,Je.local=wU,Je.parseZone=_U,Je.hasAlignedHourOffset=SU,Je.isDST=AU,Je.isLocal=DU,Je.isUtcOffset=EU,Je.isUtc=AA,Je.isUTC=AA,Je.zoneAbbr=LV,Je.zoneName=UV,Je.dates=D("dates accessor is deprecated. Use date instead.",kA),Je.months=D("months accessor is deprecated. Use month instead",cA),Je.years=D("years accessor is deprecated. Use year instead",Sc),Je.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",bU),Je.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",NU);function VV(g){return Or(g*1e3)}function qV(){return Or.apply(null,arguments).parseZone()}function LA(g){return g}var gr=z.prototype;gr.calendar=T,gr.longDateFormat=he,gr.invalidDate=xe,gr.ordinal=tt,gr.preparse=LA,gr.postformat=LA,gr.relativeTime=K,gr.pastFuture=ge,gr.set=O,gr.eras=mV,gr.erasParse=dV,gr.erasConvertYear=hV,gr.erasAbbrRegex=wV,gr.erasNameRegex=xV,gr.erasNarrowRegex=_V,gr.months=Jd,gr.monthsShort=$s,gr.monthsParse=Xd,gr.monthsRegex=s8,gr.monthsShortRegex=o8,gr.week=l8,gr.firstDayOfYear=p8,gr.firstDayOfWeek=f8,gr.weekdays=_8,gr.weekdaysMin=A8,gr.weekdaysShort=S8,gr.weekdaysParse=D8,gr.weekdaysRegex=T8,gr.weekdaysShortRegex=F8,gr.weekdaysMinRegex=I8,gr.isPM=B8,gr.meridiem=R8;function Oc(g,A,I,k){var $=Ba(),se=p().set(k,A);return $[I](se,g)}function UA(g,A,I){if(s(g)&&(A=g,g=void 0),g=g||"",A!=null)return Oc(g,A,I,"month");var k,$=[];for(k=0;k<12;k++)$[k]=Oc(g,k,I,"month");return $}function ph(g,A,I,k){typeof g=="boolean"?(s(A)&&(I=A,A=void 0),A=A||""):(A=g,I=A,g=!1,s(A)&&(I=A,A=void 0),A=A||"");var $=Ba(),se=g?$._week.dow:0,Te,ut=[];if(I!=null)return Oc(A,(I+se)%7,k,"day");for(Te=0;Te<7;Te++)ut[Te]=Oc(A,(Te+se)%7,k,"day");return ut}function zV(g,A){return UA(g,A,"months")}function $V(g,A){return UA(g,A,"monthsShort")}function HV(g,A,I){return ph(g,A,I,"weekdays")}function GV(g,A,I){return ph(g,A,I,"weekdaysShort")}function WV(g,A,I){return ph(g,A,I,"weekdaysMin")}oo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var A=g%10,I=er(g%100/10)===1?"th":A===1?"st":A===2?"nd":A===3?"rd":"th";return g+I}}),e.lang=D("moment.lang is deprecated. Use moment.locale instead.",oo),e.langData=D("moment.langData is deprecated. Use moment.localeData instead.",Ba);var Oa=Math.abs;function YV(){var g=this._data;return this._milliseconds=Oa(this._milliseconds),this._days=Oa(this._days),this._months=Oa(this._months),g.milliseconds=Oa(g.milliseconds),g.seconds=Oa(g.seconds),g.minutes=Oa(g.minutes),g.hours=Oa(g.hours),g.months=Oa(g.months),g.years=Oa(g.years),this}function VA(g,A,I,k){var $=Xi(A,I);return g._milliseconds+=k*$._milliseconds,g._days+=k*$._days,g._months+=k*$._months,g._bubble()}function jV(g,A){return VA(this,g,A,1)}function ZV(g,A){return VA(this,g,A,-1)}function qA(g){return g<0?Math.floor(g):Math.ceil(g)}function JV(){var g=this._milliseconds,A=this._days,I=this._months,k=this._data,$,se,Te,ut,Rt;return g>=0&&A>=0&&I>=0||g<=0&&A<=0&&I<=0||(g+=qA(mh(I)+A)*864e5,A=0,I=0),k.milliseconds=g%1e3,$=wn(g/1e3),k.seconds=$%60,se=wn($/60),k.minutes=se%60,Te=wn(se/60),k.hours=Te%24,A+=wn(Te/24),Rt=wn(zA(A)),I+=Rt,A-=qA(mh(Rt)),ut=wn(I/12),I%=12,k.days=A,k.months=I,k.years=ut,this}function zA(g){return g*4800/146097}function mh(g){return g*146097/4800}function XV(g){if(!this.isValid())return NaN;var A,I,k=this._milliseconds;if(g=ne(g),g==="month"||g==="quarter"||g==="year")switch(A=this._days+k/864e5,I=this._months+zA(A),g){case"month":return I;case"quarter":return I/3;case"year":return I/12}else switch(A=this._days+Math.round(mh(this._months)),g){case"week":return A/7+k/6048e5;case"day":return A+k/864e5;case"hour":return A*24+k/36e5;case"minute":return A*1440+k/6e4;case"second":return A*86400+k/1e3;case"millisecond":return Math.floor(A*864e5)+k;default:throw new Error("Unknown unit "+g)}}function ka(g){return function(){return this.as(g)}}var $A=ka("ms"),QV=ka("s"),KV=ka("m"),e6=ka("h"),t6=ka("d"),r6=ka("w"),n6=ka("M"),i6=ka("Q"),a6=ka("y"),o6=$A;function s6(){return Xi(this)}function u6(g){return g=ne(g),this.isValid()?this[g+"s"]():NaN}function rs(g){return function(){return this.isValid()?this._data[g]:NaN}}var l6=rs("milliseconds"),c6=rs("seconds"),f6=rs("minutes"),p6=rs("hours"),m6=rs("days"),d6=rs("months"),h6=rs("years");function g6(){return wn(this.days()/7)}var Ra=Math.round,Ys={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function v6(g,A,I,k,$){return $.relativeTime(A||1,!!I,g,k)}function y6(g,A,I,k){var $=Xi(g).abs(),se=Ra($.as("s")),Te=Ra($.as("m")),ut=Ra($.as("h")),Rt=Ra($.as("d")),ur=Ra($.as("M")),Yn=Ra($.as("w")),La=Ra($.as("y")),uo=se<=I.ss&&["s",se]||se<I.s&&["ss",se]||Te<=1&&["m"]||Te<I.m&&["mm",Te]||ut<=1&&["h"]||ut<I.h&&["hh",ut]||Rt<=1&&["d"]||Rt<I.d&&["dd",Rt];return I.w!=null&&(uo=uo||Yn<=1&&["w"]||Yn<I.w&&["ww",Yn]),uo=uo||ur<=1&&["M"]||ur<I.M&&["MM",ur]||La<=1&&["y"]||["yy",La],uo[2]=A,uo[3]=+g>0,uo[4]=k,v6.apply(null,uo)}function b6(g){return g===void 0?Ra:typeof g=="function"?(Ra=g,!0):!1}function x6(g,A){return Ys[g]===void 0?!1:A===void 0?Ys[g]:(Ys[g]=A,g==="s"&&(Ys.ss=A-1),!0)}function w6(g,A){if(!this.isValid())return this.localeData().invalidDate();var I=!1,k=Ys,$,se;return typeof g=="object"&&(A=g,g=!1),typeof g=="boolean"&&(I=g),typeof A=="object"&&(k=Object.assign({},Ys,A),A.s!=null&&A.ss==null&&(k.ss=A.s-1)),$=this.localeData(),se=y6(this,!I,k,$),I&&(se=$.pastFuture(+this,se)),$.postformat(se)}var dh=Math.abs;function js(g){return(g>0)-(g<0)||+g}function kc(){if(!this.isValid())return this.localeData().invalidDate();var g=dh(this._milliseconds)/1e3,A=dh(this._days),I=dh(this._months),k,$,se,Te,ut=this.asSeconds(),Rt,ur,Yn,La;return ut?(k=wn(g/60),$=wn(k/60),g%=60,k%=60,se=wn(I/12),I%=12,Te=g?g.toFixed(3).replace(/\.?0+$/,""):"",Rt=ut<0?"-":"",ur=js(this._months)!==js(ut)?"-":"",Yn=js(this._days)!==js(ut)?"-":"",La=js(this._milliseconds)!==js(ut)?"-":"",Rt+"P"+(se?ur+se+"Y":"")+(I?ur+I+"M":"")+(A?Yn+A+"D":"")+($||k||g?"T":"")+($?La+$+"H":"")+(k?La+k+"M":"")+(g?La+Te+"S":"")):"P0D"}var fr=Cc.prototype;fr.isValid=dU,fr.abs=YV,fr.add=jV,fr.subtract=ZV,fr.as=XV,fr.asMilliseconds=$A,fr.asSeconds=QV,fr.asMinutes=KV,fr.asHours=e6,fr.asDays=t6,fr.asWeeks=r6,fr.asMonths=n6,fr.asQuarters=i6,fr.asYears=a6,fr.valueOf=o6,fr._bubble=JV,fr.clone=s6,fr.get=u6,fr.milliseconds=l6,fr.seconds=c6,fr.minutes=f6,fr.hours=p6,fr.days=m6,fr.weeks=g6,fr.months=d6,fr.years=h6,fr.humanize=w6,fr.toISOString=kc,fr.toString=kc,fr.toJSON=kc,fr.locale=CA,fr.localeData=FA,fr.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",kc),fr.lang=TA,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Ye("x",Ve),Ye("X",W),wr("X",function(g,A,I){I._d=new Date(parseFloat(g)*1e3)}),wr("x",function(g,A,I){I._d=new Date(er(g))});return e.version="2.30.1",t(Or),e.fn=Je,e.min=cU,e.max=fU,e.now=pU,e.utc=p,e.unix=VV,e.months=zV,e.isDate=u,e.locale=oo,e.invalid=b,e.duration=Xi,e.isMoment=x,e.weekdays=HV,e.parseZone=qV,e.localeData=Ba,e.isDuration=Tc,e.monthsShort=$V,e.weekdaysMin=WV,e.defineLocale=th,e.updateLocale=q8,e.locales=z8,e.weekdaysShort=GV,e.normalizeUnits=ne,e.relativeTimeRounding=b6,e.relativeTimeThreshold=x6,e.calendarFormat=RU,e.prototype=Je,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Eg=an((Ng,Dg)=>{(function(n,e){typeof Ng=="object"&&typeof Dg!="undefined"?Dg.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis!="undefined"?globalThis:n||self,n["'typed'"]=e())})(Ng,function(){"use strict";function n(){return!0}function e(){return!1}function t(){}let r="Argument is not a typed-function.";function i(){function o(Q){return typeof Q=="object"&&Q!==null&&Q.constructor===Object}let l=[{name:"number",test:function(Q){return typeof Q=="number"}},{name:"string",test:function(Q){return typeof Q=="string"}},{name:"boolean",test:function(Q){return typeof Q=="boolean"}},{name:"Function",test:function(Q){return typeof Q=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Q){return Q instanceof Date}},{name:"RegExp",test:function(Q){return Q instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(Q){return Q===null}},{name:"undefined",test:function(Q){return Q===void 0}}],s={name:"any",test:n,isAny:!0},u,c,f=0,p={createCount:0};function m(Q){let ce=u.get(Q);if(ce)return ce;let ye='Unknown type "'+Q+'"',ke=Q.toLowerCase(),qe;for(qe of c)if(qe.toLowerCase()===ke){ye+='. Did you mean "'+qe+'" ?';break}throw new TypeError(ye)}function h(Q){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",ye=ce?m(ce).index:c.length,ke=[];for(let Be=0;Be<Q.length;++Be){if(!Q[Be]||typeof Q[Be].name!="string"||typeof Q[Be].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ve=Q[Be].name;if(u.has(Ve))throw new TypeError('Duplicate type name "'+Ve+'"');ke.push(Ve),u.set(Ve,{name:Ve,test:Q[Be].test,isAny:Q[Be].isAny,index:ye+Be,conversionsTo:[]})}let qe=c.slice(ye);c=c.slice(0,ye).concat(ke).concat(qe);for(let Be=ye+ke.length;Be<c.length;++Be)u.get(c[Be]).index=Be}function d(){u=new Map,c=[],f=0,h([s],!1)}d(),h(l);function v(){let Q;for(Q of c)u.get(Q).conversionsTo=[];f=0}function b(Q){let ce=c.filter(ye=>{let ke=u.get(ye);return!ke.isAny&&ke.test(Q)});return ce.length?ce:["any"]}function S(Q){return Q&&typeof Q=="function"&&"_typedFunctionData"in Q}function y(Q,ce,ye){if(!S(Q))throw new TypeError(r);let ke=ye&&ye.exact,qe=Array.isArray(ce)?ce.join(","):ce,Be=E(qe),Ve=x(Be);if(!ke||Ve in Q.signatures){let me=Q._typedFunctionData.signatureMap.get(Ve);if(me)return me}let He=Be.length,F;if(ke){F=[];let me;for(me in Q.signatures)F.push(Q._typedFunctionData.signatureMap.get(me))}else F=Q._typedFunctionData.signatures;for(let me=0;me<He;++me){let Oe=Be[me],ot=[],dt;for(dt of F){let Ye=z(dt.params,me);if(!(!Ye||Oe.restParam&&!Ye.restParam)){if(!Ye.hasAny){let Wn=N(Ye);if(Oe.types.some(pi=>!Wn.has(pi.name)))continue}ot.push(dt)}}if(F=ot,F.length===0)break}let W;for(W of F)if(W.params.length<=He)return W;throw new TypeError("Signature not found (signature: "+(Q.name||"unnamed")+"("+x(Be,", ")+"))")}function w(Q,ce,ye){return y(Q,ce,ye).implementation}function _(Q,ce){let ye=m(ce);if(ye.test(Q))return Q;let ke=ye.conversionsTo;if(ke.length===0)throw new Error("There are no conversions to "+ce+" defined.");for(let qe=0;qe<ke.length;qe++)if(m(ke[qe].from).test(Q))return ke[qe].convert(Q);throw new Error("Cannot convert "+Q+" to "+ce)}function x(Q){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Q.map(ye=>ye.name).join(ce)}function M(Q){let ce=Q.indexOf("...")===0,ke=(ce?Q.length>3?Q.slice(3):"any":Q).split("|").map(He=>m(He.trim())),qe=!1,Be=ce?"...":"";return{types:ke.map(function(He){return qe=He.isAny||qe,Be+=He.name+"|",{name:He.name,typeIndex:He.index,test:He.test,isAny:He.isAny,conversion:null,conversionIndex:-1}}),name:Be.slice(0,-1),hasAny:qe,hasConversion:!1,restParam:ce}}function D(Q){let ce=Q.types.map(Ve=>Ve.name),ye=V(ce),ke=Q.hasAny,qe=Q.name,Be=ye.map(function(Ve){let He=m(Ve.from);return ke=He.isAny||ke,qe+="|"+Ve.from,{name:Ve.from,typeIndex:He.index,test:He.test,isAny:He.isAny,conversion:Ve,conversionIndex:Ve.index}});return{types:Q.types.concat(Be),name:qe,hasAny:ke,hasConversion:Be.length>0,restParam:Q.restParam}}function N(Q){return Q.typeSet||(Q.typeSet=new Set,Q.types.forEach(ce=>Q.typeSet.add(ce.name))),Q.typeSet}function E(Q){let ce=[];if(typeof Q!="string")throw new TypeError("Signatures must be strings");let ye=Q.trim();if(ye==="")return ce;let ke=ye.split(",");for(let qe=0;qe<ke.length;++qe){let Be=M(ke[qe].trim());if(Be.restParam&&qe!==ke.length-1)throw new SyntaxError('Unexpected rest parameter "'+ke[qe]+'": only allowed for the last parameter');if(Be.types.length===0)return null;ce.push(Be)}return ce}function P(Q){let ce=Y(Q);return ce?ce.restParam:!1}function O(Q){if(!Q||Q.types.length===0)return n;if(Q.types.length===1)return m(Q.types[0].name).test;if(Q.types.length===2){let ce=m(Q.types[0].name).test,ye=m(Q.types[1].name).test;return function(qe){return ce(qe)||ye(qe)}}else{let ce=Q.types.map(function(ye){return m(ye.name).test});return function(ke){for(let qe=0;qe<ce.length;qe++)if(ce[qe](ke))return!0;return!1}}}function U(Q){let ce,ye,ke;if(P(Q)){ce=tt(Q).map(O);let qe=ce.length,Be=O(Y(Q)),Ve=function(He){for(let F=qe;F<He.length;F++)if(!Be(He[F]))return!1;return!0};return function(F){for(let W=0;W<ce.length;W++)if(!ce[W](F[W]))return!1;return Ve(F)&&F.length>=qe+1}}else return Q.length===0?function(Be){return Be.length===0}:Q.length===1?(ye=O(Q[0]),function(Be){return ye(Be[0])&&Be.length===1}):Q.length===2?(ye=O(Q[0]),ke=O(Q[1]),function(Be){return ye(Be[0])&&ke(Be[1])&&Be.length===2}):(ce=Q.map(O),function(Be){for(let Ve=0;Ve<ce.length;Ve++)if(!ce[Ve](Be[Ve]))return!1;return Be.length===ce.length})}function z(Q,ce){return ce<Q.length?Q[ce]:P(Q)?Y(Q):null}function L(Q,ce){let ye=z(Q,ce);return ye?N(ye):new Set}function B(Q){return Q.conversion===null||Q.conversion===void 0}function T(Q,ce){let ye=new Set;return Q.forEach(ke=>{let qe=L(ke.params,ce),Be;for(Be of qe)ye.add(Be)}),ye.has("any")?["any"]:Array.from(ye)}function G(Q,ce,ye){let ke,qe,Be=Q||"unnamed",Ve=ye,He;for(He=0;He<ce.length;He++){let Oe=[];if(Ve.forEach(ot=>{let dt=z(ot.params,He),Ye=O(dt);(He<ot.params.length||P(ot.params))&&Ye(ce[He])&&Oe.push(ot)}),Oe.length===0){if(qe=T(Ve,He),qe.length>0){let ot=b(ce[He]);return ke=new TypeError("Unexpected type of argument in function "+Be+" (expected: "+qe.join(" or ")+", actual: "+ot.join(" | ")+", index: "+He+")"),ke.data={category:"wrongType",fn:Be,index:He,actual:ot,expected:qe},ke}}else Ve=Oe}let F=Ve.map(function(Oe){return P(Oe.params)?1/0:Oe.params.length});if(ce.length<Math.min.apply(null,F))return qe=T(Ve,He),ke=new TypeError("Too few arguments in function "+Be+" (expected: "+qe.join(" or ")+", index: "+ce.length+")"),ke.data={category:"tooFewArgs",fn:Be,index:ce.length,expected:qe},ke;let W=Math.max.apply(null,F);if(ce.length>W)return ke=new TypeError("Too many arguments in function "+Be+" (expected: "+W+", actual: "+ce.length+")"),ke.data={category:"tooManyArgs",fn:Be,index:ce.length,expectedLength:W},ke;let me=[];for(let Oe=0;Oe<ce.length;++Oe)me.push(b(ce[Oe]).join("|"));return ke=new TypeError('Arguments of type "'+me.join(", ")+'" do not match any of the defined signatures of function '+Be+"."),ke.data={category:"mismatch",actual:me},ke}function R(Q){let ce=c.length+1;for(let ye=0;ye<Q.types.length;ye++)B(Q.types[ye])&&(ce=Math.min(ce,Q.types[ye].typeIndex));return ce}function ie(Q){let ce=f+1;for(let ye=0;ye<Q.types.length;ye++)B(Q.types[ye])||(ce=Math.min(ce,Q.types[ye].conversionIndex));return ce}function j(Q,ce){if(Q.hasAny){if(!ce.hasAny)return 1}else if(ce.hasAny)return-1;if(Q.restParam){if(!ce.restParam)return 1}else if(ce.restParam)return-1;if(Q.hasConversion){if(!ce.hasConversion)return 1}else if(ce.hasConversion)return-1;let ye=R(Q)-R(ce);if(ye<0)return-1;if(ye>0)return 1;let ke=ie(Q)-ie(ce);return ke<0?-1:ke>0?1:0}function H(Q,ce){let ye=Q.params,ke=ce.params,qe=Y(ye),Be=Y(ke),Ve=P(ye),He=P(ke);if(Ve&&qe.hasAny){if(!He||!Be.hasAny)return 1}else if(He&&Be.hasAny)return-1;let F=0,W=0,me;for(me of ye)me.hasAny&&++F,me.hasConversion&&++W;let Oe=0,ot=0;for(me of ke)me.hasAny&&++Oe,me.hasConversion&&++ot;if(F!==Oe)return F-Oe;if(Ve&&qe.hasConversion){if(!He||!Be.hasConversion)return 1}else if(He&&Be.hasConversion)return-1;if(W!==ot)return W-ot;if(Ve){if(!He)return 1}else if(He)return-1;let dt=(ye.length-ke.length)*(Ve?-1:1);if(dt!==0)return dt;let Ye=[],Wn=0;for(let Cn=0;Cn<ye.length;++Cn){let wn=j(ye[Cn],ke[Cn]);Ye.push(wn),Wn+=wn}if(Wn!==0)return Wn;let pi;for(pi of Ye)if(pi!==0)return pi;return 0}function V(Q){if(Q.length===0)return[];let ce=Q.map(m);Q.length>1&&ce.sort((qe,Be)=>qe.index-Be.index);let ye=ce[0].conversionsTo;if(Q.length===1)return ye;ye=ye.concat([]);let ke=new Set(Q);for(let qe=1;qe<ce.length;++qe){let Be;for(Be of ce[qe].conversionsTo)ke.has(Be.from)||(ye.push(Be),ke.add(Be.from))}return ye}function fe(Q,ce){let ye=ce;if(Q.some(qe=>qe.hasConversion)){let qe=P(Q),Be=Q.map(_e);ye=function(){let He=[],F=qe?arguments.length-1:arguments.length;for(let W=0;W<F;W++)He[W]=Be[W](arguments[W]);return qe&&(He[F]=arguments[F].map(Be[F])),ce.apply(this,He)}}let ke=ye;if(P(Q)){let qe=Q.length-1;ke=function(){return ye.apply(this,K(arguments,0,qe).concat([K(arguments,qe)]))}}return ke}function _e(Q){let ce,ye,ke,qe,Be=[],Ve=[];switch(Q.types.forEach(function(He){He.conversion&&(Be.push(m(He.conversion.from).test),Ve.push(He.conversion.convert))}),Ve.length){case 0:return function(F){return F};case 1:return ce=Be[0],ke=Ve[0],function(F){return ce(F)?ke(F):F};case 2:return ce=Be[0],ye=Be[1],ke=Ve[0],qe=Ve[1],function(F){return ce(F)?ke(F):ye(F)?qe(F):F};default:return function(F){for(let W=0;W<Ve.length;W++)if(Be[W](F))return Ve[W](F);return F}}}function pe(Q){function ce(ye,ke,qe){if(ke<ye.length){let Be=ye[ke],Ve=[];if(Be.restParam){let He=Be.types.filter(B);He.length<Be.types.length&&Ve.push({types:He,name:"..."+He.map(F=>F.name).join("|"),hasAny:He.some(F=>F.isAny),hasConversion:!1,restParam:!0}),Ve.push(Be)}else Ve=Be.types.map(function(He){return{types:[He],name:He.name,hasAny:He.isAny,hasConversion:He.conversion,restParam:!1}});return X(Ve,function(He){return ce(ye,ke+1,qe.concat([He]))})}else return[qe]}return ce(Q,0,[])}function de(Q,ce){let ye=Math.max(Q.length,ce.length);for(let He=0;He<ye;He++){let F=L(Q,He),W=L(ce,He),me=!1,Oe;for(Oe of W)if(F.has(Oe)){me=!0;break}if(!me)return!1}let ke=Q.length,qe=ce.length,Be=P(Q),Ve=P(ce);return Be?Ve?ke===qe:qe>=ke:Ve?ke>=qe:ke===qe}function we(Q){return Q.map(ce=>Ze(ce)?De(ce.referToSelf.callback):Ee(ce)?ue(ce.referTo.references,ce.referTo.callback):ce)}function he(Q,ce,ye){let ke=[],qe;for(qe of Q){let Be=ye[qe];if(typeof Be!="number")throw new TypeError('No definition for referenced signature "'+qe+'"');if(Be=ce[Be],typeof Be!="function")return!1;ke.push(Be)}return ke}function ve(Q,ce,ye){let ke=we(Q),qe=new Array(ke.length).fill(!1),Be=!0;for(;Be;){Be=!1;let Ve=!0;for(let He=0;He<ke.length;++He){if(qe[He])continue;let F=ke[He];if(Ze(F))ke[He]=F.referToSelf.callback(ye),ke[He].referToSelf=F.referToSelf,qe[He]=!0,Ve=!1;else if(Ee(F)){let W=he(F.referTo.references,ke,ce);W?(ke[He]=F.referTo.callback.apply(this,W),ke[He].referTo=F.referTo,qe[He]=!0,Ve=!1):Be=!0}}if(Ve&&Be)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ke}function xe(Q){let ce=/\bthis(\(|\.signatures\b)/;Object.keys(Q).forEach(ye=>{let ke=Q[ye];if(ce.test(ke.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ce(Q,ce){if(p.createCount++,Object.keys(ce).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&xe(ce);let ye=[],ke=[],qe={},Be=[],Ve;for(Ve in ce){if(!Object.prototype.hasOwnProperty.call(ce,Ve))continue;let yr=E(Ve);if(!yr)continue;ye.forEach(function(es){if(de(es,yr))throw new TypeError('Conflicting signatures "'+x(es)+'" and "'+x(yr)+'".')}),ye.push(yr);let Tn=ke.length;ke.push(ce[Ve]);let Jd=yr.map(D),$s;for($s of pe(Jd)){let es=x($s);Be.push({params:$s,name:es,fn:Tn}),$s.every(Xd=>!Xd.hasConversion)&&(qe[es]=Tn)}}Be.sort(H);let He=ve(ke,qe,ao),F;for(F in qe)Object.prototype.hasOwnProperty.call(qe,F)&&(qe[F]=He[qe[F]]);let W=[],me=new Map;for(F of Be)me.has(F.name)||(F.fn=He[F.fn],W.push(F),me.set(F.name,F));let Oe=W[0]&&W[0].params.length<=2&&!P(W[0].params),ot=W[1]&&W[1].params.length<=2&&!P(W[1].params),dt=W[2]&&W[2].params.length<=2&&!P(W[2].params),Ye=W[3]&&W[3].params.length<=2&&!P(W[3].params),Wn=W[4]&&W[4].params.length<=2&&!P(W[4].params),pi=W[5]&&W[5].params.length<=2&&!P(W[5].params),Cn=Oe&&ot&&dt&&Ye&&Wn&&pi;for(let yr=0;yr<W.length;++yr)W[yr].test=U(W[yr].params);let wn=Oe?O(W[0].params[0]):e,er=ot?O(W[1].params[0]):e,ol=dt?O(W[2].params[0]):e,wr=Ye?O(W[3].params[0]):e,Xo=Wn?O(W[4].params[0]):e,zd=pi?O(W[5].params[0]):e,zs=Oe?O(W[0].params[1]):e,hn=ot?O(W[1].params[1]):e,Zi=dt?O(W[2].params[1]):e,Ti=Ye?O(W[3].params[1]):e,en=Wn?O(W[4].params[1]):e,mi=pi?O(W[5].params[1]):e;for(let yr=0;yr<W.length;++yr)W[yr].implementation=fe(W[yr].params,W[yr].fn);let Ji=Oe?W[0].implementation:t,Ia=ot?W[1].implementation:t,$d=dt?W[2].implementation:t,Hd=Ye?W[3].implementation:t,Qo=Wn?W[4].implementation:t,Sc=pi?W[5].implementation:t,Gd=Oe?W[0].params.length:-1,io=ot?W[1].params.length:-1,Ko=dt?W[2].params.length:-1,Ac=Ye?W[3].params.length:-1,Wd=Wn?W[4].params.length:-1,Yd=pi?W[5].params.length:-1,jd=Cn?6:0,Hr=W.length,sl=W.map(yr=>yr.test),Zd=W.map(yr=>yr.implementation),Nc=function(){for(let Tn=jd;Tn<Hr;Tn++)if(sl[Tn](arguments))return Zd[Tn].apply(this,arguments);return p.onMismatch(Q,arguments,W)};function ao(yr,Tn){return arguments.length===Gd&&wn(yr)&&zs(Tn)?Ji.apply(this,arguments):arguments.length===io&&er(yr)&&hn(Tn)?Ia.apply(this,arguments):arguments.length===Ko&&ol(yr)&&Zi(Tn)?$d.apply(this,arguments):arguments.length===Ac&&wr(yr)&&Ti(Tn)?Hd.apply(this,arguments):arguments.length===Wd&&Xo(yr)&&en(Tn)?Qo.apply(this,arguments):arguments.length===Yd&&zd(yr)&&mi(Tn)?Sc.apply(this,arguments):Nc.apply(this,arguments)}try{Object.defineProperty(ao,"name",{value:Q})}catch(yr){}return ao.signatures=qe,ao._typedFunctionData={signatures:W,signatureMap:me},ao}function ze(Q,ce,ye){throw G(Q,ce,ye)}function tt(Q){return K(Q,0,Q.length-1)}function Y(Q){return Q[Q.length-1]}function K(Q,ce,ye){return Array.prototype.slice.call(Q,ce,ye)}function ge(Q,ce){for(let ye=0;ye<Q.length;ye++)if(ce(Q[ye]))return Q[ye]}function X(Q,ce){return Array.prototype.concat.apply([],Q.map(ce))}function ne(){let Q=tt(arguments).map(ye=>x(E(ye))),ce=Y(arguments);if(typeof ce!="function")throw new TypeError("Callback function expected as last argument");return ue(Q,ce)}function ue(Q,ce){return{referTo:{references:Q,callback:ce}}}function De(Q){if(typeof Q!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Q}}}function Ee(Q){return Q&&typeof Q.referTo=="object"&&Array.isArray(Q.referTo.references)&&typeof Q.referTo.callback=="function"}function Ze(Q){return Q&&typeof Q.referToSelf=="object"&&typeof Q.referToSelf.callback=="function"}function Fe(Q,ce){if(!Q)return ce;if(ce&&ce!==Q){let ye=new Error("Function names do not match (expected: "+Q+", actual: "+ce+")");throw ye.data={actual:ce,expected:Q},ye}return Q}function wt(Q){let ce;for(let ye in Q)Object.prototype.hasOwnProperty.call(Q,ye)&&(S(Q[ye])||typeof Q[ye].signature=="string")&&(ce=Fe(ce,Q[ye].name));return ce}function Ct(Q,ce){let ye;for(ye in ce)if(Object.prototype.hasOwnProperty.call(ce,ye)){if(ye in Q&&ce[ye]!==Q[ye]){let ke=new Error('Signature "'+ye+'" is defined twice');throw ke.data={signature:ye,sourceFunction:ce[ye],destFunction:Q[ye]},ke}Q[ye]=ce[ye]}}let Xt=p;p=function(Q){let ce=typeof Q=="string",ye=ce?1:0,ke=ce?Q:"",qe={};for(let Be=ye;Be<arguments.length;++Be){let Ve=arguments[Be],He={},F;if(typeof Ve=="function"?(F=Ve.name,typeof Ve.signature=="string"?He[Ve.signature]=Ve:S(Ve)&&(He=Ve.signatures)):o(Ve)&&(He=Ve,ce||(F=wt(Ve))),Object.keys(He).length===0){let W=new TypeError("Argument to 'typed' at index "+Be+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw W.data={index:Be,argument:Ve},W}ce||(ke=Fe(ke,F)),Ct(qe,He)}return Ce(ke||"",qe)},p.create=i,p.createCount=Xt.createCount,p.onMismatch=ze,p.throwMismatchError=ze,p.createError=G,p.clear=d,p.clearConversions=v,p.addTypes=h,p._findType=m,p.referTo=ne,p.referToSelf=De,p.convert=_,p.findSignature=y,p.find=w,p.isTypedFunction=S,p.warnAgainstDeprecatedThis=!0,p.addType=function(Q,ce){let ye="any";ce!==!1&&u.has("Object")&&(ye="Object"),p.addTypes([Q],ye)};function bt(Q){if(!Q||typeof Q.from!="string"||typeof Q.to!="string"||typeof Q.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Q.to===Q.from)throw new SyntaxError('Illegal to define conversion from "'+Q.from+'" to itself.')}return p.addConversion=function(Q){bt(Q);let ce=m(Q.to);if(ce.conversionsTo.every(function(ye){return ye.from!==Q.from}))ce.conversionsTo.push({from:Q.from,convert:Q.convert,index:f++});else throw new Error('There is already a conversion from "'+Q.from+'" to "'+ce.name+'"')},p.addConversions=function(Q){Q.forEach(p.addConversion)},p.removeConversion=function(Q){bt(Q);let ce=m(Q.to),ye=ge(ce.conversionsTo,qe=>qe.from===Q.from);if(!ye)throw new Error("Attempt to remove nonexistent conversion from "+Q.from+" to "+Q.to);if(ye.convert!==Q.convert)throw new Error("Conversion to remove does not match existing conversion");let ke=ce.conversionsTo.indexOf(ye);ce.conversionsTo.splice(ke,1)},p.resolve=function(Q,ce){if(!S(Q))throw new TypeError(r);let ye=Q._typedFunctionData.signatures;for(let ke=0;ke<ye.length;++ke)if(ye[ke].test(ce))return ye[ke];return null},p}var a=i();return a})});var zE=an((Jg,qE)=>{(function(n){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},t=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},r=function(u){var c=Math.PI/4;if(-c>u||u>c)return Math.cos(u)-1;var f=u*u;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(u,c){var f=Math.abs(u),p=Math.abs(c);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=u/c):p=c/u,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(u,c){var f=Math.abs(u),p=Math.abs(c);return u===0?Math.log(p):c===0?Math.log(f):f<3e3&&p<3e3?Math.log(u*u+c*c)*.5:(u=u/2,c=c/2,.5*Math.log(u*u+c*c)+Math.LN2)}var l=function(u,c){var f={re:0,im:0};if(u==null)f.re=f.im=0;else if(c!==void 0)f.re=u,f.im=c;else switch(typeof u){case"object":if("im"in u&&"re"in u)f.re=u.re,f.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return s.INFINITY;f.re=u.abs*Math.cos(u.arg),f.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return s.INFINITY;f.re=u.r*Math.cos(u.phi),f.im=u.r*Math.sin(u.phi)}else u.length===2?(f.re=u[0],f.im=u[1]):a();break;case"string":f.im=f.re=0;var p=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,h=0;p===null&&a();for(var d=0;d<p.length;d++){var v=p[d];v===" "||v==="	"||v===`
    `||(v==="+"?m++:v==="-"?h++:v==="i"||v==="I"?(m+h===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((h%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),m=h=0):((m+h===0||isNaN(v))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+v),d++):f.re+=parseFloat((h%2?"-":"")+v),m=h=0))}m+h>0&&a();break;case"number":f.im=0,f.re=u;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function s(u,c){if(!(this instanceof s))return new s(u,c);var f=l(u,c);this.re=f.re,this.im=f.im}s.prototype={re:0,im:0,sign:function(){var u=this.abs();return new s(this.re/u,this.im/u)},add:function(u,c){var f=new s(u,c);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re+f.re,this.im+f.im)},sub:function(u,c){var f=new s(u,c);return this.isInfinite()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:new s(this.re-f.re,this.im-f.im)},mul:function(u,c){var f=new s(u,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?s.NAN:this.isInfinite()||f.isInfinite()?s.INFINITY:f.im===0&&this.im===0?new s(this.re*f.re,0):new s(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(u,c){var f=new s(u,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return s.NAN;if(this.isInfinite()||f.isZero())return s.INFINITY;if(this.isZero()||f.isInfinite())return s.ZERO;u=this.re,c=this.im;var p=f.re,m=f.im,h,d;return m===0?new s(u/p,c/p):Math.abs(p)<Math.abs(m)?(d=p/m,h=p*d+m,new s((u*d+c)/h,(c*d-u)/h)):(d=m/p,h=m*d+p,new s((u+c*d)/h,(c-u*d)/h))},pow:function(u,c){var f=new s(u,c);if(u=this.re,c=this.im,f.isZero())return s.ONE;if(f.im===0){if(c===0&&u>0)return new s(Math.pow(u,f.re),0);if(u===0)switch((f.re%4+4)%4){case 0:return new s(Math.pow(c,f.re),0);case 1:return new s(0,Math.pow(c,f.re));case 2:return new s(-Math.pow(c,f.re),0);case 3:return new s(0,-Math.pow(c,f.re))}}if(u===0&&c===0&&f.re>0&&f.im>=0)return s.ZERO;var p=Math.atan2(c,u),m=o(u,c);return u=Math.exp(f.re*m-f.im*p),c=f.im*m+f.re*p,new s(u*Math.cos(c),u*Math.sin(c))},sqrt:function(){var u=this.re,c=this.im,f=this.abs(),p,m;if(u>=0){if(c===0)return new s(Math.sqrt(u),0);p=.5*Math.sqrt(2*(f+u))}else p=Math.abs(c)/Math.sqrt(2*(f-u));return u<=0?m=.5*Math.sqrt(2*(f-u)):m=Math.abs(c)/Math.sqrt(2*(f+u)),new s(p,c<0?-m:m)},exp:function(){var u=Math.exp(this.re);return this.im,new s(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,c=this.im;return new s(Math.expm1(u)*Math.cos(c)+r(c),Math.exp(u)*Math.sin(c))},log:function(){var u=this.re,c=this.im;return c===0&&u>0,new s(o(u,c),Math.atan2(c,u))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,c=this.im;return new s(Math.sin(u)*e(c),Math.cos(u)*t(c))},cos:function(){var u=this.re,c=this.im;return new s(Math.cos(u)*e(c),-Math.sin(u)*t(c))},tan:function(){var u=2*this.re,c=2*this.im,f=Math.cos(u)+e(c);return new s(Math.sin(u)/f,t(c)/f)},cot:function(){var u=2*this.re,c=2*this.im,f=Math.cos(u)-e(c);return new s(-Math.sin(u)/f,t(c)/f)},sec:function(){var u=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*u);return new s(Math.cos(u)*e(c)/f,Math.sin(u)*t(c)/f)},csc:function(){var u=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*u);return new s(Math.sin(u)*e(c)/f,-Math.cos(u)*t(c)/f)},asin:function(){var u=this.re,c=this.im,f=new s(c*c-u*u+1,-2*u*c).sqrt(),p=new s(f.re-c,f.im+u).log();return new s(p.im,-p.re)},acos:function(){var u=this.re,c=this.im,f=new s(c*c-u*u+1,-2*u*c).sqrt(),p=new s(f.re-c,f.im+u).log();return new s(Math.PI/2-p.im,p.re)},atan:function(){var u=this.re,c=this.im;if(u===0){if(c===1)return new s(0,1/0);if(c===-1)return new s(0,-1/0)}var f=u*u+(1-c)*(1-c),p=new s((1-c*c-u*u)/f,-2*u/f).log();return new s(-.5*p.im,.5*p.re)},acot:function(){var u=this.re,c=this.im;if(c===0)return new s(Math.atan2(1,u),0);var f=u*u+c*c;return f!==0?new s(u/f,-c/f).atan():new s(u!==0?u/0:0,c!==0?-c/0:0).atan()},asec:function(){var u=this.re,c=this.im;if(u===0&&c===0)return new s(0,1/0);var f=u*u+c*c;return f!==0?new s(u/f,-c/f).acos():new s(u!==0?u/0:0,c!==0?-c/0:0).acos()},acsc:function(){var u=this.re,c=this.im;if(u===0&&c===0)return new s(Math.PI/2,1/0);var f=u*u+c*c;return f!==0?new s(u/f,-c/f).asin():new s(u!==0?u/0:0,c!==0?-c/0:0).asin()},sinh:function(){var u=this.re,c=this.im;return new s(t(u)*Math.cos(c),e(u)*Math.sin(c))},cosh:function(){var u=this.re,c=this.im;return new s(e(u)*Math.cos(c),t(u)*Math.sin(c))},tanh:function(){var u=2*this.re,c=2*this.im,f=e(u)+Math.cos(c);return new s(t(u)/f,Math.sin(c)/f)},coth:function(){var u=2*this.re,c=2*this.im,f=e(u)-Math.cos(c);return new s(t(u)/f,-Math.sin(c)/f)},csch:function(){var u=this.re,c=this.im,f=Math.cos(2*c)-e(2*u);return new s(-2*t(u)*Math.cos(c)/f,2*e(u)*Math.sin(c)/f)},sech:function(){var u=this.re,c=this.im,f=Math.cos(2*c)+e(2*u);return new s(2*e(u)*Math.cos(c)/f,-2*t(u)*Math.sin(c)/f)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var c=this.asin();return this.re=-this.im,this.im=u,u=c.re,c.re=-c.im,c.im=u,c},acosh:function(){var u=this.acos();if(u.im<=0){var c=u.re;u.re=-u.im,u.im=c}else{var c=u.im;u.im=-u.re,u.re=c}return u},atanh:function(){var u=this.re,c=this.im,f=u>1&&c===0,p=1-u,m=1+u,h=p*p+c*c,d=h!==0?new s((m*p-c*c)/h,(c*p+m*c)/h):new s(u!==-1?u/0:0,c!==0?c/0:0),v=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,v)/2,f&&(d.im=-d.im),d},acoth:function(){var u=this.re,c=this.im;if(u===0&&c===0)return new s(0,Math.PI/2);var f=u*u+c*c;return f!==0?new s(u/f,-c/f).atanh():new s(u!==0?u/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var u=this.re,c=this.im;if(c===0)return new s(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var f=u*u+c*c;return f!==0?new s(u/f,-c/f).asinh():new s(u!==0?u/0:0,c!==0?-c/0:0).asinh()},asech:function(){var u=this.re,c=this.im;if(this.isZero())return s.INFINITY;var f=u*u+c*c;return f!==0?new s(u/f,-c/f).acosh():new s(u!==0?u/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var u=this.re,c=this.im,f=u*u+c*c;return new s(u/f,-c/f)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new s(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new s(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new s(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,c){var f=new s(u,c);return Math.abs(f.re-this.re)<=s.EPSILON&&Math.abs(f.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var u=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<s.EPSILON&&(u=0),Math.abs(c)<s.EPSILON&&(c=0),c===0?f+u:(u!==0?(f+=u,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return s}):typeof Jg=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,qE.exports=s):n.Complex=s})(Jg)});var HE=an((Qg,$E)=>{(function(n){"use strict";var e=2e3,t={s:1,n:0,d:1};function r(d,v){if(isNaN(d=parseInt(d,10)))throw m();return d*v}function i(d,v){if(v===0)throw p();var b=Object.create(f.prototype);b.s=d<0?-1:1,d=d<0?-d:d;var S=c(d,v);return b.n=d/S,b.d=v/S,b}function a(d){for(var v={},b=d,S=2,y=4;y<=b;){for(;b%S===0;)b/=S,v[S]=(v[S]||0)+1;y+=1+2*S++}return b!==d?b>1&&(v[b]=(v[b]||0)+1):v[d]=(v[d]||0)+1,v}var o=function(d,v){var b=0,S=1,y=1,w=0,_=0,x=0,M=1,D=1,N=0,E=1,P=1,O=1,U=1e7,z;if(d!=null)if(v!==void 0){if(b=d,S=v,y=b*S,b%1!==0||S%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)b=d.n,S=d.d,"s"in d&&(b*=d.s);else if(0 in d)b=d[0],1 in d&&(S=d[1]);else throw m();y=b*S;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)b=d;else if(d>0){for(d>=1&&(D=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=D);E<=U&&O<=U;)if(z=(N+P)/(E+O),d===z){E+O<=U?(b=N+P,S=E+O):O>E?(b=P,S=O):(b=N,S=E);break}else d>z?(N+=P,E+=O):(P+=N,O+=E),E>U?(b=P,S=O):(b=N,S=E);b*=D}else(isNaN(d)||isNaN(v))&&(S=b=NaN);break}case"string":{if(E=d.match(/\d+|./g),E===null)throw m();if(E[N]==="-"?(y=-1,N++):E[N]==="+"&&N++,E.length===N+1?_=r(E[N++],y):E[N+1]==="."||E[N]==="."?(E[N]!=="."&&(w=r(E[N++],y)),N++,(N+1===E.length||E[N+1]==="("&&E[N+3]===")"||E[N+1]==="'"&&E[N+3]==="'")&&(_=r(E[N],y),M=Math.pow(10,E[N].length),N++),(E[N]==="("&&E[N+2]===")"||E[N]==="'"&&E[N+2]==="'")&&(x=r(E[N+1],y),D=Math.pow(10,E[N+1].length)-1,N+=3)):E[N+1]==="/"||E[N+1]===":"?(_=r(E[N],y),M=r(E[N+2],1),N+=3):E[N+3]==="/"&&E[N+1]===" "&&(w=r(E[N],y),_=r(E[N+2],y),M=r(E[N+4],1),N+=5),E.length<=N){S=M*D,y=b=x+S*w+D*_;break}}default:throw m()}if(S===0)throw p();t.s=y<0?-1:1,t.n=Math.abs(b),t.d=Math.abs(S)};function l(d,v,b){for(var S=1;v>0;d=d*d%b,v>>=1)v&1&&(S=S*d%b);return S}function s(d,v){for(;v%2===0;v/=2);for(;v%5===0;v/=5);if(v===1)return 0;for(var b=10%v,S=1;b!==1;S++)if(b=b*10%v,S>e)return 0;return S}function u(d,v,b){for(var S=1,y=l(10,b,v),w=0;w<300;w++){if(S===y)return w;S=S*10%v,y=y*10%v}return 0}function c(d,v){if(!d)return v;if(!v)return d;for(;;){if(d%=v,!d)return v;if(v%=d,!v)return d}}function f(d,v){if(o(d,v),this instanceof f)d=c(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,v){return o(d,v),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,v){return o(d,v),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,v){return o(d,v),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,v){return o(d,v),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,v){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,v),t.n===0&&this.d===0)throw p();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,v){return o(d,v),i(c(t.n,this.n)*c(t.d,this.d),t.d*this.d)},lcm:function(d,v){return o(d,v),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,c(t.n,this.n)*c(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,v){if(o(d,v),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var b=a(this.n),S=a(this.d),y=1,w=1;for(var _ in b)if(_!=="1"){if(_==="0"){y=0;break}if(b[_]*=t.n,b[_]%t.d===0)b[_]/=t.d;else return null;y*=Math.pow(_,b[_])}for(var _ in S)if(_!=="1"){if(S[_]*=t.n,S[_]%t.d===0)S[_]/=t.d;else return null;w*=Math.pow(_,S[_])}return t.s<0?i(w,y):i(y,w)},equals:function(d,v){return o(d,v),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,v){o(d,v);var b=this.s*this.n*t.d-t.s*t.n*this.d;return(0<b)-(b<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var v=this.abs(),b=v.toContinued(),S=1;S<b.length;S++){for(var y=i(b[S-1],1),w=S-2;w>=0;w--)y=y.inverse().add(b[w]);if(Math.abs(y.sub(v).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,v){return o(d,v),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var v,b="",S=this.n,y=this.d;return this.s<0&&(b+="-"),y===1?b+=S:(d&&(v=Math.floor(S/y))>0&&(b+=v,b+=" ",S%=y),b+=S,b+="/",b+=y),b},toLatex:function(d){var v,b="",S=this.n,y=this.d;return this.s<0&&(b+="-"),y===1?b+=S:(d&&(v=Math.floor(S/y))>0&&(b+=v,S%=y),b+="\\frac{",b+=S,b+="}{",b+=y,b+="}"),b},toContinued:function(){var d,v=this.n,b=this.d,S=[];if(isNaN(v)||isNaN(b))return S;do S.push(Math.floor(v/b)),d=v%b,v=b,b=d;while(v!==1);return S},toString:function(d){var v=this.n,b=this.d;if(isNaN(v)||isNaN(b))return"NaN";d=d||15;var S=s(v,b),y=u(v,b,S),w=this.s<0?"-":"";if(w+=v/b|0,v%=b,v*=10,v&&(w+="."),S){for(var _=y;_--;)w+=v/b|0,v%=b,v*=10;w+="(";for(var _=S;_--;)w+=v/b|0,v%=b,v*=10;w+=")"}else for(var _=d;v&&_--;)w+=v/b|0,v%=b,v*=10;return w}},typeof Qg=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,$E.exports=f):n.Fraction=f})(Qg)});var aT=an((iwe,iT)=>{iT.exports=function n(e,t){"use strict";var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,l=/^0/,s=function(y){return n.insensitive&&(""+y).toLowerCase()||""+y},u=s(e).replace(i,"")||"",c=s(t).replace(i,"")||"",f=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(u.match(o),16)||f.length!==1&&u.match(a)&&Date.parse(u),h=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,d,v;if(h){if(m<h)return-1;if(m>h)return 1}for(var b=0,S=Math.max(f.length,p.length);b<S;b++){if(d=!(f[b]||"").match(l)&&parseFloat(f[b])||f[b]||0,v=!(p[b]||"").match(l)&&parseFloat(p[b])||p[b]||0,isNaN(d)!==isNaN(v))return isNaN(d)?1:-1;if(typeof d!=typeof v&&(d+="",v+=""),d<v)return-1;if(d>v)return 1}return 0}});var u2=an((wDe,s2)=>{"use strict";var bx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YY={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},jY={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},ZY=function(e,t){return bx({},e,t)};s2.exports=function(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,r=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?ZY:i,o=String(n),l="",s=a(bx({},YY),r?bx({},jY):{}),u=Object.keys(s),c=function(){var p=!1;u.forEach(function(m,h){p||o.length>=m.length&&o.slice(0,m.length)===m&&(l+=s[u[h]],o=o.slice(m.length,o.length),p=!0)}),p||(l+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return l}});var LO=an((RO,x1)=>{(function(n,e,t){function r(l){var s=this,u=o();s.next=function(){var c=2091639*s.s0+s.c*23283064365386963e-26;return s.s0=s.s1,s.s1=s.s2,s.s2=c-(s.c=c|0)},s.c=1,s.s0=u(" "),s.s1=u(" "),s.s2=u(" "),s.s0-=u(l),s.s0<0&&(s.s0+=1),s.s1-=u(l),s.s1<0&&(s.s1+=1),s.s2-=u(l),s.s2<0&&(s.s2+=1),u=null}function i(l,s){return s.c=l.c,s.s0=l.s0,s.s1=l.s1,s.s2=l.s2,s}function a(l,s){var u=new r(l),c=s&&s.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}function o(){var l=4022871197,s=function(u){u=String(u);for(var c=0;c<u.length;c++){l+=u.charCodeAt(c);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return s}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(RO,typeof x1=="object"&&x1,typeof define=="function"&&define)});var VO=an((UO,w1)=>{(function(n,e,t){function r(o){var l=this,s="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var c=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^c^c>>>8},o===(o|0)?l.x=o:s+=o;for(var u=0;u<s.length+64;u++)l.x^=s.charCodeAt(u)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var s=new r(o),u=l&&l.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,u&&(typeof u=="object"&&i(u,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(UO,typeof w1=="object"&&w1,typeof define=="function"&&define)});var zO=an((qO,_1)=>{(function(n,e,t){function r(o){var l=this,s="";l.next=function(){var c=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(c^c<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:s+=o;for(var u=0;u<s.length+64;u++)l.x^=s.charCodeAt(u)|0,u==s.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var s=new r(o),u=l&&l.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,u&&(typeof u=="object"&&i(u,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(qO,typeof _1=="object"&&_1,typeof define=="function"&&define)});var HO=an(($O,S1)=>{(function(n,e,t){function r(o){var l=this;l.next=function(){var u=l.x,c=l.i,f,p,m;return f=u[c],f^=f>>>7,p=f^f<<24,f=u[c+1&7],p^=f^f>>>10,f=u[c+3&7],p^=f^f>>>3,f=u[c+4&7],p^=f^f<<7,f=u[c+7&7],f=f^f<<13,p^=f^f<<9,u[c]=p,l.i=c+1&7,p};function s(u,c){var f,p,m=[];if(c===(c|0))p=m[0]=c;else for(c=""+c,f=0;f<c.length;++f)m[f&7]=m[f&7]<<15^c.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],u.x=m,u.i=0,f=256;f>0;--f)u.next()}s(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var s=new r(o),u=l&&l.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,u&&(u.x&&i(u,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})($O,typeof S1=="object"&&S1,typeof define=="function"&&define)});var WO=an((GO,A1)=>{(function(n,e,t){function r(o){var l=this;l.next=function(){var u=l.w,c=l.X,f=l.i,p,m;return l.w=u=u+1640531527|0,m=c[f+34&127],p=c[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=c[f]=m^p,l.i=f,m+(u^u>>>16)|0};function s(u,c){var f,p,m,h,d,v=[],b=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,b=Math.max(b,c.length)),m=0,h=-32;h<b;++h)c&&(p^=c.charCodeAt((h+32)%c.length)),h===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(d=d+1640531527|0,f=v[h&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(v[(c&&c.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=v[m+34&127],f=v[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,v[m]=p^f;u.w=d,u.X=v,u.i=m}s(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var s=new r(o),u=l&&l.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,u&&(u.X&&i(u,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(GO,typeof A1=="object"&&A1,typeof define=="function"&&define)});var jO=an((YO,N1)=>{(function(n,e,t){function r(o){var l=this,s="";l.next=function(){var c=l.b,f=l.c,p=l.d,m=l.a;return c=c<<25^c>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-c|0,l.b=c=c<<20^c>>>12^f,l.c=f=f-p|0,l.d=p<<16^f>>>16^m,l.a=m-c|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):s+=o;for(var u=0;u<s.length+20;u++)l.b^=s.charCodeAt(u)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var s=new r(o),u=l&&l.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var f=s.next()>>>11,p=(s.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=s.next,c.quick=c,u&&(typeof u=="object"&&i(u,s),c.state=function(){return i(s,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(YO,typeof N1=="object"&&N1,typeof define=="function"&&define)});var JO=an((ZO,lm)=>{(function(n,e,t){var r=256,i=6,a=52,o="random",l=t.pow(r,i),s=t.pow(2,a),u=s*2,c=r-1,f;function p(y,w,_){var x=[];w=w==!0?{entropy:!0}:w||{};var M=v(d(w.entropy?[y,S(e)]:y==null?b():y,3),x),D=new m(x),N=function(){for(var E=D.g(i),P=l,O=0;E<s;)E=(E+O)*r,P*=r,O=D.g(1);for(;E>=u;)E/=2,P/=2,O>>>=1;return(E+O)/P};return N.int32=function(){return D.g(4)|0},N.quick=function(){return D.g(4)/4294967296},N.double=N,v(S(D.S),e),(w.pass||_||function(E,P,O,U){return U&&(U.S&&h(U,D),E.state=function(){return h(D,{})}),O?(t[o]=E,P):E})(N,M,"global"in w?w.global:this==t,w.state)}function m(y){var w,_=y.length,x=this,M=0,D=x.i=x.j=0,N=x.S=[];for(_||(y=[_++]);M<r;)N[M]=M++;for(M=0;M<r;M++)N[M]=N[D=c&D+y[M%_]+(w=N[M])],N[D]=w;(x.g=function(E){for(var P,O=0,U=x.i,z=x.j,L=x.S;E--;)P=L[U=c&U+1],O=O*r+L[c&(L[U]=L[z=c&z+P])+(L[z]=P)];return x.i=U,x.j=z,O})(r)}function h(y,w){return w.i=y.i,w.j=y.j,w.S=y.S.slice(),w}function d(y,w){var _=[],x=typeof y,M;if(w&&x=="object")for(M in y)try{_.push(d(y[M],w-1))}catch(D){}return _.length?_:x=="string"?y:y+"\0"}function v(y,w){for(var _=y+"",x,M=0;M<_.length;)w[c&M]=c&(x^=w[c&M]*19)+_.charCodeAt(M++);return S(w)}function b(){try{var y;return f&&(y=f.randomBytes)?y=y(r):(y=new Uint8Array(r),(n.crypto||n.msCrypto).getRandomValues(y)),S(y)}catch(x){var w=n.navigator,_=w&&w.plugins;return[+new Date,n,_,n.screen,S(e)]}}function S(y){return String.fromCharCode.apply(0,y)}if(v(t.random(),e),typeof lm=="object"&&lm.exports){lm.exports=p;try{f=dl("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self!="undefined"?self:ZO,[],Math)});var QO=an((V3e,XO)=>{var pZ=LO(),mZ=VO(),dZ=zO(),hZ=HO(),gZ=WO(),vZ=jO(),_s=JO();_s.alea=pZ;_s.xor128=mZ;_s.xorwow=dZ;_s.xorshift7=hZ;_s.xor4096=gZ;_s.tychei=vZ;XO.exports=_s});var Aee={};C6(Aee,{MetaBindPublishPlugin:()=>qd});var gn=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},tr=class extends gn{getErrorType(){return"MB_INTERNAL"}},Ua=class extends gn{getErrorType(){return"MB_PARSING"}},lo=class extends gn{getErrorType(){return"MB_VALIDATION"}},Rc=class extends gn{getErrorType(){return"MB_BIND_TARGET"}};var Gr=class extends gn{getErrorType(){return"MB_ARGUMENT"}},hl=class extends gn{getErrorType(){return"MB_JS"}},Qi=class extends gn{getErrorType(){return"MB_EXPRESSION"}};var ns=class extends gn{getErrorType(){return"MB_EMBED"}},is=class extends gn{getErrorType(){return"MB_BUTTON"}};var Fi=class{static get(e,t){return t.get(e).child}static tryGet(e,t){var r;return(r=t.tryGet(e))==null?void 0:r.child}static fullGet(e,t){return t.get(e)}static set(e,t,r){t.set(e,r)}static setAndCreate(e,t,r){t.setAndCreate(e,r)}};var Zs=class{constructor(e,t){this.id=e,this.manager=t,this.cache=new Map}validateStoragePath(e,t,r,i){return i.validateStoragePathAsFilePath(e,r)}resolveBindTargetScope(e,t,r){return e}createCacheItem(e){let t=this.cache.get(e);if(t!==void 0)throw new tr({errorLevel:"CRITICAL",effect:"can not create cache item",cause:"cache item already exists"});return t=this.getDefaultCacheItem(e),this.cache.set(e,t),t}getOrCreateCacheItem(e){let t=this.getCacheItemForStoragePath(e);return t===void 0&&(t=this.getDefaultCacheItem(e),this.cache.set(e,t)),t}subscribe(e){if(e.bindTarget===void 0)throw new tr({errorLevel:"CRITICAL",effect:"can not subscribe",cause:"subscription bind target undefined"});let t=this.getOrCreateCacheItem(e.bindTarget.storagePath);return t.subscriptions.push(e),t}unsubscribe(e){if(e.bindTarget===void 0)throw new tr({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"subscription bind target undefined"});let t=this.cache.get(e.bindTarget.storagePath);if(t===void 0)throw new tr({errorLevel:"CRITICAL",effect:"can not unsubscribe",cause:"cache item does not exist"});return t.subscriptions=t.subscriptions.filter(r=>r.uuid!==e.uuid),t}getCacheItemForStoragePath(e){return this.cache.get(e)}onCycle(e){}iterateCacheItems(){return this.cache.values()}shouldDelete(e){return!0}deleteCache(e){this.cache.delete(e.storagePath)}writeCache(e,t){let r=this.getOrCreateCacheItem(t.storagePath);return Fi.setAndCreate(r.data,t.storageProp,e),r}writeEntireCache(e,t){t.data=e}readCache(e){if(e.storageType!==this.id)throw new tr({errorLevel:"ERROR",effect:"can not read cache",cause:`Source "${e.storageType}" does not match`});let t=this.getCacheItemForStoragePath(e.storagePath);return t===void 0?Fi.tryGet(this.readExternal(e.storagePath),e.storageProp):this.readCacheItem(t,e.storageProp)}readCacheItem(e,t){return Fi.tryGet(e.data,t)}readEntireCacheItem(e){return e.data}};function _n(n,e){let t=n.tryParse(e);if(t.success)return t.value;throw new gl("ERROR","parsiNOM parser",e,t)}var gl=class extends gn{constructor(e,t,r,i){super({errorLevel:e,effect:"failed to parse",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=r,this.parseFailure=i,this.source=t,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
    `:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
    `;let t=this.str.split(`
    `)[this.parseFailure.furthest.line-1],r=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${r}${t}`,this.positionContext+=`
    ${this.getUnderline(r.length)}
    `,this.message+=`
    `+this.positionContext}getUnderline(e){let t=" ".repeat(this.parseFailure.furthest.column+e-1),r=`^ (${this.cause})`;return t+r}},cn=class extends gn{constructor(e,t,r,i,a,o){super({errorLevel:e,effect:"failed to validate parser result",cause:r,docs:o}),this.str=i,this.position=a,this.source=t,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
    `:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
    `,this.str&&this.position){let t=this.str.split(`
    `)[this.position.from.line-1],r=`${this.position.from.line} |   `;this.positionContext=`${r}${t}`,this.positionContext+=`
    ${this.getUnderline(r.length,t.length)}
    `,this.message+=`
    `+this.positionContext}}getUnderline(e,t){if(this.position===void 0)return"";let r=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:t,a="^".repeat(i-this.position.from.column);return r+a}};var Lc=class extends Zs{readExternal(e){return{}}getDefaultCacheItem(e){return Ie({data:{},storagePath:e},this.manager.getDefaultCacheItem())}syncExternal(e){return xt(this,null,function*(){})}},Uc=class{constructor(e,t){this.id=e,this.manager=t,this.cache=Ie({data:{}},this.manager.getDefaultCacheItem())}createCacheItem(e){return this.cache}getOrCreateCacheItem(e){return this.cache}validateStoragePath(e,t,r,i){if(t)throw new cn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type 'global_memory' does not support a storage path.",r,e.position);return""}resolveBindTargetScope(e,t,r){return e}deleteCache(e){}getCacheItemForStoragePath(e){return this.cache}iterateCacheItems(){return[this.cache][Symbol.iterator]()}onCycle(e){}readCache(e){return this.readCacheItem(this.cache,e.storageProp)}readCacheItem(e,t){return Fi.tryGet(e.data,t)}shouldDelete(e){return!1}subscribe(e){return this.cache.subscriptions.push(e),this.cache}syncExternal(e){}unsubscribe(e){return this.cache.subscriptions=this.cache.subscriptions.filter(t=>t.uuid!==e.uuid),this.cache}writeCache(e,t){return Fi.setAndCreate(this.cache.data,t.storageProp,e),this.cache}writeEntireCache(e,t){t.data=e}readEntireCacheItem(e){return e.data}};function vl(n,e,t){return Math.min(Math.max(n,e),t)}function Vc(n,e,t){return n!==void 0?Math.min(Math.max(n,e),t):void 0}function yh(n,e,t,r,i){return(n-e)/(t-e)*(i-r)+r}function bh(n,e){return(n%e+e)%e}function YA(n){return!!n}function xh(n){let e=Reflect.ownKeys(n);for(let t of e){let r=n[t];(r&&typeof r=="object"||typeof r=="function")&&xh(r)}return Object.freeze(n)}function Pr(){return window.crypto.randomUUID()}function Js(n){try{return new URL(n),!0}catch(e){return!1}}function qc(n){window.open(n,"_blank")}function jA(n,e,t=", ",r="and"){return n.length===0?"":(n=n.map(e),n.length===1?n[0]:n.length===2?`${n[0]} ${r} ${n[1]}`:`${n.slice(0,-1).join(t)} ${r} ${n.slice(-1)}`)}function Fn(n,e){n.innerHTML="",n.className="";let t=document.createElement("span");t.className="mb-warning mb-unloaded",t.innerText=`[MB_UNLOADED] ${e}`,n.appendChild(t)}var pt=class{static createElement(e,t,r){let i=document.createElement(t);return r!=null&&r.text&&(i.innerText=r.text),r!=null&&r.class&&(i.className=r.class),e.appendChild(i),i}static addClass(e,t){e.classList.add(...t.split(" "))}static addClasses(e,t){e.classList.add(...t)}static removeClass(e,t){e.classList.remove(...t.split(" "))}static hasClass(e,t){return e.classList.contains(t)}static removeAllClasses(e){e.className=""}static empty(e){for(;e.lastChild;)e.removeChild(e.lastChild)}};var zc=class{constructor(e,t,r,i,a,o,l){this.uuid=e,this.callbackSignal=t,this.metadataManager=r,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=l,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+Pr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}computeValue(){return xt(this,null,function*(){try{let e=this.dependencySubscriptions.map(r=>r.callbackSignal.get()),t=yield this.computeFunction(e);this.callbackSignal.set(t),this.bindTarget!==void 0&&this.metadataManager.write(t,this.bindTarget,this.uuid)}catch(e){let t=e instanceof Error?e:String(e);console.warn(new tr({errorLevel:"ERROR",effect:"Failed to compute value of computed subscription",cause:t}))}})}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var $c=class{constructor(e,t,r,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=r,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.write(e,this.bindTarget,this.uuid)}notify(e){try{this.callbackSignal.set(e)}catch(t){let r=t instanceof Error?t:String(t);console.warn(new tr({errorLevel:"ERROR",effect:"Failed to notify subscription of updated value in the cache",cause:r}))}}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var ZA=5,I6=5*60;function wh(n,e){return n===void 0||e===void 0||n.storageType!==e.storageType||n.storagePath!==e.storagePath?!1:JA(n.storageProp,e.storageProp,e.listenToChildren)}function JA(n,e,t){let r=n.path,i=e.path;for(let a=0;a<Math.min(r.length,i.length);a++)if(r[a].type!==i[a].type||r[a].prop!==i[a].prop)return!1;return r.length>i.length?t:!0}function P6(n){return n===void 0?"undefined":`${n.storagePath}#${n.storageProp.toString()}`}var Hc=class{constructor(){this.sources=new Map,this.defaultSource="CHANGE_THE_DEFAULT_SOURCE"}registerSource(e){this.sources.set(e.id,e)}setDefaultSource(e){if(this.sources.has(e))this.defaultSource=e;else throw new tr({errorLevel:"CRITICAL",effect:"can not set default source",cause:`Source "${e}" does not exist`})}unregisterSource(e){this.sources.delete(e.id)}getSource(e){return this.sources.get(e)}iterateSources(){return this.sources.keys()}subscribe(e,t,r,i){let a=new $c(e,t,this,r,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,r,i,a,o){let l=new zc(e,t,this,r,i,a,o);return this.checkForLoops(l),l.init(),this.subscribeSubscription(l),l}unsubscribe(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new tr({errorLevel:"ERROR",effect:"can not unsubscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let r=t.unsubscribe(e);r.subscriptions.length===0&&(r.inactive=!0)}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getSource(e.bindTarget.storageType);if(t===void 0)throw new tr({errorLevel:"ERROR",effect:"can not subscribe subscription",cause:`Source "${e.bindTarget.storageType}" does not exist`});let r=t.subscribe(e);r.inactive=!1,r.cyclesSinceInactive=0,e.notify(t.readCacheItem(r,e.bindTarget.storageProp))}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.at(0),r=e.at(-1);if(!(r===void 0||t===void 0)){if(wh(t.bindTarget,r.bindTarget))throw new Rc({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${P6(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(r))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheItemForBindTarget(e);if(!t)return[];let r=[];for(let i of t.subscriptions)wh(i.bindTarget,e)&&r.push(i);return t.subscriptions.filter(i=>wh(i.bindTarget,e))}getCacheItemForBindTarget(e){var t;return(t=this.getSource(e.storageType))==null?void 0:t.getCacheItemForStoragePath(e.storagePath)}cycle(){for(let e of this.sources.values()){let t=[];for(let r of e.iterateCacheItems()){if(e.onCycle(r),r.pendingInternalChange){try{e.syncExternal(r)}catch(i){console.warn("failed to update frontmatter",i)}r.pendingInternalChange=!1}r.cyclesSinceInternalChange+=1,r.inactive&&(r.cyclesSinceInactive+=1),r.cyclesSinceInactive>I6&&e.shouldDelete(r)&&t.push(r)}for(let r of t)e.deleteCache(r)}}write(e,t,r){let i=this.getSource(t.storageType);if(i===void 0)throw new tr({errorLevel:"ERROR",effect:"can not write to cache",cause:`Source "${t.storageType}" does not exist`});let a=i.writeCache(e,t);a.pendingInternalChange=!0,a.cyclesSinceInternalChange=0,this.notifyListeners(t,r)}read(e){let t=this.getSource(e.storageType);if(t===void 0)throw new tr({errorLevel:"ERROR",effect:"can not read metadata",cause:`Source "${e.storageType}" does not exist`});return t.readCache(e)}isCacheExternalWriteLocked(e){return e.cyclesSinceInternalChange<ZA}notifyListeners(e,t){let r=this.getSource(e.storageType);if(r===void 0)throw new tr({errorLevel:"ERROR",effect:"can notify listeners metadata",cause:`Source "${e.storageType}" does not exist`});let i=r.getCacheItemForStoragePath(e.storagePath);if(i!==void 0){for(let a of i.subscriptions)if(!(t!==void 0&&t===a.uuid||a.bindTarget===void 0)&&JA(e.storageProp,a.bindTarget.storageProp,a.bindTarget.listenToChildren)){let o=r.readCache(a.bindTarget);a.notify(o)}}}notifyAllListeners(e,t){for(let r of t.subscriptions){if(r.bindTarget===void 0)continue;let i=e.readCache(r.bindTarget);r.notify(i)}}deleteCachesForStoragePath(e){for(let t of this.sources.values()){let r=t.getCacheItemForStoragePath(e);r!==void 0&&(r.subscriptions.forEach(i=>i.delete()),t.deleteCache(r))}}getDefaultCacheItem(){return{subscriptions:[],cyclesSinceInternalChange:ZA+1,pendingInternalChange:!1,cyclesSinceInactive:0,inactive:!0}}onExternalUpdate(e,t,r){let i=e.getCacheItemForStoragePath(t);if(i===void 0||this.isCacheExternalWriteLocked(i))return;let a=e.readEntireCacheItem(i);e.writeEntireCache(r,i);for(let o of i.subscriptions){if(o.bindTarget===void 0)continue;let l=o.bindTarget.storageProp,s=Fi.tryGet(r,l),u=Fi.tryGet(a,l);s!==u&&o.notify(s)}}onStoragePathDeleted(e){this.deleteCachesForStoragePath(e)}onStoragePathRenamed(e,t){this.deleteCachesForStoragePath(e)}};var dN=br(Pi());var Wr=br(Pi()),Bh=br(hi());var iN=br(Pi()),Zn=br(hi());var yl=br(Pi()),gi=br(hi()),In=gi.P.sequence(gi.P.or(yl.P_UTILS.unicodeLetter(),gi.P.oneOf("_$")),gi.P.or(yl.P_UTILS.unicodeAlphanumeric(),gi.P.oneOf("-_$")).many()).map(n=>n[0]+n[1].join("")).describe("identifier"),eN=gi.P.sequenceMap((n,e)=>n+e.map(t=>t[0]+t[1]).join(""),In,gi.P.sequence(yl.P_UTILS.optionalWhitespace(),In).many()).describe("identifier with spaces"),V6=gi.P.string("\\").then(yl.P_UTILS.any()).map(n=>n==="'"?"'":n==="\\"?"\\":"\\"+n);function tN(n){return gi.P.or(V6,gi.P.noneOf(n+"\\")).many().map(e=>e.join("")).trim(gi.P.string(n))}var ef=tN("'"),rN=tN('"'),Ks=gi.P.manyNotOf("{}[]#^|:?").box("file path");function jn(n,e){return{value:n,position:e}}function vi(n){if(n!==void 0)return typeof n=="string"?{value:n}:n}var os=(t=>(t.OBJECT="object",t.ARRAY="array",t))(os||{}),tf=class{constructor(e,t,r){this.parent=e,this.access=t,this.child=r}};function q6(n,e){return n[e]}function nN(n,e,t){n[e]=t}var as=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new tf(e,this,q6(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new tf(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");nN(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");nN(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var aN=In.node((n,e)=>({type:"object",prop:jn(n,e)})),Th=Zn.P.or(iN.P_UTILS.digits().wrap(Zn.P.string("["),Zn.P.string("]")).node((n,e)=>({type:"array",prop:jn(n,e)})),rN.wrap(Zn.P.string("["),Zn.P.string("]")).node((n,e)=>({type:"object",prop:jn(n,e)}))),z6=Zn.P.or(Zn.P.sequenceMap(n=>({storagePath:void 0,listenToChildren:!1,storageProp:n}),Th.atLeast(1)),Zn.P.sequenceMap((n,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[n,...e]}),aN,Th.many())),$6=Zn.P.sequenceMap((n,e)=>[n,...e],aN,Th.many()),Fh=Zn.P.sequenceMap((n,e)=>(n.storageProp=n.storageProp.concat(e.flat()),n),z6,Zn.P.string(".").then($6).many()),ha=Zn.P.sequenceMap((n,e,t)=>(t.storageType=n,t.storagePath=e,t),In.describe("storage type").node(jn).skip(Zn.P.string("^").describe('storage type separator "^"')).optional(),Ks.describe("storage path").node(jn).skip(Zn.P.string("#").describe('storage/file path separator "#"')).optional(),Fh.describe("property path")).box("bind target");var ri=br(Pi()),on=br(hi());var ga=br(hi()),rf=br(Pi());var Ih=ga.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),H6=ga.P.or(ef,Ih).node(jn),G6=ga.P.separateBy(H6,ga.P.string(",").describe('argument value separator ","').trim(rf.P_UTILS.optionalWhitespace())),W6=ga.P.sequenceMap((n,e)=>({name:n,value:e}),In.node(jn),G6.trim(rf.P_UTILS.optionalWhitespace()).wrap(ga.P.string("(").describe('argument value paren "("'),ga.P.string(")").describe('argument value paren ")"')).optional([])),bl=ga.P.separateBy(W6,ga.P.string(",").describe('argument separator ","').trim(rf.P_UTILS.optionalWhitespace()));var Y6=on.P.string("\\").then(ri.P_UTILS.any()).map(n=>n==="["?"[":n==="]"?"]":n==="{"?"{":n==="}"?"}":n==="\\"?"\\":"\\"+n),nf=on.P.sequenceMap((n,e)=>n+e.flat().join(""),on.P.manyNotOf("{}[]\\"),on.P.sequence(Y6,on.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),j6=on.P.sequenceMap((n,e)=>[n,...e.flat()],nf,on.P.sequence(ha.wrapString("{","}"),nf).many()),Z6=on.P.sequenceMap((n,e,t)=>{let r=t===void 0?void 0:t[1];return{viewFieldType:n,writeToBindTarget:r,arguments:e,templateDeclaration:void 0}},In.node(jn).trim(ri.P_UTILS.optionalWhitespace()).optional().describe("input field type"),bl.trim(ri.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(ri.P_UTILS.optionalWhitespace()).optional([]),on.P.sequence(on.P.string(":").trim(ri.P_UTILS.optionalWhitespace()),ha).trim(ri.P_UTILS.optionalWhitespace()).optional()),oN=on.P.sequenceMap((n,e,t,r)=>r===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(r.templateDeclaration=e,r),on.P.string("VIEW"),j6.wrapString("[","]"),ri.P_UTILS.optionalWhitespace(),Z6.wrapString("[","]").optional(),ri.P_UTILS.eof()),J6=on.P.sequenceMap((n,e,t,r)=>(e!==void 0&&(n.listenToChildren=!0),{bindTarget:n,name:r}),ha.wrapString("{","}"),on.P.string(" and children").optional(),on.P.string(" as "),In),sN=on.P.sequenceMap((n,e,t,r)=>({bindTargetMappings:n,writeToBindTarget:e,hidden:t!==void 0,code:r}),J6.separateBy(ri.P_UTILS.whitespace()).skip(ri.P_UTILS.whitespace()),on.P.string("save to ").then(ha.wrapString("{","}")).skip(ri.P_UTILS.whitespace()).optional(),on.P.string("hidden").skip(ri.P_UTILS.whitespace()).optional(),on.P.string("---").then(ri.P_UTILS.remaining()));var Ph=br(hi());var eu=class{constructor(e,t){this.range=e,this.tokenClass=t}};var Ft=class n{static sequence(...e){return Ph.P.sequenceMap((...t)=>t.flat(2).filter(r=>r!==void 0),...e)}static separateBy(e,t){return n.sequence(e,n.sequence(t,e).many()).optional([])}static highlight(e,t){return e.node((r,i)=>[new eu(i,t)])}static highlightStr(e,t){return n.highlight(Ph.P.string(e),t)}};var Oh=Ft.highlight(In,"ident"),af=Ft.highlight(In,"keyword"),kh=Ft.highlightStr(",","control"),of=Ft.highlightStr("(","control"),sf=Ft.highlightStr(")","control"),tu=Ft.highlightStr("[","control"),ru=Ft.highlightStr("]","control"),Q6=Ft.highlight(ef,"string"),K6=Ft.highlight(Ih,"ident"),e9=Bh.P.or(K6,Q6),t9=Ft.separateBy(e9,kh.trim(Wr.P_UTILS.optionalWhitespace())),r9=Ft.sequence(af,Ft.sequence(of,t9.trim(Wr.P_UTILS.optionalWhitespace()),sf).optional()),Rh=Ft.separateBy(r9,kh.trim(Wr.P_UTILS.optionalWhitespace())),nu=Ft.sequence(Ft.sequence(Oh,Ft.highlightStr("^","control")).optional(),Ft.sequence(Ft.highlight(Ks,"ident"),Ft.highlightStr("#","control")).optional(),Ft.highlight(Fh,"ident")),n9=Ft.sequence(af.trim(Wr.P_UTILS.optionalWhitespace()),Ft.sequence(of,Rh.trim(Wr.P_UTILS.optionalWhitespace()),sf).trim(Wr.P_UTILS.optionalWhitespace()).optional(),Ft.sequence(Ft.highlightStr(":","control").trim(Wr.P_UTILS.optionalWhitespace()),nu).trim(Wr.P_UTILS.optionalWhitespace()).optional()),i9=Ft.sequence(af.trim(Wr.P_UTILS.optionalWhitespace()).optional(),Ft.sequence(of,Rh.trim(Wr.P_UTILS.optionalWhitespace()),sf).trim(Wr.P_UTILS.optionalWhitespace()).optional(),Ft.sequence(Ft.highlightStr(":","control").trim(Wr.P_UTILS.optionalWhitespace()),nu).trim(Wr.P_UTILS.optionalWhitespace()).optional()),lN=Bh.P.or(Ft.sequence(Ft.highlightStr("INPUT","control"),tu,Oh.trim(Wr.P_UTILS.optionalWhitespace()),ru.skip(Wr.P_UTILS.optionalWhitespace()),tu,i9,ru),Ft.sequence(Ft.highlightStr("INPUT","control"),tu,n9,ru)),uN=Ft.highlight(nf,"ident"),a9=Ft.sequence(Ft.highlightStr("{","string"),nu,Ft.highlightStr("}","string")),o9=Ft.sequence(uN,Ft.sequence(a9,uN).many()),s9=Ft.sequence(af.trim(Wr.P_UTILS.optionalWhitespace()).optional(),Ft.sequence(of,Rh.trim(Wr.P_UTILS.optionalWhitespace()).optional(),sf).trim(Wr.P_UTILS.optionalWhitespace()).optional(),Ft.sequence(Ft.highlightStr(":","control").trim(Wr.P_UTILS.optionalWhitespace()),nu).trim(Wr.P_UTILS.optionalWhitespace()).optional()),cN=Ft.sequence(Ft.highlightStr("VIEW","control"),tu,o9,ru,Ft.sequence(tu.skip(Wr.P_UTILS.optionalWhitespace()),s9,ru).optional()),fN=Ft.sequence(Ft.highlightStr("BUTTON","control"),tu,Ft.separateBy(Oh,kh.trim(Wr.P_UTILS.optionalWhitespace())),ru);var ss=class{constructor(e,t,r){this.str=e,this.highlights=t.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=r}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
    `?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new eu({from:this.parsingError.parseFailure.furthest,to:e},"error")]}};var fo=(x=>(x.TOGGLE="toggle",x.SLIDER="slider",x.TEXT="text",x.TEXT_AREA="textArea",x.SELECT="select",x.MULTI_SELECT="multiSelect",x.DATE="date",x.TIME="time",x.DATE_PICKER="datePicker",x.NUMBER="number",x.SUGGESTER="suggester",x.EDITOR="editor",x.IMAGE_SUGGESTER="imageSuggester",x.PROGRESS_BAR="progressBar",x.INLINE_SELECT="inlineSelect",x.LIST="list",x.LIST_SUGGESTER="listSuggester",x.INLINE_LIST_SUGGESTER="inlineListSuggester",x.INLINE_LIST="inlineList",x.IMAGE_LIST_SUGGESTER="imageListSuggester",x.DATE_TIME="dateTime",x.INVALID="invalid",x))(fo||{}),Jr=(S=>(S.CLASS="class",S.ADD_LABELS="addLabels",S.MIN_VALUE="minValue",S.MAX_VALUE="maxValue",S.STEP_SIZE="stepSize",S.OPTION="option",S.TITLE="title",S.OPTION_QUERY="optionQuery",S.SHOWCASE="showcase",S.ON_VALUE="onValue",S.OFF_VALUE="offValue",S.DEFAULT_VALUE="defaultValue",S.PLACEHOLDER="placeholder",S.USE_LINKS="useLinks",S.LIMIT="limit",S.MULTI_LINE="multiLine",S.ALLOW_OTHER="allowOther",S.INVALID="invalid",S))(Jr||{}),pN={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},imageListSuggester:{type:"imageListSuggester",allowInBlock:!0,allowInline:!1},dateTime:{type:"dateTime",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}};var pr={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester","imageListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","partial","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},multiLine:{type:"multiLine",allowedFieldTypes:["list"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},allowOther:{type:"allowOther",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},xl=(a=>(a.MATH="math",a.TEXT="text",a.LINK="link",a.IMAGE="image",a.INVALID="invalid",a))(xl||{}),us=(i=>(i.RENDER_MARKDOWN="renderMarkdown",i.HIDDEN="hidden",i.CLASS="class",i.INVALID="invalid",i))(us||{}),iu={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},yi=(t=>(t.INLINE="inline",t.BLOCK="block",t))(yi||{}),uf=8,au=(s=>(s.INPUT="INPUT",s.VIEW="VIEW",s.JS_VIEW="JS_VIEW",s.TABLE="TABLE",s.BUTTON_GROUP="BUTTON_GROUP",s.BUTTON="BUTTON",s.EMBED="EMBED",s.EXCLUDED="EXCLUDED",s))(au||{}),co=class{constructor(e){this.linePosition=e}getPosition(){return this.linePosition}};function mN(n){return n==="INPUT"||n==="VIEW"||n==="BUTTON_GROUP"}var lf=class{constructor(e){this.plugin=e}highlightInputFieldDeclaration(e,t){return this.highlightWithParser(e,t,lN)}highlightViewFieldDeclaration(e,t){return this.highlightWithParser(e,t,cN)}highlightInlineButtonDeclaration(e,t){return this.highlightWithParser(e,t,fN)}highlight(e,t,r){if(t==="INPUT")return this.highlightInputFieldDeclaration(e,r);if(t==="VIEW")return this.highlightViewFieldDeclaration(e,r);if(t==="BUTTON_GROUP")return this.highlightInlineButtonDeclaration(e,r);throw new Error(`Unknown MDRCType ${t}`)}highlightBindTarget(e,t){return this.highlightWithParser(e,t,nu)}highlightWithParser(e,t,r){try{return t?new ss(e,_n(r.trim(dN.P_UTILS.optionalWhitespace()).thenEof(),e)):new ss(e,_n(r.thenEof(),e))}catch(i){return i instanceof gl?new ss(e,[],i):(console.error(i),new ss(e,[]))}}};var vn=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(vn||{}),Va=(m=>(m.COMMAND="command",m.JS="js",m.OPEN="open",m.INPUT="input",m.SLEEP="sleep",m.TEMPLATER_CREATE_NOTE="templaterCreateNote",m.UPDATE_METADATA="updateMetadata",m.CREATE_NOTE="createNote",m.REPLACE_IN_NOTE="replaceInNote",m.REGEXP_REPLACE_IN_NOTE="regexpReplaceInNote",m.REPLACE_SELF="replaceSelf",m.INSERT_INTO_NOTE="insertIntoNote",m.INLINE_JS="inlineJS",m))(Va||{});var hN=br(Pi()),Jn=br(hi());var u9=Jn.P.sequence(Ks,Jn.P.string("#").then(Jn.P.manyNotOf("[]#|^:")).optional(),Jn.P.string("|").then(Jn.P.manyNotOf("[]")).optional()),Lh=Jn.P.or(Jn.P.sequenceMap((n,e)=>({isEmbed:n!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),Jn.P.string("!").optional(),u9.wrapString("[[","]]")),Jn.P.sequenceMap((n,e,t)=>{let r=!Js(t);return{isEmbed:n!==void 0,target:t,block:void 0,alias:e,internal:r}},Jn.P.string("!").optional(),Jn.P.manyNotOf("[]").wrapString("[","]"),Jn.P.manyNotOf("()").wrapString("(",")"))),l9=Jn.P.separateBy(Lh,Jn.P.string(",").trim(hN.P_UTILS.optionalWhitespace())),rn=class n{static parseLink(e){return _n(Lh.thenEof(),e)}static parseLinkList(e){return _n(l9.thenEof(),e)}static isLink(e){return Lh.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}static parseLinkOrUrl(e){return Js(e)?n.urlToLink(new URL(e)):n.parseLink(e)}static convertToLinkString(e){return n.isLink(e)?e:Js(e)?`[${new URL(e).hostname}](${e})`:n.isLink(`[[${e}]]`)?`[[${e}]]`:""}};var wl=br(Pi()),po=br(hi());var vN=po.P.sequenceMap((n,e)=>n===void 0?e:-e,po.P.string("-").optional(),po.P.or(po.P.sequenceMap((n,e,t)=>Number(n+e+t),wl.P_UTILS.digits(),po.P.string("."),wl.P_UTILS.digits()),wl.P_UTILS.digits().map(n=>Number(n)))).thenEof(),yN=po.P.sequenceMap((n,e)=>n===void 0?e:-e,po.P.string("-").optional(),wl.P_UTILS.digits().map(n=>Number(n))).thenEof();function bi(n){if(n.toLowerCase()==="null")return null;if(n==="true")return!0;if(n==="false")return!1;{let e=vN.tryParse(n);return e.success?e.value:n}}function qa(n){return n===void 0||n===null?"":typeof n=="string"?n:typeof n=="boolean"?n?"true":"false":n.toString()}function mo(n){return n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"}function Bi(n){if(n!=null){if(mo(n))return[n];if(typeof n=="object"&&Array.isArray(n))return n.filter(e=>mo(e))}}function ou(n){if(typeof n=="number")return n;if(typeof n=="string"){let e=vN.tryParse(n);if(e.success)return e.value}}function va(n){return mo(n)?qa(n):void 0}function ho(n){return mo(n)?n:void 0}function cf(n,e){return Array.isArray(n)?n.map(t=>Uh(t,e)).filter(t=>t!=="").join(", "):Uh(n,e)}function Uh(n,e){return n==null?e?"":"null":typeof n=="function"?"<function>":typeof n=="object"||Array.isArray(n)?JSON.stringify(n):n.toString()}function bN(n,e){return Array.isArray(n)?n.map(t=>gN(t,e)).filter(t=>t!==""):gN(n,e)}function gN(n,e){return typeof n=="string"?rn.isLink(n)?rn.parseLink(n):Js(n)?rn.urlToLink(new URL(n)):n:Uh(n,e)}var ff=class{constructor(e){this.plugin=e}createDefaultButtonConfig(){return{label:"This is a button",icon:"",hidden:!1,class:"",tooltip:"",id:"",style:"default",actions:[]}}runButtonAction(e,t,r,i){return xt(this,null,function*(){try{if(e.action)yield this.plugin.api.buttonActionRunner.runAction(e,e.action,t,r,i);else if(e.actions)for(let a of e.actions)yield this.plugin.api.buttonActionRunner.runAction(e,a,t,r,i);else console.warn("meta-bind | ButtonMDRC >> no action defined")}catch(a){console.warn("meta-bind | ButtonMDRC >> error while running action",a),this.plugin.internal.showNotice("meta-bind | Error while running button action. Check the console for details.")}})}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:"",args:{}};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"/",fileName:"",openNote:!0};if(e==="updateMetadata")return{type:"updateMetadata",bindTarget:"",evaluate:!1,value:""};if(e==="createNote")return{type:"createNote",folderPath:"/",fileName:"Untitled",openNote:!0};if(e==="replaceInNote")return{type:"replaceInNote",fromLine:0,toLine:0,replacement:"Replacement text"};if(e==="replaceSelf")return{type:"replaceSelf",replacement:"Replacement text"};if(e==="regexpReplaceInNote")return{type:"regexpReplaceInNote",regexp:"([A-Z])\\w+",replacement:"Replacement text"};if(e==="insertIntoNote")return{type:"insertIntoNote",line:0,value:"Some text"};if(e==="inlineJS")return{type:"inlineJS",code:'console.log("Hello world")'};throw new Error(`Unknown button action type: ${e}`)}runAction(e,t,r,i,a){return xt(this,null,function*(){if(t.type==="command"){yield this.runCommandAction(t);return}else if(t.type==="js"){yield this.runJSAction(e,t,r);return}else if(t.type==="open"){yield this.runOpenAction(t,r);return}else if(t.type==="input"){yield this.runInputAction(t);return}else if(t.type==="sleep"){yield this.runSleepAction(t);return}else if(t.type==="templaterCreateNote"){yield this.runTemplaterCreateNoteAction(t);return}else if(t.type==="updateMetadata"){yield this.runUpdateMetadataAction(t,r);return}else if(t.type==="createNote"){yield this.runCreateNoteAction(t);return}else if(t.type==="replaceInNote"){yield this.runReplaceInNoteAction(t,r);return}else if(t.type==="replaceSelf"){yield this.runReplaceSelfAction(t,r,i,a);return}else if(t.type==="regexpReplaceInNote"){yield this.runRegexpReplaceInNotAction(t,r);return}else if(t.type==="insertIntoNote"){yield this.runInsertIntoNoteAction(t,r);return}else if(t.type==="inlineJS"){yield this.runInlineJsAction(e,t,r);return}throw new Error("Unknown button action type")})}runCommandAction(e){return xt(this,null,function*(){this.plugin.internal.executeCommandById(e.command)})}runJSAction(e,t,r){return xt(this,null,function*(){let i={buttonConfig:structuredClone(e),args:structuredClone(t.args)};(yield this.plugin.internal.jsEngineRunFile(t.file,r,i))()})}runOpenAction(e,t){return xt(this,null,function*(){var i;let r=rn.parseLinkOrUrl(e.link);r.internal?this.plugin.internal.openFile(r.target,t,(i=e.newTab)!=null?i:!1):qc(r.target)})}runInputAction(e){return xt(this,null,function*(){let t=document.activeElement;t&&t instanceof HTMLInputElement&&(t.setRangeText(e.str,t.selectionStart,t.selectionEnd,"end"),t.dispatchEvent(new Event("input",{bubbles:!0})))})}runSleepAction(e){return xt(this,null,function*(){yield new Promise(t=>setTimeout(t,e.ms))})}runTemplaterCreateNoteAction(e){return xt(this,null,function*(){yield this.plugin.internal.createNoteWithTemplater(e.templateFile,e.folderPath,e.fileName,e.openNote)})}runUpdateMetadataAction(e,t){return xt(this,null,function*(){let r=this.plugin.api.bindTargetParser.fromStringAndValidate(e.bindTarget,t);if(e.evaluate){let i=new Function("x",`return ${e.value};`);this.plugin.api.updateMetadata(r,i)}else this.plugin.api.setMetadata(r,bi(e.value))})}runCreateNoteAction(e){return xt(this,null,function*(){var t,r;yield this.plugin.internal.createFile((t=e.folderPath)!=null?t:"",e.fileName,"md",(r=e.openNote)!=null?r:!1)})}runReplaceInNoteAction(e,t){return xt(this,null,function*(){if(e.fromLine>e.toLine)throw new Error("From line cannot be greater than to line");let i=(yield this.plugin.internal.readFilePath(t)).split(`
    `);if(e.fromLine<0||e.toLine>i.length+1)throw new Error("Line numbers out of bounds");let a=e.templater?yield this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement;i=[...i.slice(0,e.fromLine-1),a,...i.slice(e.toLine)],yield this.plugin.internal.writeFilePath(t,i.join(`
    `))})}runReplaceSelfAction(e,t,r,i){return xt(this,null,function*(){if(r)throw new Error("Replace self action not supported for inline buttons");let a=i==null?void 0:i.getPosition();if(a===void 0)throw new Error("Position of the button in the note is unknown");if(a.lineStart>a.lineEnd)throw new Error("Position of the button in the note is invalid");let l=(yield this.plugin.internal.readFilePath(t)).split(`
    `);if(a.lineStart<0||a.lineEnd>l.length+1)throw new Error("Position of the button in the note is out of bounds");let s=e.templater?yield this.plugin.internal.evaluateTemplaterTemplate(e.replacement,t):e.replacement;l=[...l.slice(0,a.lineStart),s,...l.slice(a.lineEnd+1)],yield this.plugin.internal.writeFilePath(t,l.join(`
    `))})}runRegexpReplaceInNotAction(e,t){return xt(this,null,function*(){if(e.regexp==="")throw new Error("Regexp cannot be empty");let r=yield this.plugin.internal.readFilePath(t);r=r.replace(new RegExp(e.regexp,"g"),e.replacement),yield this.plugin.internal.writeFilePath(t,r)})}runInsertIntoNoteAction(e,t){return xt(this,null,function*(){let i=(yield this.plugin.internal.readFilePath(t)).split(`
    `);if(e.line<1||e.line>i.length+1)throw new Error("Line number out of bounds");let a=e.templater?yield this.plugin.internal.evaluateTemplaterTemplate(e.value,t):e.value;i=[...i.slice(0,e.line-1),a,...i.slice(e.line-1)],yield this.plugin.internal.writeFilePath(t,i.join(`
    `))})}runInlineJsAction(e,t,r){return xt(this,null,function*(){let i={buttonConfig:structuredClone(e)};(yield this.plugin.internal.jsEngineRunCode(t.code,r,i))()})}};var Pn=class{constructor(){this.mounted=!1,this.targetEl=void 0,this.onUnmountCbs=[]}isMounted(){return this.mounted}getTargetEl(){return this.targetEl}mount(e){if(this.mounted||this.targetEl)throw new Error("Mountable is already mounted");this.mounted=!0,this.targetEl=e,this.onMount(e)}unmount(){if(!this.mounted||!this.targetEl)throw new Error("Mountable is not mounted");this.mounted=!1,this.onUnmount(this.targetEl);for(let e of this.onUnmountCbs)e();this.targetEl=void 0}registerUnmountCb(e){this.onUnmountCbs.push(e)}};var sn=class extends Pn{constructor(e,t,r){super(),this.plugin=e,this.filePath=r,this.uuid=t}getUuid(){return this.uuid}getFilePath(){return this.filePath}onMount(e){this.plugin.mountableManager.registerMountable(this)}onUnmount(e){this.plugin.mountableManager.unregisterMountable(this)}};function Xe(){}function c9(n,e){for(let t in e)n[t]=e[t];return n}function Vh(n){return n()}function df(){return Object.create(null)}function Nt(n){n.forEach(Vh)}function ls(n){return typeof n=="function"}function Le(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}var mf;function Oi(n,e){return n===e?!0:(mf||(mf=document.createElement("a")),mf.href=e,n===mf.href)}function xN(n){return Object.keys(n).length===0}function Ki(n,e,t,r){if(n){let i=wN(n,e,t,r);return n[0](i)}}function wN(n,e,t,r){return n[1]&&r?c9(t.ctx.slice(),n[1](r(e))):t.ctx}function ea(n,e,t,r){if(n[2]&&r){let i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)a[l]=e.dirty[l]|i[l];return a}return e.dirty|i}return e.dirty}function ta(n,e,t,r,i,a){if(i){let o=wN(e,t,r,a);n.p(o,i)}}function ra(n){if(n.ctx.length>32){let e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}var _l=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var hf=class n{constructor(e){tn(this,"_listeners","WeakMap"in _l?new WeakMap:void 0);tn(this,"_observer");tn(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var r;for(let i of t)n.entries.set(i.target,i),(r=this._listeners.get(i.target))==null||r(i)})}};hf.entries="WeakMap"in _l?new WeakMap:void 0;var _N=!1;function SN(){_N=!0}function AN(){_N=!1}function ae(n,e){n.appendChild(e)}function ki(n,e,t){let r=NN(n);if(!r.getElementById(e)){let i=te("style");i.id=e,i.textContent=t,m9(r,i)}}function NN(n){if(!n)return document;let e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function m9(n,e){return ae(n.head||n,e),e.sheet}function J(n,e,t){n.insertBefore(e,t||null)}function Z(n){n.parentNode&&n.parentNode.removeChild(n)}function lr(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function te(n){return document.createElement(n)}function xi(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function et(n){return document.createTextNode(n)}function be(){return et(" ")}function _r(){return et("")}function Se(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function q(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Bn(n){return n===""?null:+n}function DN(n){return Array.from(n.childNodes)}function ht(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ge(n,e){n.value=e==null?"":e}function EN(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function go(n,e,t){for(let r=0;r<n.options.length;r+=1){let i=n.options[r];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Sl(n){let e=n.querySelector(":checked");return e&&e.__value}function Lt(n,e,t){n.classList.toggle(e,!!t)}function gf(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function MN(n){let e={};return n.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var vo;function za(n){vo=n}function vf(){if(!vo)throw new Error("Function called outside component initialization");return vo}function $a(n){vf().$$.on_mount.push(n)}function Al(n){vf().$$.on_destroy.push(n)}function qh(){let n=vf();return(e,t,{cancelable:r=!1}={})=>{let i=n.$$.callbacks[e];if(i){let a=gf(e,t,{cancelable:r});return i.slice().forEach(o=>{o.call(n,a)}),!a.defaultPrevented}return!0}}function CN(n,e){let t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}var cs=[];var Br=[],uu=[],$h=[],b9=Promise.resolve(),Hh=!1;function TN(){Hh||(Hh=!0,b9.then(yf))}function ya(n){uu.push(n)}function ni(n){$h.push(n)}var zh=new Set,su=0;function yf(){if(su!==0)return;let n=vo;do{try{for(;su<cs.length;){let e=cs[su];su++,za(e),x9(e.$$)}}catch(e){throw cs.length=0,su=0,e}for(za(null),cs.length=0,su=0;Br.length;)Br.pop()();for(let e=0;e<uu.length;e+=1){let t=uu[e];zh.has(t)||(zh.add(t),t())}uu.length=0}while(cs.length);for(;$h.length;)$h.pop()();Hh=!1,zh.clear(),za(n)}function x9(n){if(n.fragment!==null){n.update(),Nt(n.before_update);let e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ya)}}function FN(n){let e=[],t=[];uu.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),uu=e}var bf=new Set,fs;function Dt(){fs={r:0,c:[],p:fs}}function Et(){fs.r||Nt(fs.c),fs=fs.p}function re(n,e){n&&n.i&&(bf.delete(n),n.i(e))}function oe(n,e,t,r){if(n&&n.o){if(bf.has(n))return;bf.add(n),fs.c.push(()=>{bf.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function gt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function IN(n,e){n.d(1),e.delete(n.key)}function xf(n,e){oe(n,1,1,()=>{e.delete(n.key)})}function lu(n,e,t,r,i,a,o,l,s,u,c,f){let p=n.length,m=a.length,h=p,d={};for(;h--;)d[n[h].key]=h;let v=[],b=new Map,S=new Map,y=[];for(h=m;h--;){let M=f(i,a,h),D=t(M),N=o.get(D);N?r&&y.push(()=>N.p(M,e)):(N=u(D,M),N.c()),b.set(D,v[h]=N),D in d&&S.set(D,Math.abs(h-d[D]))}let w=new Set,_=new Set;function x(M){re(M,1),M.m(l,c),o.set(M.key,M),c=M.first,m--}for(;p&&m;){let M=v[m-1],D=n[p-1],N=M.key,E=D.key;M===D?(c=M.first,p--,m--):b.has(E)?!o.has(N)||w.has(N)?x(M):_.has(E)?p--:S.get(N)>S.get(E)?(_.add(N),x(M)):(w.add(E),p--):(s(D,o),p--)}for(;p--;){let M=n[p];b.has(M.key)||s(M,o)}for(;m;)x(v[m-1]);return Nt(y),v}var w9=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],_9=new Set([...w9]);function ii(n,e,t){let r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function Me(n){n&&n.c()}function Ae(n,e,t){let{fragment:r,after_update:i}=n.$$;r&&r.m(e,t),ya(()=>{let a=n.$$.on_mount.map(Vh).filter(ls);n.$$.on_destroy?n.$$.on_destroy.push(...a):Nt(a),n.$$.on_mount=[]}),i.forEach(ya)}function Ne(n,e){let t=n.$$;t.fragment!==null&&(FN(t.after_update),Nt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function A9(n,e){n.$$.dirty[0]===-1&&(cs.push(n),TN(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ue(n,e,t,r,i,a,o=null,l=[-1]){let s=vo;za(n);let u=n.$$={fragment:null,ctx:[],props:a,update:Xe,not_equal:i,bound:df(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:df(),dirty:l,skip_bound:!1,root:e.target||s.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(n,e.props||{},(f,p,...m)=>{let h=m.length?m[0]:p;return u.ctx&&i(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),c&&A9(n,f)),p}):[],u.update(),c=!0,Nt(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){SN();let f=DN(e.target);u.fragment&&u.fragment.l(f),f.forEach(Z)}else u.fragment&&u.fragment.c();e.intro&&re(n.$$.fragment),Ae(n,e.target,e.anchor),AN(),yf()}za(s)}var N9;typeof HTMLElement=="function"&&(N9=class extends HTMLElement{constructor(e,t,r){super();tn(this,"$$ctor");tn(this,"$$s");tn(this,"$$c");tn(this,"$$cn",!1);tn(this,"$$d",{});tn(this,"$$r",!1);tn(this,"$$p_d",{});tn(this,"$$l",{});tn(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}connectedCallback(){return xt(this,null,function*(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=te("slot"),a!=="default"&&q(o,"name",a)},m:function(u,c){J(u,o,c)},d:function(u){u&&Z(o)}}}};if(yield Promise.resolve(),!this.$$cn||this.$$c)return;let t={},r=MN(this);for(let a of this.$$s)a in r&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=Gh(o,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:_t(Ie({},this.$$d),{$$slots:t,$$scope:{ctx:[]}})});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=Gh(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let l=this.$$c.$on(a,o);this.$$l_u.set(o,l)}this.$$l={}}})}attributeChangedCallback(e,t,r){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Gh(e,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Gh(n,e,t,r){var a;let i=(a=t[n])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!t[n])return e;if(r==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Re=class{constructor(){tn(this,"$$");tn(this,"$$set")}$destroy(){Ne(this,1),this.$destroy=Xe}$on(e,t){if(!ls(t))return Xe;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!xN(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var PN="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PN);function Wh(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function s(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,s)}u((r=r.apply(n,e||[])).next())})}function BN(n){let e;return{c(){e=te("div"),q(e,"class","mb-icon-wrapper")},m(t,r){J(t,e,r),n[3](e)},p:Xe,d(t){t&&Z(e),n[3](null)}}}function D9(n){let e,t=n[0].length>0&&BN(n);return{c(){t&&t.c(),e=_r()},m(r,i){t&&t.m(r,i),J(r,e,i)},p(r,[i]){r[0].length>0?t?t.p(r,i):(t=BN(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Xe,o:Xe,d(r){r&&Z(e),t&&t.d(r)}}}function E9(n,e,t){let{iconName:r=""}=e,{plugin:i}=e,a;$a(()=>{i.internal.setIcon(a,r)});function o(l){Br[l?"unshift":"push"](()=>{a=l,t(1,a)})}return n.$$set=l=>{"iconName"in l&&t(0,r=l.iconName),"plugin"in l&&t(2,i=l.plugin)},[r,a,i,o]}var Yh=class extends Re{constructor(e){super(),Ue(this,e,E9,D9,Le,{iconName:0,plugin:2})}},fn=Yh;function M9(n){ki(n,"svelte-i3s6h2","button.svelte-i3s6h2{gap:var(--size-4-2)}.mod-plain.svelte-i3s6h2{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-i3s6h2:hover{color:var(--text-normal)}.disabled.svelte-i3s6h2{opacity:0.6}")}function ON(n){let e,t;return e=new fn({props:{plugin:n[1],iconName:n[5]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),i&32&&(a.iconName=r[5]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function C9(n){let e,t,r,i,a,o,l=n[5]&&ON(n);return{c(){e=te("button"),l&&l.c(),t=be(),r=et(n[4]),q(e,"class","mb-button-inner svelte-i3s6h2"),q(e,"aria-label",n[3]),e.disabled=n[0],Lt(e,"mod-cta",n[2]==="primary"),Lt(e,"mod-warning",n[2]==="destructive"),Lt(e,"mod-plain",n[2]==="plain"),Lt(e,"disabled",n[0]),Lt(e,"mb-error",n[6])},m(s,u){J(s,e,u),l&&l.m(e,null),ae(e,t),ae(e,r),i=!0,a||(o=Se(e,"click",n[9]),a=!0)},p(s,[u]){s[5]?l?(l.p(s,u),u&32&&re(l,1)):(l=ON(s),l.c(),re(l,1),l.m(e,t)):l&&(Dt(),oe(l,1,1,()=>{l=null}),Et()),(!i||u&16)&&ht(r,s[4]),(!i||u&8)&&q(e,"aria-label",s[3]),(!i||u&1)&&(e.disabled=s[0]),(!i||u&4)&&Lt(e,"mod-cta",s[2]==="primary"),(!i||u&4)&&Lt(e,"mod-warning",s[2]==="destructive"),(!i||u&4)&&Lt(e,"mod-plain",s[2]==="plain"),(!i||u&1)&&Lt(e,"disabled",s[0]),(!i||u&64)&&Lt(e,"mb-error",s[6])},i(s){i||(re(l),i=!0)},o(s){oe(l),i=!1},d(s){s&&Z(e),l&&l.d(),a=!1,o()}}}function T9(n,e,t){let{plugin:r}=e,{variant:i="default"}=e,{disabled:a=!1}=e,{tooltip:o=""}=e,{label:l=""}=e,{icon:s=""}=e,{error:u=!1}=e,{onClick:c=()=>Wh(void 0,void 0,void 0,function*(){})}=e;function f(){return Wh(this,void 0,void 0,function*(){if(!a){t(0,a=!0);try{yield c()}catch(m){console.warn("failed to run button component on click",m)}finally{t(0,a=!1)}}})}let p=()=>f();return n.$$set=m=>{"plugin"in m&&t(1,r=m.plugin),"variant"in m&&t(2,i=m.variant),"disabled"in m&&t(0,a=m.disabled),"tooltip"in m&&t(3,o=m.tooltip),"label"in m&&t(4,l=m.label),"icon"in m&&t(5,s=m.icon),"error"in m&&t(6,u=m.error),"onClick"in m&&t(8,c=m.onClick)},[a,r,i,o,l,s,u,f,c,p]}var jh=class extends Re{constructor(e){super(),Ue(this,e,T9,C9,Le,{plugin:1,variant:2,disabled:0,tooltip:3,label:4,icon:5,error:6,onClick:8},M9)}},wf=jh;var yo=class extends Pn{constructor(e,t,r,i,a,o){super(),this.plugin=e,this.config=t,this.filePath=r,this.inline=i==="inline",this.position=a,this.isPreview=o}onMount(e){pt.empty(e),pt.removeAllClasses(e),pt.addClasses(e,["mb-button",this.inline?"mb-button-inline":"mb-button-block"]),!(!this.inline&&!this.isPreview&&(this.config.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.config),this.config.hidden))&&(this.config.class&&pt.addClasses(e,this.config.class.split(" ").filter(t=>t!=="")),this.buttonComponent=new wf({target:e,props:{plugin:this.plugin,icon:this.config.icon,variant:this.config.style,label:this.config.label,tooltip:YA(this.config.tooltip)?this.config.tooltip:this.config.label,onClick:()=>xt(this,null,function*(){yield this.plugin.api.buttonActionRunner.runButtonAction(this.config,this.filePath,this.inline,this.position)})}}))}onUnmount(){var e,t;(e=this.buttonComponent)==null||e.$destroy(),!this.inline&&!this.isPreview&&(t=this.config)!=null&&t.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.config.id)}};var Qt=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof gn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var _f=class extends sn{constructor(e,t,r,i,a,o){super(e,t,r),this.declaration=i,this.position=a,this.isPreview=o,this.errorCollection=new Qt(this.getUuid())}onMount(e){if(console.debug("meta-bind | ButtonMountable >> mount",this.declaration.declarationString),super.onMount(e),pt.removeAllClasses(e),!this.declaration.config||!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new yo(this.plugin,this.declaration.config,this.getFilePath(),"block",this.position,this.isPreview),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | ButtonMountable >> destroy",this.declaration.declarationString),super.onUnmount(e),(t=this.buttonField)==null||t.unmount(),Fn(e,"button")}};var Sf=class{constructor(e){this.value=e,this.count=1}getValue(){return this.value}increment(){return this.count+=1,this.count}decrement(){return this.count-=1,this.count}getCount(){return this.count}isEmpty(){return this.count===0}};var Af=class{constructor(e){this.plugin=e,this.buttons=new Map,this.buttonLoadListeners=new Map,this.buttonTemplates=new Map}setButtonTemplates(e){let t=new Set,r=new Qt("ButtonManager");this.buttonTemplates.clear();for(let i of e)i.id===void 0||i.id===""?r.add(new is({errorLevel:"ERROR",cause:`Button with label "${i.label}" has no id, but button templates must have an id.`,effect:"Button templates could not be saved."})):t.has(i.id)?r.add(new is({errorLevel:"ERROR",cause:`Button id "${i.id}" is not unique. The same id is used by multiple buttons.`,effect:"Button templates could not be saved."})):(t.add(i.id),this.buttonTemplates.set(i.id,i));return r.hasErrors()&&this.buttonTemplates.clear(),r}registerButtonLoadListener(e,t,r){let i=this.getButton(e,t);i&&r(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(t)||a.set(t,new Map);let o=a.get(t),l=Pr();return o.set(l,r),()=>this.removeButtonLoadListener(e,t,l)}notifyButtonLoadListeners(e,t){let r=this.getButton(e,t);if(!r)throw new Error(`ButtonManager | button with id ${t} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);if(a)for(let[o,l]of a)l(r)}removeButtonLoadListener(e,t,r){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);a&&(a.delete(r),a.size===0&&i.delete(t),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,t){if(t.id===void 0||t.id==="")throw new Error("ButtonManager | button id is undefined");if(this.buttonTemplates.has(t.id))throw new Error(`ButtonManager | button with id "${t.id}" already exists in the button templates`);this.buttons.has(e)||this.buttons.set(e,new Map),this.buttons.get(e).set(t.id,new Sf(t)),this.notifyButtonLoadListeners(e,t.id)}getButton(e,t){var i;if(this.buttonTemplates.has(t))return this.buttonTemplates.get(t);let r=this.buttons.get(e);if(r)return(i=r.get(t))==null?void 0:i.getValue()}removeButton(e,t){var i,a;let r=this.buttons.get(e);r&&((i=r.get(t))==null||i.decrement(),(a=r.get(t))!=null&&a.isEmpty()&&r.delete(t),r.size===0&&this.buttons.delete(e))}};var Nf=class extends Pn{constructor(e,t,r,i,a){super(),this.plugin=e,this.referencedIds=t,this.filePath=r,this.renderChildType=i,this.notePosition=a}renderInitialButton(e,t){return pt.removeAllClasses(e),pt.addClasses(e,["mb-button",this.renderChildType==="inline"?"mb-button-inline":"mb-button-block"]),new wf({target:e,props:{plugin:this.plugin,variant:"default",label:"Button ID not Found",tooltip:`No button with id '${t}' found`,error:!0,onClick:()=>xt(this,null,function*(){})}})}onMount(e){pt.empty(e),pt.addClasses(e,["mb-button-group",this.renderChildType==="inline"?"mb-button-group-inline":"mb-button-group-block"]);for(let t of this.referencedIds){let r=pt.createElement(e,"span"),i=this.renderInitialButton(r,t),a,o=this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,t,l=>{i==null||i.$destroy(),a=new yo(this.plugin,l,this.filePath,this.renderChildType,this.notePosition,!1),a.mount(r)});this.registerUnmountCb(()=>{i==null||i.$destroy(),a==null||a.unmount(),o()})}}onUnmount(e){pt.empty(e)}};var Df=class extends sn{constructor(e,t,r,i,a,o){super(e,t,r),this.declaration=i,this.errorCollection=new Qt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.renderChildType=a,this.position=o}onMount(e){if(console.debug("meta-bind | ButtonGroupMountable >> mount",this.declaration),super.onMount(e),pt.removeAllClasses(e),!this.declaration.errorCollection.isEmpty()){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.declaration.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declaration.declarationString});return}this.buttonField=new Nf(this.plugin,this.declaration.referencedButtonIds,this.getFilePath(),this.renderChildType,this.position),this.buttonField.mount(e)}onUnmount(e){var t;console.debug("meta-bind | ButtonGroupMountable >> destroy",this.declaration),super.onUnmount(e),(t=this.buttonField)==null||t.unmount(),Fn(e,"inline button")}};var kr=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){qc(e)}};var Ef=class extends sn{constructor(e,t,r,i,a){super(e,t,r),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Qt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new tr({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getBindTarget(){return this.declaration.bindTarget}shouldAddCardContainer(){let e=this.declaration.inputFieldType==="select"||this.declaration.inputFieldType==="multiSelect"||this.declaration.inputFieldType==="list",t=this.hasArgument("showcase")||this.hasArgument("title");return this.renderChildType==="block"&&(e||t)}createContainer(e){if(this.shouldAddCardContainer()){let t=pt.createElement(e,"div");pt.addClass(t,"mb-card");let r=this.getArgument("title");return r&&pt.createElement(t,"h3",{text:r.value}),t}return e}addShowcase(e){if(this.getArgument("showcase")&&this.shouldAddCardContainer()){let r=pt.createElement(e,"code",{class:"mb-none"}),i=pt.createElement(r,"a",{text:this.declarationString,class:"mb-no-link"});i.href=kr.linkToInputField(this.declaration.inputFieldType)}}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new tr({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var a;if(console.debug("meta-bind | InputFieldMountable >> mount",this.declaration),super.onMount(e),pt.empty(e),pt.addClass(e,"mb-input"),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=this.createContainer(e);this.createErrorIndicator(t);let r=pt.createElement(t,"div",{class:"mb-input-wrapper"});(a=this.inputField)==null||a.mount(r);let i=this.getArguments("class");for(let o of i)pt.addClasses(r,o.value);pt.addClass(r,`mb-input-type-${this.declaration.inputFieldType}`),this.renderChildType==="block"?pt.addClass(e,"mb-input-block"):pt.addClass(e,"mb-input-inline"),this.addShowcase(t)}onUnmount(e){var t;console.debug("meta-bind | InputFieldMountable >> unmount",this.declaration),super.onUnmount(e),(t=this.inputField)==null||t.destroy(),Fn(e,"input field")}};var cu=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=Pr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let t of this.listeners)try{t.callback(e)}catch(r){let i=r instanceof Error?r:String(r);console.error(new tr({errorLevel:"ERROR",effect:"error while calling listener callback",cause:i}))}}},Rr=class extends cu{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},Mf=class extends cu{constructor(e,t){super(),this.dependency=e,this.value=t(e.get()),this.dependencyListener=e.registerListener({callback:r=>this.set(t(r))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var Cf=class extends cu{constructor(e,t){super(),this.plugin=e,this.mounted=!1,this.svelteComponent=t}setValue(e){var t;(t=this.svelteComponentInstance)==null||t.setValue(e)}mount(e,t,r={}){let i=Object.assign({plugin:this.plugin,value:t,onValueChange:a=>{this.notifyListeners(a)}},r);this.svelteComponentInstance=new this.svelteComponent({target:e,props:i}),this.mounted=!0}unmount(){var e;this.unregisterAllListeners(),(e=this.svelteComponentInstance)==null||e.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var Gt=class extends Pn{constructor(e){super(),this.mountable=e,this.plugin=e.plugin,this.inputSignal=new Rr(void 0),this.inputFieldComponent=new Cf(this.plugin,this.getSvelteComponent()),this.computedSignal=new Mf(this.inputSignal,t=>{let r=this.filterValue(t);return r!==void 0?r:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let r=this.rawReverseMapValue(this.getDefaultValue());return r!==void 0?r:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var t;(t=this.metadataSubscription)==null||t.update(e)}getDefaultValue(){let e=this.mountable.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!==void 0?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}onMount(e){this.inputSignal.set(this.inputSignal.get()),this.computedSignal.registerListener({callback:r=>this.inputFieldComponent.setValue(this.reverseMapValue(r))});let t=this.mountable.getBindTarget();t&&(this.inputFieldComponent.registerListener({callback:r=>{this.notifySubscription(this.mapValue(r))}}),this.metadataSubscription=this.mountable.plugin.metadataManager.subscribe(this.mountable.getUuid(),this.inputSignal,t,()=>this.mountable.unmount())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}onUnmount(){var e;this.computedSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}};function F9(n){let e,t,r;return{c(){e=te("input"),q(e,"type","date")},m(i,a){J(i,e,a),Ge(e,n[0]),t||(r=[Se(e,"input",n[3]),Se(e,"input",n[4])],t=!0)},p(i,[a]){a&1&&Ge(e,i[0])},i:Xe,o:Xe,d(i){i&&Z(e),t=!1,Nt(r)}}}function I9(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(s){t(0,r=s)}function o(){r=this.value,t(0,r)}let l=()=>i(r);return n.$$set=s=>{"value"in s&&t(0,r=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[r,i,a,o,l]}var Zh=class extends Re{constructor(e){super(),Ue(this,e,I9,F9,Le,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},kN=Zh;var Xh=br(Nl()),On=class n{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Xh.default)(e,n.dateFormat)}static getDefaultDate(){return(0,Xh.default)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var Tf=class extends Gt{filterValue(e){return va(e)}getFallbackDefaultValue(){return On.stringify(On.getDefaultDate())}getSvelteComponent(){return kN}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function P9(n){let e,t,r=(n[0]?n[0].format(n[2]):"none")+"",i,a,o,l,s,u;return o=new fn({props:{plugin:n[1],iconName:"calendar"}}),{c(){e=te("div"),t=te("span"),i=et(r),a=be(),Me(o.$$.fragment),q(t,"class","date-picker-text"),q(e,"class","date-picker-input"),q(e,"role","button"),q(e,"tabindex","0")},m(c,f){J(c,e,f),ae(e,t),ae(t,i),ae(e,a),Ae(o,e,null),l=!0,s||(u=[Se(e,"click",n[3]),Se(e,"keydown",n[4])],s=!0)},p(c,[f]){(!l||f&5)&&r!==(r=(c[0]?c[0].format(c[2]):"none")+"")&&ht(i,r);let p={};f&2&&(p.plugin=c[1]),o.$set(p)},i(c){l||(re(o.$$.fragment,c),l=!0)},o(c){oe(o.$$.fragment,c),l=!1},d(c){c&&Z(e),Ne(o),s=!1,Nt(u)}}}function B9(n,e,t){let{plugin:r}=e,{value:i}=e,{dateFormat:a}=e,{showDatePicker:o}=e,{onValueChange:l}=e;function s(f){t(0,i=f)}function u(f){o()}function c(f){f.key===" "&&o()}return n.$$set=f=>{"plugin"in f&&t(1,r=f.plugin),"value"in f&&t(0,i=f.value),"dateFormat"in f&&t(2,a=f.dateFormat),"showDatePicker"in f&&t(5,o=f.showDatePicker),"onValueChange"in f&&t(6,l=f.onValueChange)},[i,r,a,u,c,o,l,s]}var Qh=class extends Re{constructor(e){super(),Ue(this,e,B9,P9,Le,{plugin:1,value:0,dateFormat:2,showDatePicker:5,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},RN=Qh;var Ff=class extends Gt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let t=On.parse(e);if(t.isValid())return On.stringify(t)}getFallbackDefaultValue(){return On.getDefaultDate()}getSvelteComponent(){return RN}rawMapValue(e){return e===null?null:On.stringify(e)}rawReverseMapValue(e){if(e===null)return null;let t=On.parse(e);if(t.isValid())return t}getMountArgs(){return{dateFormat:this.mountable.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.mountable.plugin.internal.openDatePickerModal(this)}}}};function O9(n){ki(n,"svelte-1tfnqy0",".editor-input.svelte-1tfnqy0.svelte-1tfnqy0{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0;overflow:scroll}.editor-input.svelte-1tfnqy0>textarea.svelte-1tfnqy0{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none;border-radius:0}.editor-input.svelte-1tfnqy0>div.svelte-1tfnqy0{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function k9(n){let e,t,r,i,a,o;return{c(){e=te("div"),t=te("textarea"),r=be(),i=te("div"),q(t,"class","svelte-1tfnqy0"),q(i,"class","svelte-1tfnqy0"),q(e,"class","editor-input card svelte-1tfnqy0"),q(e,"role","button"),q(e,"tabindex","0")},m(l,s){J(l,e,s),ae(e,t),n[10](t),Ge(t,n[0]),ae(e,r),ae(e,i),n[14](i),a||(o=[Se(t,"input",n[11]),Se(t,"focusout",n[12]),Se(t,"input",n[13]),Se(e,"click",n[15]),Se(e,"keypress",n[16])],a=!0)},p(l,[s]){s&1&&Ge(t,l[0])},i:Xe,o:Xe,d(l){l&&Z(e),n[10](null),n[14](null),a=!1,Nt(o)}}}function R9(n,e,t){let{plugin:r}=e,{value:i}=e,{onValueChange:a}=e,{render:o}=e,l,s;$a(()=>{t(2,l.style.display="block",l),t(3,s.style.display="none",s),o(l,i)});function u(w){t(0,i=w),o(l,w)}function c(){t(2,l.style.display="block",l),t(3,s.style.display="none",s),o(l,i)}function f(){t(2,l.style.display="none",l),t(3,s.style.display="block",s),s.focus()}function p(w){w.key===" "&&f()}function m(w){Br[w?"unshift":"push"](()=>{s=w,t(3,s)})}function h(){i=this.value,t(0,i)}let d=()=>c(),v=()=>a(i);function b(w){Br[w?"unshift":"push"](()=>{l=w,t(2,l)})}let S=()=>f(),y=w=>p(w);return n.$$set=w=>{"plugin"in w&&t(7,r=w.plugin),"value"in w&&t(0,i=w.value),"onValueChange"in w&&t(1,a=w.onValueChange),"render"in w&&t(8,o=w.render)},[i,a,l,s,c,f,p,r,o,u,m,h,d,v,b,S,y]}var Kh=class extends Re{constructor(e){super(),Ue(this,e,R9,k9,Le,{plugin:7,value:0,onValueChange:1,render:8,setValue:9},O9)}get setValue(){return this.$$.ctx[9]}},LN=Kh;var If=class extends Gt{filterValue(e){return mo(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return LN}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>void this.renderInElement(e,t)}}renderInElement(e,t){return xt(this,null,function*(){var r;(r=this.mdUnloadCallback)==null||r.call(this),e.innerHTML="",this.mdUnloadCallback=yield this.mountable.plugin.internal.renderMarkdown(t,e,this.mountable.getFilePath())})}onUnmount(){var e;super.onUnmount(),(e=this.mdUnloadCallback)==null||e.call(this)}};function L9(n){ki(n,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function U9(n){let e,t,r,i,a=n[4].default,o=Ki(a,n,n[3],null);return{c(){e=te("button"),o&&o.c(),q(e,"aria-label",n[2]),e.disabled=n[1],q(e,"class","svelte-12xcpmj"),Lt(e,"mod-cta",n[0]==="primary"),Lt(e,"mod-warning",n[0]==="destructive"),Lt(e,"mod-plain",n[0]==="plain"),Lt(e,"disabled",n[1])},m(l,s){J(l,e,s),o&&o.m(e,null),t=!0,r||(i=Se(e,"click",n[5]),r=!0)},p(l,[s]){o&&o.p&&(!t||s&8)&&ta(o,a,l,l[3],t?ea(a,l[3],s,null):ra(l[3]),null),(!t||s&4)&&q(e,"aria-label",l[2]),(!t||s&2)&&(e.disabled=l[1]),(!t||s&1)&&Lt(e,"mod-cta",l[0]==="primary"),(!t||s&1)&&Lt(e,"mod-warning",l[0]==="destructive"),(!t||s&1)&&Lt(e,"mod-plain",l[0]==="plain"),(!t||s&2)&&Lt(e,"disabled",l[1])},i(l){t||(re(o,l),t=!0)},o(l){oe(o,l),t=!1},d(l){l&&Z(e),o&&o.d(l),r=!1,i()}}}function V9(n,e,t){let{$$slots:r={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:l=""}=e;function s(u){CN.call(this,n,u)}return n.$$set=u=>{"variant"in u&&t(0,a=u.variant),"disabled"in u&&t(1,o=u.disabled),"tooltip"in u&&t(2,l=u.tooltip),"$$scope"in u&&t(3,i=u.$$scope)},[a,o,l,i,r,s]}var eg=class extends Re{constructor(e){super(),Ue(this,e,V9,U9,Le,{variant:0,disabled:1,tooltip:2},L9)}},Sr=eg;function UN(n){let e,t;return{c(){e=te("img"),q(e,"class","mb-image-card-image"),Oi(e.src,t=n[1].internal.imagePathToUri(n[0]))||q(e,"src",t),q(e,"alt",n[0])},m(r,i){J(r,e,i)},p(r,i){i&3&&!Oi(e.src,t=r[1].internal.imagePathToUri(r[0]))&&q(e,"src",t),i&1&&q(e,"alt",r[0])},d(r){r&&Z(e)}}}function q9(n){let e,t;return e=new fn({props:{iconName:"pencil",plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function z9(n){let e,t,r,i,a=(n[0]||"no image selected")+"",o,l,s,u,c=n[0]&&UN(n);return s=new Sr({props:{variant:"plain",$$slots:{default:[q9]},$$scope:{ctx:n}}}),s.$on("click",n[2]),{c(){e=te("div"),c&&c.c(),t=be(),r=te("div"),i=te("span"),o=et(a),l=be(),Me(s.$$.fragment),q(r,"class","mb-image-card-footer"),q(e,"class","mb-image-card")},m(f,p){J(f,e,p),c&&c.m(e,null),ae(e,t),ae(e,r),ae(r,i),ae(i,o),ae(r,l),Ae(s,r,null),u=!0},p(f,[p]){f[0]?c?c.p(f,p):(c=UN(f),c.c(),c.m(e,t)):c&&(c.d(1),c=null),(!u||p&1)&&a!==(a=(f[0]||"no image selected")+"")&&ht(o,a);let m={};p&66&&(m.$$scope={dirty:p,ctx:f}),s.$set(m)},i(f){u||(re(s.$$.fragment,f),u=!0)},o(f){oe(s.$$.fragment,f),u=!1},d(f){f&&Z(e),c&&c.d(),Ne(s)}}}function $9(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function l(u){t(0,i=u)}function s(u){a()}return n.$$set=u=>{"plugin"in u&&t(1,r=u.plugin),"value"in u&&t(0,i=u.value),"showSuggester"in u&&t(3,a=u.showSuggester),"onValueChange"in u&&t(4,o=u.onValueChange)},[i,r,s,a,o,l]}var tg=class extends Re{constructor(e){super(),Ue(this,e,$9,z9,Le,{plugin:1,value:0,showSuggester:3,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},VN=tg;var Pf=class extends Gt{filterValue(e){return mo(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return VN}rawMapValue(e){return e}rawReverseMapValue(e){return qa(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};function H9(n){let e,t;return{c(){e=te("a"),t=et(n[2]),q(e,"data-href",n[2]),q(e,"href",n[2]),q(e,"class",n[1]),q(e,"target","_blank"),q(e,"rel","noopener")},m(r,i){J(r,e,i),ae(e,t)},p(r,i){i&4&&ht(t,r[2]),i&4&&q(e,"data-href",r[2]),i&4&&q(e,"href",r[2]),i&2&&q(e,"class",r[1])},d(r){r&&Z(e)}}}function G9(n){let e,t=n[0].alias+"",r;return{c(){e=te("a"),r=et(t),q(e,"data-href",n[2]),q(e,"href",n[2]),q(e,"class",n[1]),q(e,"target","_blank"),q(e,"rel","noopener"),q(e,"aria-label",n[2])},m(i,a){J(i,e,a),ae(e,r)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&ht(r,t),a&4&&q(e,"data-href",i[2]),a&4&&q(e,"href",i[2]),a&2&&q(e,"class",i[1]),a&4&&q(e,"aria-label",i[2])},d(i){i&&Z(e)}}}function W9(n){let e;function t(a,o){return a[0].alias?G9:H9}let r=t(n,-1),i=r(n);return{c(){i.c(),e=_r()},m(a,o){i.m(a,o),J(a,e,o)},p(a,[o]){r===(r=t(a,o))&&i?i.p(a,o):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Xe,o:Xe,d(a){a&&Z(e),i.d(a)}}}function Y9(n,e,t){let r,i,{mdLink:a}=e;return n.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=a.block?`${a.target}#${a.block}`:a.target),n.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,r]}var rg=class extends Re{constructor(e){super(),Ue(this,e,Y9,W9,Le,{mdLink:0})}},bo=rg;var j9=n=>({element:n&1}),qN=n=>({element:n[0][n[0].length-1]});function zN(n,e,t){let r=n.slice();return r[3]=e[t],r}var Z9=n=>({element:n&1}),$N=n=>({element:n[3]});function HN(n){let e,t,r,i,a,o=n[2].default,l=Ki(o,n,n[1],$N);return{c(){l&&l.c(),e=be(),t=te("span"),t.textContent=",",r=be(),i=te("span")},m(s,u){l&&l.m(s,u),J(s,e,u),J(s,t,u),J(s,r,u),J(s,i,u),a=!0},p(s,u){l&&l.p&&(!a||u&3)&&ta(l,o,s,s[1],a?ea(o,s[1],u,Z9):ra(s[1]),$N)},i(s){a||(re(l,s),a=!0)},o(s){oe(l,s),a=!1},d(s){s&&(Z(e),Z(t),Z(r),Z(i)),l&&l.d(s)}}}function J9(n){let e,t,r=gt(n[0].slice(0,n[0].length-1)),i=[];for(let s=0;s<r.length;s+=1)i[s]=HN(zN(n,r,s));let a=s=>oe(i[s],1,1,()=>{i[s]=null}),o=n[2].default,l=Ki(o,n,n[1],qN);return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=be(),l&&l.c()},m(s,u){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,u);J(s,e,u),l&&l.m(s,u),t=!0},p(s,[u]){if(u&3){r=gt(s[0].slice(0,s[0].length-1));let c;for(c=0;c<r.length;c+=1){let f=zN(s,r,c);i[c]?(i[c].p(f,u),re(i[c],1)):(i[c]=HN(f),i[c].c(),re(i[c],1),i[c].m(e.parentNode,e))}for(Dt(),c=r.length;c<i.length;c+=1)a(c);Et()}l&&l.p&&(!t||u&3)&&ta(l,o,s,s[1],t?ea(o,s[1],u,j9):ra(s[1]),qN)},i(s){if(!t){for(let u=0;u<r.length;u+=1)re(i[u]);re(l,s),t=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)oe(i[u]);oe(l,s),t=!1},d(s){s&&Z(e),lr(i,s),l&&l.d(s)}}}function X9(n,e,t){let{$$slots:r={},$$scope:i}=e,{elements:a=[]}=e;return n.$$set=o=>{"elements"in o&&t(0,a=o.elements),"$$scope"in o&&t(1,i=o.$$scope)},[a,i,r]}var ng=class extends Re{constructor(e){super(),Ue(this,e,X9,J9,Le,{elements:0})}},Bf=ng;function Q9(n){let e,t,r;return t=new bo({props:{mdLink:n[0]}}),{c(){e=te("span"),Me(t.$$.fragment)},m(i,a){J(i,e,a),Ae(t,e,null),r=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),t.$set(o)},i(i){r||(re(t.$$.fragment,i),r=!0)},o(i){oe(t.$$.fragment,i),r=!1},d(i){i&&Z(e),Ne(t)}}}function K9(n){let e,t,r;return t=new Bf({props:{elements:n[0],$$slots:{default:[n7,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:n}}}),{c(){e=te("span"),Me(t.$$.fragment)},m(i,a){J(i,e,a),Ae(t,e,null),r=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){r||(re(t.$$.fragment,i),r=!0)},o(i){oe(t.$$.fragment,i),r=!1},d(i){i&&Z(e),Ne(t)}}}function e7(n){let e,t;return{c(){e=te("span"),t=et(n[0]),EN(e,"white-space","pre")},m(r,i){J(r,e,i),ae(e,t)},p(r,i){i&1&&ht(t,r[0])},i:Xe,o:Xe,d(r){r&&Z(e)}}}function t7(n){let e,t;return e=new bo({props:{mdLink:n[2]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&4&&(a.mdLink=r[2]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function r7(n){let e,t=n[2]+"",r;return{c(){e=te("span"),r=et(t)},m(i,a){J(i,e,a),ae(e,r)},p(i,a){a&4&&t!==(t=i[2]+"")&&ht(r,t)},i:Xe,o:Xe,d(i){i&&Z(e)}}}function n7(n){let e,t,r,i,a=[r7,t7],o=[];function l(s,u){return typeof s[2]=="string"?0:1}return e=l(n,-1),t=o[e]=a[e](n),{c(){t.c(),r=_r()},m(s,u){o[e].m(s,u),J(s,r,u),i=!0},p(s,u){let c=e;e=l(s,u),e===c?o[e].p(s,u):(Dt(),oe(o[c],1,1,()=>{o[c]=null}),Et(),t=o[e],t?t.p(s,u):(t=o[e]=a[e](s),t.c()),re(t,1),t.m(r.parentNode,r))},i(s){i||(re(t),i=!0)},o(s){oe(t),i=!1},d(s){s&&Z(r),o[e].d(s)}}}function i7(n){let e,t,r,i,a,o=[e7,K9,Q9],l=[];function s(u,c){return c&1&&(e=null),typeof u[0]=="string"?0:(e==null&&(e=!!Array.isArray(u[0])),e?1:2)}return t=s(n,-1),r=l[t]=o[t](n),{c(){r.c(),i=_r()},m(u,c){l[t].m(u,c),J(u,i,c),a=!0},p(u,[c]){let f=t;t=s(u,c),t===f?l[t].p(u,c):(Dt(),oe(l[f],1,1,()=>{l[f]=null}),Et(),r=l[t],r?r.p(u,c):(r=l[t]=o[t](u),r.c()),re(r,1),r.m(i.parentNode,i))},i(u){a||(re(r),a=!0)},o(u){oe(r),a=!1},d(u){u&&Z(i),l[t].d(u)}}}function a7(n,e,t){let{value:r=void 0}=e,i;return n.$$set=a=>{"value"in a&&t(1,r=a.value)},n.$$.update=()=>{n.$$.dirty&2&&t(0,i=bN(r,!1))},[i,r]}var ig=class extends Re{constructor(e){super(),Ue(this,e,a7,i7,Le,{value:1})}},Ri=ig;function GN(n,e,t){let r=n.slice();return r[11]=e[t],r[13]=t,r}function WN(n){let e,t,r,i,a;t=new Ri({props:{value:n[11]}});function o(...l){return n[8](n[13],...l)}return{c(){e=te("div"),Me(t.$$.fragment),q(e,"class","mb-inline-list-item"),q(e,"role","listitem")},m(l,s){J(l,e,s),Ae(t,e,null),r=!0,i||(a=Se(e,"contextmenu",o),i=!0)},p(l,s){n=l;let u={};s&1&&(u.value=n[11]),t.$set(u)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){oe(t.$$.fragment,l),r=!1},d(l){l&&Z(e),Ne(t),i=!1,a()}}}function o7(n){let e,t,r,i,a,o,l,s,u,c=gt(n[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=WN(GN(n,c,m));let p=m=>oe(f[m],1,1,()=>{f[m]=null});return o=new fn({props:{plugin:n[1],iconName:"plus"}}),{c(){e=te("div");for(let m=0;m<f.length;m+=1)f[m].c();t=be(),r=te("div"),i=te("span"),i.textContent="\u200B",a=be(),Me(o.$$.fragment),q(r,"class","mb-inline-list-add"),q(r,"role","button"),q(r,"tabindex","0"),q(e,"class","mb-inline-list")},m(m,h){J(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);ae(e,t),ae(e,r),ae(r,i),ae(r,a),Ae(o,r,null),l=!0,s||(u=[Se(r,"click",n[9]),Se(r,"keydown",n[3])],s=!0)},p(m,[h]){if(h&17){c=gt(m[0]);let v;for(v=0;v<c.length;v+=1){let b=GN(m,c,v);f[v]?(f[v].p(b,h),re(f[v],1)):(f[v]=WN(b),f[v].c(),re(f[v],1),f[v].m(e,t))}for(Dt(),v=c.length;v<f.length;v+=1)p(v);Et()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!l){for(let h=0;h<c.length;h+=1)re(f[h]);re(o.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)oe(f[h]);oe(o.$$.fragment,m),l=!1},d(m){m&&Z(e),lr(f,m),Ne(o),s=!1,Nt(u)}}}function s7(n,e,t){let{plugin:r}=e,{value:i}=e,{showInput:a}=e,{onValueChange:o}=e;function l(h){t(0,i=h)}function s(h){i.push(h),t(0,i)}function u(h){i.splice(h,1),o(i),t(0,i)}function c(h){h.key===" "&&a()}function f(h,d){let v=[];d>0&&v.push({name:"Move left",icon:"arrow-left",onclick:()=>{let b=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=b,i),o(i)}}),d<i.length-1&&v.push({name:"Move right",icon:"arrow-right",onclick:()=>{let b=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=b,i),o(i)}}),v.push({name:"Edit",icon:"pencil",onclick:()=>{r.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:qa(i[d]),multiline:!1,onSubmit:b=>{t(0,i[d]=b,i),o(i)},onCancel:()=>{}})}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>u(d)}),r.internal.createContextMenu(v).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return n.$$set=h=>{"plugin"in h&&t(1,r=h.plugin),"value"in h&&t(0,i=h.value),"showInput"in h&&t(2,a=h.showInput),"onValueChange"in h&&t(5,o=h.onValueChange)},[i,r,a,c,f,o,l,s,p,m]}var ag=class extends Re{constructor(e){super(),Ue(this,e,s7,o7,Le,{plugin:1,value:0,showInput:2,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},YN=ag;var Of=class extends Gt{filterValue(e){return Bi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return YN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function jN(n,e,t){let r=n.slice();return r[13]=e[t],r[15]=t,r}function ZN(n){let e,t,r,i,a;t=new Ri({props:{value:n[13]}});function o(...l){return n[11](n[15],...l)}return{c(){e=te("div"),Me(t.$$.fragment),q(e,"class","mb-inline-list-item"),q(e,"role","listitem")},m(l,s){J(l,e,s),Ae(t,e,null),r=!0,i||(a=Se(e,"contextmenu",o),i=!0)},p(l,s){n=l;let u={};s&1&&(u.value=n[13]),t.$set(u)},i(l){r||(re(t.$$.fragment,l),r=!0)},o(l){oe(t.$$.fragment,l),r=!1},d(l){l&&Z(e),Ne(t),i=!1,a()}}}function u7(n){let e,t,r,i,a,o,l,s,u,c=gt(n[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=ZN(jN(n,c,m));let p=m=>oe(f[m],1,1,()=>{f[m]=null});return o=new fn({props:{plugin:n[1],iconName:"plus"}}),{c(){e=te("div");for(let m=0;m<f.length;m+=1)f[m].c();t=be(),r=te("div"),i=te("span"),i.textContent="\u200B",a=be(),Me(o.$$.fragment),q(r,"class","mb-inline-list-add"),q(r,"role","button"),q(r,"tabindex","0"),q(e,"class","mb-inline-list")},m(m,h){J(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);ae(e,t),ae(e,r),ae(r,i),ae(r,a),Ae(o,r,null),l=!0,s||(u=[Se(r,"click",n[2]),Se(r,"keydown",n[3])],s=!0)},p(m,[h]){if(h&17){c=gt(m[0]);let v;for(v=0;v<c.length;v+=1){let b=jN(m,c,v);f[v]?(f[v].p(b,h),re(f[v],1)):(f[v]=ZN(b),f[v].c(),re(f[v],1),f[v].m(e,t))}for(Dt(),v=c.length;v<f.length;v+=1)p(v);Et()}let d={};h&2&&(d.plugin=m[1]),o.$set(d)},i(m){if(!l){for(let h=0;h<c.length;h+=1)re(f[h]);re(o.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)oe(f[h]);oe(o.$$.fragment,m),l=!1},d(m){m&&Z(e),lr(f,m),Ne(o),s=!1,Nt(u)}}}function l7(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowsOther:l}=e,{onValueChange:s}=e;function u(v){t(0,i=v)}function c(v){i.push(v),t(0,i)}function f(v){i.splice(v,1),s(i),t(0,i)}function p(v){if(!l){a();return}r.internal.createContextMenu([{name:"From Options",onclick:()=>a()},{name:"From Text",onclick:()=>o()}]).showWithEvent(v)}function m(v){v.key===" "&&a()}function h(v,b){let S=[];b>0&&S.push({name:"Move left",icon:"arrow-left",onclick:()=>{let y=i[b-1];t(0,i[b-1]=i[b],i),t(0,i[b]=y,i),s(i)}}),b<i.length-1&&S.push({name:"Move right",icon:"arrow-right",onclick:()=>{let y=i[b+1];t(0,i[b+1]=i[b],i),t(0,i[b]=y,i),s(i)}}),S.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(b)}),r.internal.createContextMenu(S).showWithEvent(v)}let d=(v,b)=>h(b,v);return n.$$set=v=>{"plugin"in v&&t(1,r=v.plugin),"value"in v&&t(0,i=v.value),"showSuggester"in v&&t(5,a=v.showSuggester),"showTextPrompt"in v&&t(6,o=v.showTextPrompt),"allowsOther"in v&&t(7,l=v.allowsOther),"onValueChange"in v&&t(8,s=v.onValueChange)},[i,r,p,m,h,a,o,l,s,u,c,d]}var og=class extends Re{constructor(e){super(),Ue(this,e,l7,u7,Le,{plugin:1,value:0,showSuggester:5,showTextPrompt:6,allowsOther:7,onValueChange:8,setValue:9,addValue:10})}get setValue(){return this.$$.ctx[9]}get addValue(){return this.$$.ctx[10]}},JN=og;var kf=class extends Gt{filterValue(e){return Bi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return JN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowsOther:((e=this.mountable.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function XN(n,e,t){let r=n.slice();return r[8]=e[t],r}function QN(n){let e,t=n[8].name+"",r,i;return{c(){e=te("option"),r=et(t),e.__value=i=n[8].value,Ge(e,e.__value)},m(a,o){J(a,e,o),ae(e,r)},p(a,o){o&2&&t!==(t=a[8].name+"")&&ht(r,t),o&2&&i!==(i=a[8].value)&&(e.__value=i,Ge(e,e.__value))},d(a){a&&Z(e)}}}function c7(n){let e,t,r,i=gt(n[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=QN(XN(n,i,o));return{c(){e=te("select");for(let o=0;o<a.length;o+=1)a[o].c();q(e,"class","dropdown"),n[0]===void 0&&ya(()=>n[6].call(e))},m(o,l){J(o,e,l);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);go(e,n[0],!0),t||(r=[Se(e,"change",n[6]),Se(e,"change",n[7])],t=!0)},p(o,[l]){if(l&2){i=gt(o[1]);let s;for(s=0;s<i.length;s+=1){let u=XN(o,i,s);a[s]?a[s].p(u,l):(a[s]=QN(u),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}l&3&&go(e,o[0])},i:Xe,o:Xe,d(o){o&&Z(e),lr(a,o),t=!1,Nt(r)}}}function f7(n,e,t){let{plugin:r}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function l(f){t(0,i=f)}function s(){o(i)}function u(){i=Sl(this),t(0,i),t(1,a)}let c=()=>s();return n.$$set=f=>{"plugin"in f&&t(3,r=f.plugin),"value"in f&&t(0,i=f.value),"options"in f&&t(1,a=f.options),"onValueChange"in f&&t(4,o=f.onValueChange)},[i,a,s,r,o,l,u,c]}var sg=class extends Re{constructor(e){super(),Ue(this,e,f7,c7,Le,{plugin:3,value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},KN=sg;var Rf=class extends Gt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return ho(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return KN}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function eD(n,e,t){let r=n.slice();return r[16]=e[t],r[18]=t,r}function tD(n){let e;return{c(){e=te("span"),e.textContent="Empty",q(e,"class","mb-list-empty")},m(t,r){J(t,e,r)},p:Xe,d(t){t&&Z(e)}}}function rD(n){let e,t,r,i,a,o;t=new Ri({props:{value:n[16]}});function l(...s){return n[10](n[18],...s)}return{c(){e=te("div"),Me(t.$$.fragment),r=be(),q(e,"class","mb-list-item"),q(e,"role","listitem")},m(s,u){J(s,e,u),Ae(t,e,null),ae(e,r),i=!0,a||(o=Se(e,"contextmenu",l),a=!0)},p(s,u){n=s;let c={};u&1&&(c.value=n[16]),t.$set(c)},i(s){i||(re(t.$$.fragment,s),i=!0)},o(s){oe(t.$$.fragment,s),i=!1},d(s){s&&Z(e),Ne(t),a=!1,o()}}}function p7(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"tabindex","0"),q(e,"placeholder",n[3]),q(e,"maxlength",n[2])},m(i,a){J(i,e,a),Ge(e,n[5]),t||(r=[Se(e,"input",n[12]),Se(e,"keyup",n[13])],t=!0)},p(i,a){a&8&&q(e,"placeholder",i[3]),a&4&&q(e,"maxlength",i[2]),a&32&&e.value!==i[5]&&Ge(e,i[5])},d(i){i&&Z(e),t=!1,Nt(r)}}}function m7(n){let e,t,r;return{c(){e=te("textarea"),q(e,"tabindex","0"),q(e,"placeholder",n[3]),q(e,"maxlength",n[2])},m(i,a){J(i,e,a),Ge(e,n[5]),t||(r=Se(e,"input",n[11]),t=!0)},p(i,a){a&8&&q(e,"placeholder",i[3]),a&4&&q(e,"maxlength",i[2]),a&32&&Ge(e,i[5])},d(i){i&&Z(e),t=!1,r()}}}function nD(n){let e,t=iD(n[0].length,n[2])+"",r,i;return{c(){e=te("span"),r=et(t),q(e,"class",i=`mb-content-limit-indicator ${n[0].length>n[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){J(a,e,o),ae(e,r)},p(a,o){o&5&&t!==(t=iD(a[0].length,a[2])+"")&&ht(r,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&q(e,"class",i)},d(a){a&&Z(e)}}}function d7(n){let e,t;return e=new fn({props:{plugin:n[1],iconName:"plus"}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function h7(n){let e,t,r,i,a,o,l,s=gt(n[0]),u=[];for(let v=0;v<s.length;v+=1)u[v]=rD(eD(n,s,v));let c=v=>oe(u[v],1,1,()=>{u[v]=null}),f=null;s.length||(f=tD(n));function p(v,b){return v[4]?m7:p7}let m=p(n,-1),h=m(n),d=n[2]!==void 0&&nD(n);return o=new Sr({props:{disabled:!n[5],$$slots:{default:[d7]},$$scope:{ctx:n}}}),o.$on("click",n[14]),{c(){e=te("div");for(let v=0;v<u.length;v+=1)u[v].c();f&&f.c(),t=be(),r=te("div"),h.c(),i=be(),d&&d.c(),a=be(),Me(o.$$.fragment),q(e,"class","mb-list-items"),q(r,"class","mb-list-input")},m(v,b){J(v,e,b);for(let S=0;S<u.length;S+=1)u[S]&&u[S].m(e,null);f&&f.m(e,null),J(v,t,b),J(v,r,b),h.m(r,null),ae(r,i),d&&d.m(r,null),ae(r,a),Ae(o,r,null),l=!0},p(v,[b]){if(b&129){s=gt(v[0]);let y;for(y=0;y<s.length;y+=1){let w=eD(v,s,y);u[y]?(u[y].p(w,b),re(u[y],1)):(u[y]=rD(w),u[y].c(),re(u[y],1),u[y].m(e,null))}for(Dt(),y=s.length;y<u.length;y+=1)c(y);Et(),!s.length&&f?f.p(v,b):s.length?f&&(f.d(1),f=null):(f=tD(v),f.c(),f.m(e,null))}m===(m=p(v,b))&&h?h.p(v,b):(h.d(1),h=m(v),h&&(h.c(),h.m(r,i))),v[2]!==void 0?d?d.p(v,b):(d=nD(v),d.c(),d.m(r,a)):d&&(d.d(1),d=null);let S={};b&32&&(S.disabled=!v[5]),b&524290&&(S.$$scope={dirty:b,ctx:v}),o.$set(S)},i(v){if(!l){for(let b=0;b<s.length;b+=1)re(u[b]);re(o.$$.fragment,v),l=!0}},o(v){u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)oe(u[b]);oe(o.$$.fragment,v),l=!1},d(v){v&&(Z(e),Z(t),Z(r)),lr(u,v),f&&f.d(),h.d(),d&&d.d(),Ne(o)}}}function iD(n,e){let t=e.toString();return`${n.toString().padStart(t.length,"0")}/${t}`}function g7(n,e,t){let{plugin:r}=e,{value:i}=e,{limit:a}=e,{placeholder:o}=e,{multiLine:l}=e,{onValueChange:s}=e,u="";function c(y){t(0,i=y)}function f(){i.push(u),s(i),t(5,u=""),t(0,i)}function p(y){i.splice(y,1),s(i),t(0,i)}function m(y,w){let _=[];w>0&&_.push({name:"Move up",icon:"arrow-up",onclick:()=>{let x=i[w-1];t(0,i[w-1]=i[w],i),t(0,i[w]=x,i),s(i)}}),w<i.length-1&&_.push({name:"Move down",icon:"arrow-down",onclick:()=>{let x=i[w+1];t(0,i[w+1]=i[w],i),t(0,i[w]=x,i),s(i)}}),_.push({name:"Edit",icon:"pencil",onclick:()=>{r.internal.openTextPromptModal({title:"Meta Bind List",subTitle:"Edit the value of a list item.",value:qa(i[w]),multiline:l,onSubmit:x=>{t(0,i[w]=x,i),s(i)},onCancel:()=>{}})}}),_.push({name:"Remove",icon:"x",warning:!0,onclick:()=>p(w)}),r.internal.createContextMenu(_).showWithEvent(y)}let h=(y,w)=>m(w,y);function d(){u=this.value,t(5,u)}function v(){u=this.value,t(5,u)}let b=y=>{y.key==="Enter"&&u.length>0&&f()},S=()=>f();return n.$$set=y=>{"plugin"in y&&t(1,r=y.plugin),"value"in y&&t(0,i=y.value),"limit"in y&&t(2,a=y.limit),"placeholder"in y&&t(3,o=y.placeholder),"multiLine"in y&&t(4,l=y.multiLine),"onValueChange"in y&&t(8,s=y.onValueChange)},[i,r,a,o,l,u,f,m,s,c,h,d,v,b,S]}var ug=class extends Re{constructor(e){super(),Ue(this,e,g7,h7,Le,{plugin:1,value:0,limit:2,placeholder:3,multiLine:4,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},aD=ug;var Lf=class extends Gt{filterValue(e){return Bi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return aD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,r,i;return{placeholder:(t=(e=this.mountable.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(r=this.mountable.getArgument("limit"))==null?void 0:r.value,multiLine:((i=this.mountable.getArgument("multiLine"))==null?void 0:i.value)===!0}}};function oD(n,e,t){let r=n.slice();return r[14]=e[t],r[16]=t,r}function sD(n){let e;return{c(){e=te("span"),e.textContent="Empty",q(e,"class","mb-list-empty")},m(t,r){J(t,e,r)},p:Xe,d(t){t&&Z(e)}}}function uD(n){let e,t,r,i,a,o;t=new Ri({props:{value:n[14]}});function l(...s){return n[9](n[16],...s)}return{c(){e=te("div"),Me(t.$$.fragment),r=be(),q(e,"class","mb-list-item"),q(e,"role","listitem")},m(s,u){J(s,e,u),Ae(t,e,null),ae(e,r),i=!0,a||(o=Se(e,"contextmenu",l),a=!0)},p(s,u){n=s;let c={};u&1&&(c.value=n[14]),t.$set(c)},i(s){i||(re(t.$$.fragment,s),i=!0)},o(s){oe(t.$$.fragment,s),i=!1},d(s){s&&Z(e),Ne(t),a=!1,o()}}}function v7(n){let e;return{c(){e=et("Add new item")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function lD(n){let e,t;return e=new Sr({props:{variant:"default",$$slots:{default:[y7]},$$scope:{ctx:n}}}),e.$on("click",n[11]),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&131072&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function y7(n){let e;return{c(){e=et("Add other item")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function b7(n){let e,t,r,i,a,o,l=gt(n[0]),s=[];for(let p=0;p<l.length;p+=1)s[p]=uD(oD(n,l,p));let u=p=>oe(s[p],1,1,()=>{s[p]=null}),c=null;l.length||(c=sD(n)),i=new Sr({props:{variant:"default",$$slots:{default:[v7]},$$scope:{ctx:n}}}),i.$on("click",n[10]);let f=n[3]&&lD(n);return{c(){e=te("div");for(let p=0;p<s.length;p+=1)s[p].c();c&&c.c(),t=be(),r=te("div"),Me(i.$$.fragment),a=be(),f&&f.c(),q(e,"class","mb-list-items"),q(r,"class","mb-list-input")},m(p,m){J(p,e,m);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);c&&c.m(e,null),J(p,t,m),J(p,r,m),Ae(i,r,null),ae(r,a),f&&f.m(r,null),o=!0},p(p,[m]){if(m&17){l=gt(p[0]);let d;for(d=0;d<l.length;d+=1){let v=oD(p,l,d);s[d]?(s[d].p(v,m),re(s[d],1)):(s[d]=uD(v),s[d].c(),re(s[d],1),s[d].m(e,null))}for(Dt(),d=l.length;d<s.length;d+=1)u(d);Et(),!l.length&&c?c.p(p,m):l.length?c&&(c.d(1),c=null):(c=sD(p),c.c(),c.m(e,null))}let h={};m&131072&&(h.$$scope={dirty:m,ctx:p}),i.$set(h),p[3]?f?(f.p(p,m),m&8&&re(f,1)):(f=lD(p),f.c(),re(f,1),f.m(r,null)):f&&(Dt(),oe(f,1,1,()=>{f=null}),Et())},i(p){if(!o){for(let m=0;m<l.length;m+=1)re(s[m]);re(i.$$.fragment,p),re(f),o=!0}},o(p){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)oe(s[m]);oe(i.$$.fragment,p),oe(f),o=!1},d(p){p&&(Z(e),Z(t),Z(r)),lr(s,p),c&&c.d(),Ne(i),f&&f.d()}}}function x7(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:l}=e,{onValueChange:s}=e;function u(b){t(0,i=b)}function c(b){i.push(b),t(0,i)}function f(b){i.splice(b,1),s(i),t(0,i)}function p(b){b.key===" "&&a()}function m(b,S){let y=[];S>0&&y.push({name:"Move up",icon:"arrow-up",onclick:()=>{let w=i[S-1];t(0,i[S-1]=i[S],i),t(0,i[S]=w,i),s(i)}}),S<i.length-1&&y.push({name:"Move down",icon:"arrow-down",onclick:()=>{let w=i[S+1];t(0,i[S+1]=i[S],i),t(0,i[S]=w,i),s(i)}}),y.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(S)}),r.internal.createContextMenu(y).showWithEvent(b)}let h=(b,S)=>m(S,b),d=()=>a(),v=()=>o();return n.$$set=b=>{"plugin"in b&&t(5,r=b.plugin),"value"in b&&t(0,i=b.value),"showSuggester"in b&&t(1,a=b.showSuggester),"showTextPrompt"in b&&t(2,o=b.showTextPrompt),"allowOther"in b&&t(3,l=b.allowOther),"onValueChange"in b&&t(6,s=b.onValueChange)},[i,a,o,l,m,r,s,u,c,h,d,v]}var lg=class extends Re{constructor(e){super(),Ue(this,e,x7,b7,Le,{plugin:5,value:0,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:6,setValue:7,addValue:8})}get setValue(){return this.$$.ctx[7]}get addValue(){return this.$$.ctx[8]}},cD=lg;var Uf=class extends Gt{filterValue(e){return Bi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return cD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.mountable.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind List Suggester",subTitle:"Create a new List Element.",value:"",multiline:!1,onSubmit:e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},onCancel:()=>{}})}};function fD(n,e,t){let r=n.slice();return r[10]=e[t],r}function pD(n){let e,t,r,i,a,o,l,s,u;function c(){return n[7](n[10])}a=new Ri({props:{value:n[10].name}});function f(...m){return n[8](n[10],...m)}function p(...m){return n[9](n[10],...m)}return{c(){e=te("div"),t=te("input"),i=be(),Me(a.$$.fragment),o=be(),q(t,"type","checkbox"),t.checked=r=n[0].includes(n[10].value),q(e,"class","mb-select-input-element mb-mod-multi"),q(e,"role","button"),q(e,"tabindex","0"),Lt(e,"is-selected",n[0].includes(n[10].value))},m(m,h){J(m,e,h),ae(e,t),ae(e,i),Ae(a,e,null),ae(e,o),l=!0,s||(u=[Se(t,"input",c),Se(e,"click",f),Se(e,"keypress",p)],s=!0)},p(m,h){n=m,(!l||h&3&&r!==(r=n[0].includes(n[10].value)))&&(t.checked=r);let d={};h&2&&(d.value=n[10].name),a.$set(d),(!l||h&3)&&Lt(e,"is-selected",n[0].includes(n[10].value))},i(m){l||(re(a.$$.fragment,m),l=!0)},o(m){oe(a.$$.fragment,m),l=!1},d(m){m&&Z(e),Ne(a),s=!1,Nt(u)}}}function w7(n){let e,t,r=gt(n[1]),i=[];for(let o=0;o<r.length;o+=1)i[o]=pD(fD(n,r,o));let a=o=>oe(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=_r()},m(o,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,l);J(o,e,l),t=!0},p(o,[l]){if(l&15){r=gt(o[1]);let s;for(s=0;s<r.length;s+=1){let u=fD(o,r,s);i[s]?(i[s].p(u,l),re(i[s],1)):(i[s]=pD(u),i[s].c(),re(i[s],1),i[s].m(e.parentNode,e))}for(Dt(),s=r.length;s<i.length;s+=1)a(s);Et()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)re(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)oe(i[l]);t=!1},d(o){o&&Z(e),lr(i,o)}}}function _7(n,e,t){let{plugin:r}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function l(m){t(0,i=m)}function s(m){i.includes(m)?t(0,i=i.filter(h=>h!==m)):(i.push(m),t(0,i)),o(i)}function u(m,h){m.key===" "&&s(h)}let c=m=>s(m.value),f=(m,h)=>{h.target instanceof HTMLInputElement||s(m.value)},p=(m,h)=>u(h,m.value);return n.$$set=m=>{"plugin"in m&&t(4,r=m.plugin),"value"in m&&t(0,i=m.value),"options"in m&&t(1,a=m.options),"onValueChange"in m&&t(5,o=m.onValueChange)},[i,a,s,u,r,o,l,c,f,p]}var cg=class extends Re{constructor(e){super(),Ue(this,e,_7,w7,Le,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},mD=cg;var Vf=class extends Gt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return Bi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return mD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function S7(n){let e,t,r;return{c(){e=te("input"),q(e,"type","number"),q(e,"tabindex","0"),q(e,"placeholder",n[1])},m(i,a){J(i,e,a),Ge(e,n[0]),t||(r=[Se(e,"input",n[5]),Se(e,"input",n[6])],t=!0)},p(i,[a]){a&2&&q(e,"placeholder",i[1]),a&1&&Bn(e.value)!==i[0]&&Ge(e,i[0])},i:Xe,o:Xe,d(i){i&&Z(e),t=!1,Nt(r)}}}function A7(n,e,t){let{plugin:r}=e,{value:i}=e,{placeholder:a}=e,{onValueChange:o}=e;function l(c){t(0,i=c)}function s(){i=Bn(this.value),t(0,i)}let u=()=>o(i);return n.$$set=c=>{"plugin"in c&&t(3,r=c.plugin),"value"in c&&t(0,i=c.value),"placeholder"in c&&t(1,a=c.placeholder),"onValueChange"in c&&t(2,o=c.onValueChange)},[i,a,o,r,l,s,u]}var fg=class extends Re{constructor(e){super(),Ue(this,e,A7,S7,Le,{plugin:3,value:0,placeholder:1,onValueChange:2,setValue:4})}get setValue(){return this.$$.ctx[4]}},dD=fg;var qf=class extends Gt{filterValue(e){return ou(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return dD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.mountable.getArgument("placeholder"))!=null?e:"Number"}}};var{window:Dl}=_l;function N7(n){let e,t,r,i,a,o,l,s,u,c,f,p,m,h;return{c(){e=te("div"),t=te("div"),i=be(),a=te("span"),o=et(n[0]),l=be(),s=te("span"),u=et(n[1]),c=be(),f=te("span"),p=et(n[2]),q(t,"class","mb-progress-bar-progress"),q(t,"style",r=`width: ${n[5](n[0])}%`),q(t,"role","slider"),q(t,"aria-valuemin",n[1]),q(t,"aria-valuemax",n[2]),q(t,"aria-valuenow",n[0]),q(t,"tabindex","0"),q(a,"class","mb-progress-bar-value"),q(s,"class","mb-progress-bar-label-left"),q(f,"class","mb-progress-bar-label-right"),q(e,"class","mb-progress-bar-input"),q(e,"tabindex","0"),q(e,"role","button")},m(d,v){J(d,e,v),ae(e,t),ae(e,i),ae(e,a),ae(a,o),ae(e,l),ae(e,s),ae(s,u),ae(e,c),ae(e,f),ae(f,p),n[15](e),m||(h=[Se(Dl,"touchmove",n[8],{passive:!1}),Se(Dl,"touchcancel",n[6]),Se(Dl,"touchend",n[6]),Se(Dl,"mousemove",n[8]),Se(Dl,"mouseup",n[6]),Se(t,"dragstart",n[14]),Se(e,"keydown",n[9]),Se(e,"mousedown",n[7]),Se(e,"touchstart",n[7])],m=!0)},p(d,[v]){v&1&&r!==(r=`width: ${d[5](d[0])}%`)&&q(t,"style",r),v&2&&q(t,"aria-valuemin",d[1]),v&4&&q(t,"aria-valuemax",d[2]),v&1&&q(t,"aria-valuenow",d[0]),v&1&&ht(o,d[0]),v&2&&ht(u,d[1]),v&4&&ht(p,d[2])},i:Xe,o:Xe,d(d){d&&Z(e),n[15](null),m=!1,Nt(h)}}}function D7(n,e){return Number.parseFloat((Math.round(n/e)*e).toFixed(10))}function E7(n,e,t){let{plugin:r}=e,{onValueChange:i}=e,{value:a}=e,{minValue:o}=e,{maxValue:l}=e,{stepSize:s}=e,u=!1,c,f=0,p;function m(D){t(0,a=D)}function h(D){t(0,a=D),i(D)}function d(D){return D=vl(D,o,l),yh(D,o,l,0,100)}function v(){t(3,u=!0)}function b(){t(3,u=!1)}function S(D){v(),y(D)}function y(D){if(!u)return;D.stopPropagation&&D.stopPropagation(),D.preventDefault&&D.preventDefault();let N=D instanceof TouchEvent?D.touches[0].clientX:D.clientX;w(N)}function w(D){let N=c.getBoundingClientRect();D=vl(D,N.left,N.right);let E=yh(D,N.left,N.right,o,l);E=D7(E,s),h(E)}function _(D){f<50&&(f+=1);let N=Math.ceil(f/5);if(D.key==="ArrowUp"||D.key==="ArrowRight"){let E=vl(a+N,o,l);h(E)}if(D.key==="ArrowDown"||D.key==="ArrowLeft"){let E=vl(a-N,o,l);h(E)}window.clearTimeout(p),p=window.setTimeout(()=>f=1,100)}let x=()=>t(3,u=!0);function M(D){Br[D?"unshift":"push"](()=>{c=D,t(4,c)})}return n.$$set=D=>{"plugin"in D&&t(10,r=D.plugin),"onValueChange"in D&&t(11,i=D.onValueChange),"value"in D&&t(0,a=D.value),"minValue"in D&&t(1,o=D.minValue),"maxValue"in D&&t(2,l=D.maxValue),"stepSize"in D&&t(12,s=D.stepSize)},[a,o,l,u,c,d,b,S,y,_,r,i,s,m,x,M]}var pg=class extends Re{constructor(e){super(),Ue(this,e,E7,N7,Le,{plugin:10,onValueChange:11,value:0,minValue:1,maxValue:2,stepSize:12,setValue:13})}get setValue(){return this.$$.ctx[13]}},hD=pg;var zf=class extends Gt{constructor(e){var t,r,i,a,o,l;if(super(e),this.minValue=(r=(t=this.mountable.getArgument("minValue"))==null?void 0:t.value)!=null?r:0,this.maxValue=(a=(i=this.mountable.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(l=(o=this.mountable.getArgument("stepSize"))==null?void 0:o.value)!=null?l:1,this.minValue>=this.maxValue)throw new Gr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Vc(ou(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return hD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function gD(n,e,t){let r=n.slice();return r[10]=e[t],r}function vD(n){let e,t,r,i,a,o,l,s,u;function c(){return n[7](n[10])}a=new Ri({props:{value:n[10].name}});function f(...m){return n[8](n[10],...m)}function p(...m){return n[9](n[10],...m)}return{c(){e=te("div"),t=te("input"),i=be(),Me(a.$$.fragment),o=be(),q(t,"type","checkbox"),t.checked=r=n[10].value===n[0],q(e,"class","mb-select-input-element"),q(e,"role","button"),q(e,"tabindex","0"),Lt(e,"is-selected",n[10].value===n[0])},m(m,h){J(m,e,h),ae(e,t),ae(e,i),Ae(a,e,null),ae(e,o),l=!0,s||(u=[Se(t,"input",c),Se(e,"click",f),Se(e,"keypress",p)],s=!0)},p(m,h){n=m,(!l||h&3&&r!==(r=n[10].value===n[0]))&&(t.checked=r);let d={};h&2&&(d.value=n[10].name),a.$set(d),(!l||h&3)&&Lt(e,"is-selected",n[10].value===n[0])},i(m){l||(re(a.$$.fragment,m),l=!0)},o(m){oe(a.$$.fragment,m),l=!1},d(m){m&&Z(e),Ne(a),s=!1,Nt(u)}}}function M7(n){let e,t,r=gt(n[1]),i=[];for(let o=0;o<r.length;o+=1)i[o]=vD(gD(n,r,o));let a=o=>oe(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=_r()},m(o,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,l);J(o,e,l),t=!0},p(o,[l]){if(l&15){r=gt(o[1]);let s;for(s=0;s<r.length;s+=1){let u=gD(o,r,s);i[s]?(i[s].p(u,l),re(i[s],1)):(i[s]=vD(u),i[s].c(),re(i[s],1),i[s].m(e.parentNode,e))}for(Dt(),s=r.length;s<i.length;s+=1)a(s);Et()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)re(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)oe(i[l]);t=!1},d(o){o&&Z(e),lr(i,o)}}}function C7(n,e,t){let{plugin:r}=e,{value:i}=e,{options:a}=e,{onValueChange:o}=e;function l(m){t(0,i=m)}function s(m){i===m?t(0,i=null):t(0,i=m),o(i)}function u(m,h){m.key===" "&&s(h)}let c=m=>s(m.value),f=(m,h)=>{h.target instanceof HTMLInputElement||s(m.value)},p=(m,h)=>u(h,m.value);return n.$$set=m=>{"plugin"in m&&t(4,r=m.plugin),"value"in m&&t(0,i=m.value),"options"in m&&t(1,a=m.options),"onValueChange"in m&&t(5,o=m.onValueChange)},[i,a,s,u,r,o,l,c,f,p]}var mg=class extends Re{constructor(e){super(),Ue(this,e,C7,M7,Le,{plugin:4,value:0,options:1,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},yD=mg;var $f=class extends Gt{constructor(e){super(e),this.options=this.mountable.getArguments("option")}filterValue(e){return ho(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return yD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function bD(n){let e,t;return{c(){e=te("span"),t=et(n[1]),q(e,"class","mb-slider-input-label")},m(r,i){J(r,e,i),ae(e,t)},p(r,i){i&2&&ht(t,r[1])},d(r){r&&Z(e)}}}function xD(n){let e,t;return{c(){e=te("span"),t=et(n[2]),q(e,"class","mb-slider-input-label")},m(r,i){J(r,e,i),ae(e,t)},p(r,i){i&4&&ht(t,r[2])},d(r){r&&Z(e)}}}function T7(n){let e,t,r,i,a,o,l=n[4]&&bD(n),s=n[4]&&xD(n);return{c(){l&&l.c(),e=be(),t=te("input"),r=be(),s&&s.c(),i=_r(),q(t,"class","mb-slider-input slider"),q(t,"type","range"),q(t,"tabindex","0"),q(t,"min",n[1]),q(t,"max",n[2]),q(t,"step",n[3])},m(u,c){l&&l.m(u,c),J(u,e,c),J(u,t,c),Ge(t,n[0]),J(u,r,c),s&&s.m(u,c),J(u,i,c),a||(o=[Se(t,"change",n[7]),Se(t,"input",n[7]),Se(t,"input",n[8])],a=!0)},p(u,[c]){u[4]?l?l.p(u,c):(l=bD(u),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),c&2&&q(t,"min",u[1]),c&4&&q(t,"max",u[2]),c&8&&q(t,"step",u[3]),c&1&&Ge(t,u[0]),u[4]?s?s.p(u,c):(s=xD(u),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i:Xe,o:Xe,d(u){u&&(Z(e),Z(t),Z(r),Z(i)),l&&l.d(u),s&&s.d(u),a=!1,Nt(o)}}}function F7(n,e,t){let{value:r}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:l}=e,{onValueChange:s}=e;function u(p){t(0,r=p)}function c(){r=Bn(this.value),t(0,r)}let f=()=>s(r);return n.$$set=p=>{"value"in p&&t(0,r=p.value),"minValue"in p&&t(1,i=p.minValue),"maxValue"in p&&t(2,a=p.maxValue),"stepSize"in p&&t(3,o=p.stepSize),"addLabels"in p&&t(4,l=p.addLabels),"onValueChange"in p&&t(5,s=p.onValueChange)},[r,i,a,o,l,s,u,c,f]}var dg=class extends Re{constructor(e){super(),Ue(this,e,F7,T7,Le,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},wD=dg;var Hf=class extends Gt{constructor(e){var t,r,i,a,o,l;if(super(e),this.minValue=(r=(t=this.mountable.getArgument("minValue"))==null?void 0:t.value)!=null?r:0,this.maxValue=(a=(i=this.mountable.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(l=(o=this.mountable.getArgument("stepSize"))==null?void 0:o.value)!=null?l:1,this.minValue>=this.maxValue)throw new Gr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return Vc(ou(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return wD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((e=this.mountable.getArgument("addLabels"))==null?void 0:e.value)===!0}}};function I7(n){let e,t;return{c(){e=te("span"),t=et(n[5])},m(r,i){J(r,e,i),ae(e,t)},p(r,i){i&32&&ht(t,r[5])},i:Xe,o:Xe,d(r){r&&Z(e)}}}function P7(n){let e,t,r;function i(o){n[10](o)}let a={};return n[4]!==void 0&&(a.mdLink=n[4]),e=new bo({props:a}),Br.push(()=>ii(e,"mdLink",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){let s={};!t&&l&16&&(t=!0,s.mdLink=o[4],ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function B7(n){let e,t;return e=new fn({props:{plugin:n[0],iconName:"list"}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function _D(n){let e,t;return e=new Sr({props:{variant:"plain",$$slots:{default:[O7]},$$scope:{ctx:n}}}),e.$on("click",function(){ls(n[2])&&n[2].apply(this,arguments)}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){n=r;let a={};i&2049&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function O7(n){let e,t;return e=new fn({props:{plugin:n[0],iconName:"pencil"}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function k7(n){let e,t,r,i,a,o,l,s,u=[P7,I7],c=[];function f(m,h){return m[6]?0:1}r=f(n,-1),i=c[r]=u[r](n),o=new Sr({props:{variant:"plain",$$slots:{default:[B7]},$$scope:{ctx:n}}}),o.$on("click",function(){ls(n[1])&&n[1].apply(this,arguments)});let p=n[3]&&_D(n);return{c(){e=te("div"),t=te("div"),i.c(),a=be(),Me(o.$$.fragment),l=be(),p&&p.c(),q(t,"class","mb-suggest-text"),q(e,"class","mb-suggest-input")},m(m,h){J(m,e,h),ae(e,t),c[r].m(t,null),ae(e,a),Ae(o,e,null),ae(e,l),p&&p.m(e,null),s=!0},p(m,[h]){n=m;let d=r;r=f(n,h),r===d?c[r].p(n,h):(Dt(),oe(c[d],1,1,()=>{c[d]=null}),Et(),i=c[r],i?i.p(n,h):(i=c[r]=u[r](n),i.c()),re(i,1),i.m(t,null));let v={};h&2049&&(v.$$scope={dirty:h,ctx:n}),o.$set(v),n[3]?p?(p.p(n,h),h&8&&re(p,1)):(p=_D(n),p.c(),re(p,1),p.m(e,null)):p&&(Dt(),oe(p,1,1,()=>{p=null}),Et())},i(m){s||(re(i),re(o.$$.fragment,m),re(p),s=!0)},o(m){oe(i),oe(o.$$.fragment,m),oe(p),s=!1},d(m){m&&Z(e),c[r].d(),Ne(o),p&&p.d()}}}function R7(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{showTextPrompt:o}=e,{allowOther:l}=e,{onValueChange:s}=e,u,c,f=!1;$a(()=>{p(i)});function p(h){var d;let v=(d=h==null?void 0:h.toString())!==null&&d!==void 0?d:"null";if(t(6,f=rn.isLink(v)),f)try{t(4,u=rn.parseLink(v))}catch(b){console.warn(b)}else t(5,c=v)}function m(h){u=h,t(4,u)}return n.$$set=h=>{"plugin"in h&&t(0,r=h.plugin),"value"in h&&t(7,i=h.value),"showSuggester"in h&&t(1,a=h.showSuggester),"showTextPrompt"in h&&t(2,o=h.showTextPrompt),"allowOther"in h&&t(3,l=h.allowOther),"onValueChange"in h&&t(8,s=h.onValueChange)},[r,a,o,l,u,c,f,i,s,p,m]}var hg=class extends Re{constructor(e){super(),Ue(this,e,R7,k7,Le,{plugin:0,value:7,showSuggester:1,showTextPrompt:2,allowOther:3,onValueChange:8,setValue:9})}get setValue(){return this.$$.ctx[9]}},SD=hg;var Gf=class extends Gt{filterValue(e){return ho(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return SD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e;return{showSuggester:()=>this.openModal(),showTextPrompt:()=>this.openTextModal(),allowOther:((e=this.mountable.getArgument("allowOther"))==null?void 0:e.value)===!0}}openModal(){this.mountable.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}openTextModal(){this.mountable.plugin.internal.openTextPromptModal({title:"Meta Bind Suggester",subTitle:"Set the suggester value.",value:"",multiline:!1,onSubmit:e=>{this.setInternalValue(e)},onCancel:()=>{}})}};function AD(n){let e,t=ND(n[0].length,n[2])+"",r,i;return{c(){e=te("span"),r=et(t),q(e,"class",i=`mb-content-limit-indicator ${n[0].length>n[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){J(a,e,o),ae(e,r)},p(a,o){o&5&&t!==(t=ND(a[0].length,a[2])+"")&&ht(r,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&q(e,"class",i)},d(a){a&&Z(e)}}}function L7(n){let e,t,r,i,a,o=n[2]!==void 0&&AD(n);return{c(){e=te("input"),t=be(),o&&o.c(),r=_r(),q(e,"type","text"),q(e,"tabindex","0"),q(e,"placeholder",n[1]),q(e,"maxlength",n[2])},m(l,s){J(l,e,s),Ge(e,n[0]),J(l,t,s),o&&o.m(l,s),J(l,r,s),i||(a=[Se(e,"input",n[6]),Se(e,"input",n[7])],i=!0)},p(l,[s]){s&2&&q(e,"placeholder",l[1]),s&4&&q(e,"maxlength",l[2]),s&1&&e.value!==l[0]&&Ge(e,l[0]),l[2]!==void 0?o?o.p(l,s):(o=AD(l),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:Xe,o:Xe,d(l){l&&(Z(e),Z(t),Z(r)),o&&o.d(l),i=!1,Nt(a)}}}function ND(n,e){let t=e.toString();return`${n.toString().padStart(t.length,"0")}/${t}`}function U7(n,e,t){let{plugin:r}=e,{value:i}=e,{placeholder:a}=e,{limit:o}=e,{onValueChange:l}=e;function s(f){t(0,i=f)}function u(){i=this.value,t(0,i)}let c=()=>l(i);return n.$$set=f=>{"plugin"in f&&t(4,r=f.plugin),"value"in f&&t(0,i=f.value),"placeholder"in f&&t(1,a=f.placeholder),"limit"in f&&t(2,o=f.limit),"onValueChange"in f&&t(3,l=f.onValueChange)},[i,a,o,l,r,s,u,c]}var gg=class extends Re{constructor(e){super(),Ue(this,e,U7,L7,Le,{plugin:4,value:0,placeholder:1,limit:2,onValueChange:3,setValue:5})}get setValue(){return this.$$.ctx[5]}},DD=gg;var Wf=class extends Gt{filterValue(e){return va(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return DD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,r;return{placeholder:(t=(e=this.mountable.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(r=this.mountable.getArgument("limit"))==null?void 0:r.value}}};function V7(n){let e,t,r;return{c(){e=te("textarea"),q(e,"class","mb-input-textarea"),q(e,"tabindex","0"),q(e,"placeholder",n[1]),q(e,"maxlength",n[2])},m(i,a){J(i,e,a),Ge(e,n[0]),t||(r=[Se(e,"input",n[5]),Se(e,"input",n[6])],t=!0)},p(i,[a]){a&2&&q(e,"placeholder",i[1]),a&4&&q(e,"maxlength",i[2]),a&1&&Ge(e,i[0])},i:Xe,o:Xe,d(i){i&&Z(e),t=!1,Nt(r)}}}function q7(n,e,t){let{value:r}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,r=c)}function s(){r=this.value,t(0,r)}let u=()=>o(r);return n.$$set=c=>{"value"in c&&t(0,r=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[r,i,a,o,l,s,u]}var vg=class extends Re{constructor(e){super(),Ue(this,e,q7,V7,Le,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},ED=vg;var Yf=class extends Gt{filterValue(e){return va(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return ED}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,r;return{placeholder:(t=(e=this.mountable.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(r=this.mountable.getArgument("limit"))==null?void 0:r.value}}};function z7(n){let e,t,r;return{c(){e=te("input"),q(e,"type","time")},m(i,a){J(i,e,a),Ge(e,n[0]),t||(r=[Se(e,"input",n[3]),Se(e,"input",n[4])],t=!0)},p(i,[a]){a&1&&Ge(e,i[0])},i:Xe,o:Xe,d(i){i&&Z(e),t=!1,Nt(r)}}}function $7(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(s){t(0,r=s)}function o(){r=this.value,t(0,r)}let l=()=>i(r);return n.$$set=s=>{"value"in s&&t(0,r=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[r,i,a,o,l]}var yg=class extends Re{constructor(e){super(),Ue(this,e,$7,z7,Le,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},MD=yg;var jf=class extends Gt{filterValue(e){return va(e)}getFallbackDefaultValue(){return"00:00"}getSvelteComponent(){return MD}rawMapValue(e){return e}rawReverseMapValue(e){return e}};function H7(n){let e,t,r,i;return{c(){e=te("div"),t=te("input"),q(t,"type","checkbox"),q(t,"tabindex","-1"),t.checked=n[0],q(e,"class","checkbox-container"),q(e,"role","switch"),q(e,"tabindex","0"),q(e,"aria-checked",n[0]),Lt(e,"is-enabled",n[0])},m(a,o){J(a,e,o),ae(e,t),r||(i=[Se(e,"click",n[5]),Se(e,"keypress",n[6])],r=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&q(e,"aria-checked",a[0]),o&1&&Lt(e,"is-enabled",a[0])},i:Xe,o:Xe,d(a){a&&Z(e),r=!1,Nt(i)}}}function G7(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(c){t(0,r=c)}function o(){t(0,r=!r),i(r)}function l(c){c.key===" "&&o()}let s=()=>o(),u=c=>l(c);return n.$$set=c=>{"value"in c&&t(0,r=c.value),"onValueChange"in c&&t(3,i=c.onValueChange)},[r,o,l,i,a,s,u]}var bg=class extends Re{constructor(e){super(),Ue(this,e,G7,H7,Le,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},CD=bg;var Zf=class extends Gt{constructor(e){var t,r,i,a;super(e),this.onValue=(r=(t=this.mountable.getArgument("onValue"))==null?void 0:t.value)!=null?r:!0,this.offValue=(a=(i=this.mountable.getArgument("offValue"))==null?void 0:i.value)!=null?a:!1}filterValue(e){return e===this.onValue||e===this.offValue?ho(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return CD}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};function TD(n,e,t){let r=n.slice();return r[11]=e[t],r[13]=t,r}function FD(n){let e,t,r,i,a,o,l,s=n[11]+"",u,c,f,p;function m(...h){return n[7](n[13],...h)}return{c(){e=te("div"),t=te("img"),a=be(),o=te("div"),l=te("span"),u=et(s),c=be(),q(t,"class","mb-image-card-image"),Oi(t.src,r=n[1].internal.imagePathToUri(n[11]))||q(t,"src",r),q(t,"alt",i=n[11]),q(o,"class","mb-image-card-footer"),q(e,"class","mb-image-card"),q(e,"role","listitem")},m(h,d){J(h,e,d),ae(e,t),ae(e,a),ae(e,o),ae(o,l),ae(l,u),ae(e,c),f||(p=Se(e,"contextmenu",m),f=!0)},p(h,d){n=h,d&3&&!Oi(t.src,r=n[1].internal.imagePathToUri(n[11]))&&q(t,"src",r),d&1&&i!==(i=n[11])&&q(t,"alt",i),d&1&&s!==(s=n[11]+"")&&ht(u,s)},d(h){h&&Z(e),f=!1,p()}}}function W7(n){let e;return{c(){e=et("Add new image")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function Y7(n){let e,t,r,i,a,o=gt(n[0]),l=[];for(let s=0;s<o.length;s+=1)l[s]=FD(TD(n,o,s));return i=new Sr({props:{variant:"default",$$slots:{default:[W7]},$$scope:{ctx:n}}}),i.$on("click",n[8]),{c(){e=te("div");for(let s=0;s<l.length;s+=1)l[s].c();t=be(),r=te("div"),Me(i.$$.fragment),q(e,"class","mb-image-card-grid"),q(r,"class","mb-list-input")},m(s,u){J(s,e,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);J(s,t,u),J(s,r,u),Ae(i,r,null),a=!0},p(s,[u]){if(u&11){o=gt(s[0]);let f;for(f=0;f<o.length;f+=1){let p=TD(s,o,f);l[f]?l[f].p(p,u):(l[f]=FD(p),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}let c={};u&16384&&(c.$$scope={dirty:u,ctx:s}),i.$set(c)},i(s){a||(re(i.$$.fragment,s),a=!0)},o(s){oe(i.$$.fragment,s),a=!1},d(s){s&&(Z(e),Z(t),Z(r)),lr(l,s),Ne(i)}}}function j7(n,e,t){let{plugin:r}=e,{value:i}=e,{showSuggester:a}=e,{onValueChange:o}=e;function l(h){t(0,i=h)}function s(h){i.push(h),t(0,i)}function u(h){i.splice(h,1),o(i),t(0,i)}function c(h){h.key===" "&&a()}function f(h,d){let v=[];d>0&&v.push({name:"Move left",icon:"arrow-left",onclick:()=>{let b=i[d-1];t(0,i[d-1]=i[d],i),t(0,i[d]=b,i),o(i)}}),d<i.length-1&&v.push({name:"Move right",icon:"arrow-right",onclick:()=>{let b=i[d+1];t(0,i[d+1]=i[d],i),t(0,i[d]=b,i),o(i)}}),v.push({name:"Copy image path",icon:"copy",onclick:()=>{let b=i[d];navigator.clipboard.writeText(b).then(()=>{r.internal.showNotice("Image path copied to clipboard")})}}),v.push({name:"Remove",icon:"x",warning:!0,onclick:()=>u(d)}),r.internal.createContextMenu(v).showWithEvent(h)}let p=(h,d)=>f(d,h),m=()=>a();return n.$$set=h=>{"plugin"in h&&t(1,r=h.plugin),"value"in h&&t(0,i=h.value),"showSuggester"in h&&t(2,a=h.showSuggester),"onValueChange"in h&&t(4,o=h.onValueChange)},[i,r,a,f,o,l,s,p,m]}var xg=class extends Re{constructor(e){super(),Ue(this,e,j7,Y7,Le,{plugin:1,value:0,showSuggester:2,onValueChange:4,setValue:5,addValue:6})}get setValue(){return this.$$.ctx[5]}get addValue(){return this.$$.ctx[6]}},ID=xg;var Jf=class extends Gt{filterValue(e){return Bi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return ID}rawMapValue(e){return e}rawReverseMapValue(e){return e.map(t=>qa(t)).filter(t=>t!==void 0)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.mountable.plugin.internal.openImageSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)})}};function Z7(n){let e,t,r;return{c(){e=te("input"),q(e,"type","datetime-local")},m(i,a){J(i,e,a),Ge(e,n[0]),t||(r=[Se(e,"input",n[3]),Se(e,"input",n[4])],t=!0)},p(i,[a]){a&1&&Ge(e,i[0])},i:Xe,o:Xe,d(i){i&&Z(e),t=!1,Nt(r)}}}function J7(n,e,t){let{value:r}=e,{onValueChange:i}=e;function a(s){t(0,r=s)}function o(){r=this.value,t(0,r)}let l=()=>i(r);return n.$$set=s=>{"value"in s&&t(0,r=s.value),"onValueChange"in s&&t(1,i=s.onValueChange)},[r,i,a,o,l]}var wg=class extends Re{constructor(e){super(),Ue(this,e,J7,Z7,Le,{value:0,onValueChange:1,setValue:2})}get setValue(){return this.$$.ctx[2]}},PD=wg;var Xf=class extends Gt{filterValue(e){return va(e)}getFallbackDefaultValue(){return On.stringify(On.getDefaultDate())}getSvelteComponent(){return PD}rawMapValue(e){return e}rawReverseMapValue(e){return e}};var Qf=class{constructor(e){this.plugin=e}createInputField(e){let t=e.declaration.inputFieldType,r=e.renderChildType;if(t!=="invalid"&&this.checkRenderChildTypeAllowed(t,r),t==="toggle")return new Zf(e);if(t==="slider")return new Hf(e);if(t==="text")return new Wf(e);if(t==="textArea")return new Yf(e);if(t==="select")return new $f(e);if(t==="multiSelect")return new Vf(e);if(t==="datePicker")return new Ff(e);if(t==="number")return new qf(e);if(t==="suggester")return new Gf(e);if(t==="editor")return new If(e);if(t==="progressBar")return new zf(e);if(t==="inlineSelect")return new Rf(e);if(t==="imageSuggester")return new Pf(e);if(t==="list")return new Lf(e);if(t==="listSuggester")return new Uf(e);if(t==="date")return new Tf(e);if(t==="time")return new jf(e);if(t==="inlineListSuggester")return new kf(e);if(t==="inlineList")return new Of(e);if(t==="imageListSuggester")return new Jf(e);if(t==="dateTime")return new Xf(e);}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let r=pN[e];if(t==="block"&&!r.allowInBlock)throw new Ua({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[kr.linkToInputField(e)]});if(t==="inline"&&!r.allowInline)throw new Ua({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[kr.linkToInputField(e)]})}};var Kf=class extends sn{constructor(e,t,r,i){super(e,t,r),this.declaration=i,this.declarationString=i.declarationString,this.errorCollection=new Qt(this.getUuid()),this.errorCollection.merge(i.errorCollection),this.variables=[],this.buildVariables()}buildVariables(){var e;if(this.errorCollection.isEmpty())try{for(let t of(e=this.declaration.bindTargetMappings)!=null?e:[])this.variables.push({bindTargetDeclaration:t.bindTarget,inputSignal:new Rr(void 0),uuid:Pr(),contextName:t.name})}catch(t){this.errorCollection.add(t)}}buildContext(){var t,r;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(r=i.inputSignal.get())!=null?r:"");return e}evaluate(){return xt(this,null,function*(){var e;return(e=this.jsRenderer)==null?void 0:e.evaluate({bound:this.buildContext()})})}registerSelfToMetadataManager(){let e=new Rr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.getUuid(),e,this.declaration.writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),()=>xt(this,null,function*(){return yield this.evaluate()}),()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){if(console.debug("meta-bind | JsViewFieldMountable >> mount",this.declaration),super.onMount(e),pt.addClass(e,"mb-view"),pt.empty(e),this.plugin.internal.isJsEngineAvailable()||this.errorCollection.add(new hl({errorLevel:"ERROR",effect:"can not create js view field",cause:"The JS Engine plugin is not installed and enabled."})),!this.plugin.settings.enableJs)throw new hl({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});if(this.createErrorIndicator(e),this.errorCollection.hasErrors())return;let t=document.createElement("div");pt.addClass(t,"mb-view-wrapper"),this.jsRenderer=this.plugin.internal.createJsRenderer(t,this.getFilePath(),this.declaration.code,this.declaration.hidden),this.registerSelfToMetadataManager(),e.appendChild(t)}onUnmount(e){console.debug("meta-bind | JsViewFieldMountable >> unmount",this.declaration),super.onUnmount(e),this.unregisterSelfFromMetadataManager(),Fn(e,"js view field")}};var ep=class extends sn{constructor(e,t,r,i,a){super(e,t,r),this.renderChildType=i,this.declaration=a,this.declarationString=a.declarationString,this.errorCollection=new Qt(this.getUuid()),this.errorCollection.merge(a.errorCollection)}hasArgument(e){return this.getArguments(e).length>0}getArgument(e){return this.getArguments(e).at(0)}getArguments(e){if(this.declaration.errorCollection.hasErrors())throw new tr({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"viewFieldDeclaration has errors"});return this.declaration.argumentContainer.getAll(e)}getDeclaration(){return this.declaration}createViewField(){if(!this.errorCollection.hasErrors())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.viewField&&this.errorCollection.add(new tr({errorLevel:"CRITICAL",effect:"can't render view field",cause:"view field is undefined"}))}createErrorIndicator(e){this.plugin.internal.createErrorIndicator(e,{errorCollection:this.errorCollection,errorText:"Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",warningText:"Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",code:this.declarationString})}onMount(e){var i;if(console.debug("meta-bind | ViewFieldMountable >> mount",this.declaration),super.onMount(e),pt.empty(e),pt.addClass(e,"mb-view"),this.createViewField(),this.errorCollection.hasErrors()){this.createErrorIndicator(e);return}let t=document.createElement("div");pt.addClass(t,"mb-view-wrapper");try{(i=this.viewField)==null||i.mount(t)}catch(a){this.errorCollection.add(a)}this.createErrorIndicator(e),e.append(t);let r=this.getArguments("class");for(let a of r)pt.addClasses(t,a.value);pt.addClass(t,`mb-view-type-${this.declaration.viewFieldType}`),this.renderChildType==="block"?pt.addClass(e,"mb-view-block"):pt.addClass(e,"mb-view-inline")}onUnmount(e){var t;console.debug("meta-bind | ViewFieldMountable >> unmount",this.declaration),super.onUnmount(e),(t=this.viewField)==null||t.unmount(),Fn(e,"view field")}};var ba=class extends Pn{constructor(e){super(),this.mountable=e,this.plugin=e.plugin,this.inputSignal=new Rr(void 0),this.variables=[],this.hidden=!1}initialRender(e){return xt(this,null,function*(){var t,r;pt.addClass(e,"mb-view-text"),this.hidden=(r=(t=this.mountable.getArgument("hidden"))==null?void 0:t.value)!=null?r:!1,this.hidden&&pt.addClass(e,"mb-view-hidden"),yield this.onInitialRender(e),yield this.rerender(e,"")})}rerender(e,t){return xt(this,null,function*(){var r;if(!this.hidden){let i=(r=cf(t,this.mountable.plugin.settings.viewFieldDisplayNullAsEmpty))!=null?r:"";pt.empty(e),yield this.onRerender(e,i)}})}onMount(e){this.buildVariables(),this.inputSignal.registerListener({callback:t=>void this.rerender(e,t)}),this.metadataSubscription=this.mountable.plugin.metadataManager.subscribeComputed(this.mountable.getUuid(),this.inputSignal,this.mountable.getDeclaration().writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),()=>xt(this,null,function*(){return yield this.computeValue()}),()=>this.mountable.unmount()),this.initialRender(e)}onUnmount(){var e;this.inputSignal.unregisterAllListeners(),(e=this.metadataSubscription)==null||e.unsubscribe()}};function X7(n){let e,t;return e=new Bf({props:{elements:n[0],$$slots:{default:[eq,({element:r})=>({1:r}),({element:r})=>r?2:0]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.elements=r[0]),i&6&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function Q7(n){let e,t;return e=new bo({props:{mdLink:n[0][0]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.mdLink=r[0][0]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function K7(n){let e;return{c(){e=te("span")},m(t,r){J(t,e,r)},p:Xe,i:Xe,o:Xe,d(t){t&&Z(e)}}}function eq(n){let e,t;return e=new bo({props:{mdLink:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.mdLink=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function tq(n){let e,t,r,i,a=[K7,Q7,X7],o=[];function l(s,u){return s[0].length===0?0:s[0].length===1?1:2}return e=l(n,-1),t=o[e]=a[e](n),{c(){t.c(),r=_r()},m(s,u){o[e].m(s,u),J(s,r,u),i=!0},p(s,[u]){let c=e;e=l(s,u),e===c?o[e].p(s,u):(Dt(),oe(o[c],1,1,()=>{o[c]=null}),Et(),t=o[e],t?t.p(s,u):(t=o[e]=a[e](s),t.c()),re(t,1),t.m(r.parentNode,r))},i(s){i||(re(t),i=!0)},o(s){oe(t),i=!1},d(s){s&&Z(r),o[e].d(s)}}}function rq(n,e,t){let{mdLinkList:r}=e;return n.$$set=i=>{"mdLinkList"in i&&t(0,r=i.mdLinkList)},[r]}var _g=class extends Re{constructor(e){super(),Ue(this,e,rq,tq,Le,{mdLinkList:0})}},Sg=_g;var tp=class extends ba{constructor(e){super(e)}buildVariables(){let e=this.mountable.getDeclaration().templateDeclaration.filter(r=>typeof r=="string"?r:!0);if(e.length!==1)throw new lo({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new lo({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Rr(void 0),uuid:Pr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new Qi({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?rn.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>rn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new Sg({target:e,props:{mdLinkList:[]}})}onRerender(e,t){return xt(this,null,function*(){let r=rn.parseLinkList(t);this.component=new Sg({target:e,props:{mdLinkList:r}})})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};function Cr(){return Cr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cr.apply(this,arguments)}var Ag={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function mt(n){return typeof n=="number"}function at(n){return!n||typeof n!="object"||typeof n.constructor!="function"?!1:n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0}function Xn(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function Ha(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function Sn(n){return n&&n.constructor.prototype.isUnit===!0||!1}function qr(n){return typeof n=="string"}var Wt=Array.isArray;function rt(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function Yr(n){return Array.isArray(n)||rt(n)}function ps(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function na(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function pu(n){return n&&n.constructor.prototype.isRange===!0||!1}function xo(n){return n&&n.constructor.prototype.isIndex===!0||!1}function BD(n){return typeof n=="boolean"}function OD(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function rp(n){return n&&n.constructor.prototype.isHelp===!0||!1}function kD(n){return typeof n=="function"}function RD(n){return n instanceof Date}function LD(n){return n instanceof RegExp}function wo(n){return!!(n&&typeof n=="object"&&n.constructor===Object&&!Xn(n)&&!Ha(n))}function UD(n){return n===null}function VD(n){return n===void 0}function wi(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function An(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function qD(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function zD(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function $D(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function Ot(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function El(n){return Ot(n)||Mr(n)&&n.args.length===1&&Ot(n.args[0])&&"-+~".includes(n.op)}function xa(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function Qn(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function Li(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function Ut(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function _o(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function Mr(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function Nn(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function HD(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function GD(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function xr(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function np(n){return n&&n.constructor.prototype.isChain===!0||!1}function $t(n){var e=typeof n;return e==="object"?n===null?"null":at(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function lt(n){var e=typeof n;if(e==="number"||e==="string"||e==="boolean"||n===null||n===void 0)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return lt(t)});if(n instanceof Date)return new Date(n.valueOf());if(at(n))return n;if(wo(n))return nq(n,lt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function nq(n,e){var t={};for(var r in n)nt(n,r)&&(t[r]=e(n[r]));return t}function ip(n,e){for(var t in e)nt(e,t)&&(n[t]=e[t]);return n}function ia(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!ia(n[r],e[r]))return!1;return!0}else{if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!ia(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}else return n===e}}function WD(n,e,t){var r=!0,i;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}function nt(n,e){return n&&Object.hasOwnProperty.call(n,e)}function YD(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],a=n[i];a!==void 0&&(t[i]=a)}return t}var jD=["Matrix","Array"],ZD=["number","BigNumber","Fraction"];var Pe=function(e){if(e)throw new Error(`The global config is readonly. 
    Please create a mathjs instance if you want to change the default configuration. 
    Example:
    
      import { create, all } from 'mathjs';
      const mathjs = create(all);
      mathjs.config({ number: 'BigNumber' });
    `);return Object.freeze(Ag)};Cr(Pe,Ag,{MATRIX_OPTIONS:jD,NUMBER_OPTIONS:ZD});var Vg=br(Eg(),1);function Qe(n){return typeof n=="boolean"?!0:isFinite(n)?n===Math.round(n):!1}var Ui=Math.sign||function(n){return n>0?1:n<0?-1:0},QD=Math.log2||function(e){return Math.log(e)/Math.LN2},KD=Math.log10||function(e){return Math.log(e)/Math.LN10},ap=Math.log1p||function(n){return Math.log(n+1)},eE=Math.cbrt||function(e){if(e===0)return e;var t=e<0,r;return t&&(e=-e),isFinite(e)?(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3):r=e,t?-r:r},tE=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Mg(n,e,t){var r={2:"0b",8:"0o",16:"0x"},i=r[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Qe(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Qe(n))throw new Error("Value must be an integer");n<0&&(n=n+2**t),a="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(i).concat(n.toString(e)).concat(a)}function aa(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Cg(e);switch(t){case"fixed":return Tg(n,r);case"exponential":return rE(n,r);case"engineering":return iq(n,r);case"bin":return Mg(n,2,i);case"oct":return Mg(n,8,i);case"hex":return Mg(n,16,i);case"auto":return aq(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Cg(n){var e="auto",t,r;if(n!==void 0)if(mt(n))t=n;else if(at(n))t=n.toNumber();else if(wo(n))n.precision!==void 0&&(t=JD(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(r=JD(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:r}}function du(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function iq(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=du(n),r=op(t,e),i=r.exponent,a=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(mt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var l=Math.abs(i-o)-(a.length-1),s=0;s<l;s++)a.push(0);for(var u=Math.abs(i-o),c=1;u>0;)c++,u--;var f=a.slice(c).join(""),p=mt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return r.sign+m}function Tg(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=du(n),r=typeof e=="number"?op(t,t.exponent+1+e):t,i=r.coefficients,a=r.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(mu(o-i.length))),a<0&&(i=mu(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),r.sign+i.join("")}function rE(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=du(n),r=e?op(t,e):t,i=r.coefficients,a=r.exponent;i.length<e&&(i=i.concat(mu(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function aq(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=XD(t==null?void 0:t.lowerExp,-3),i=XD(t==null?void 0:t.upperExp,5),a=du(n),o=e?op(a,e):a;if(o.exponent<r||o.exponent>=i)return rE(n,e);var l=o.coefficients,s=o.exponent;l.length<e&&(l=l.concat(mu(e-l.length))),l=l.concat(mu(s-l.length+1+(l.length<e?e-l.length:0))),l=mu(-s).concat(l);var u=s>0?s:0;return u<l.length-1&&l.splice(u+1,0,"."),o.sign+l.join("")}function op(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var a=e-1;for(r[a]++;r[a]===10;)r.pop(),a===0&&(r.unshift(0),t.exponent++,a++),a--,r[a]++}}return t}function mu(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function nE(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var oq=Number.EPSILON||2220446049250313e-31;function Lr(n,e,t){if(t==null)return n===e;if(n===e)return!0;if(isNaN(n)||isNaN(e))return!1;if(isFinite(n)&&isFinite(e)){var r=Math.abs(n-e);return r<=oq?!0:r<=Math.max(Math.abs(n),Math.abs(e))*t}return!1}var iE=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},aE=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},oE=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},sp=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},sE=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},up=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function uE(n,e){var t=n>0?!0:n<0?!1:1/n===1/0,r=e>0?!0:e<0?!1:1/e===1/0;return t^r?-n:n}function JD(n,e){if(mt(n))return n;if(at(n))return n.toNumber();e()}function XD(n,e){return mt(n)?n:at(n)?n.toNumber():e}function Fg(n,e,t){var r=n.constructor,i=new r(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Qe(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(a);case 8:return"".concat(n.toOctal()).concat(a);case 16:return"".concat(n.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function fE(n,e){if(typeof e=="function")return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Cg(e);switch(t){case"fixed":return uq(n,r);case"exponential":return lE(n,r);case"engineering":return sq(n,r);case"bin":return Fg(n,2,i);case"oct":return Fg(n,8,i);case"hex":return Fg(n,16,i);case"auto":{var a=cE(e==null?void 0:e.lowerExp,-3),o=cE(e==null?void 0:e.upperExp,5);if(n.isZero())return"0";var l,s=n.toSignificantDigits(r),u=s.e;return u>=a&&u<o?l=s.toFixed():l=lE(n,r),l.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function sq(n,e){var t=n.e,r=t%3===0?t:t<0?t-3-t%3:t-t%3,i=n.mul(Math.pow(10,-r)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=n.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+r.toString()}function lE(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function uq(n,e){return n.toFixed(e)}function cE(n,e){return mt(n)?n:at(n)?n.toNumber():e}function mE(n,e){var t=n.length-e.length,r=n.length;return n.substring(t,r)===e}function vt(n,e){var t=lq(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function lq(n,e){if(typeof n=="number")return aa(n,e);if(at(n))return fE(n,e);if(cq(n))return!e||e.fraction!=="decimal"?n.s*n.n+"/"+n.d:n.toString();if(Array.isArray(n))return dE(n,e);if(qr(n))return ms(n);if(typeof n=="function")return n.syntax?String(n.syntax):"function";if(n&&typeof n=="object"){if(typeof n.format=="function")return n.format(e);if(n&&n.toString(e)!=={}.toString())return n.toString(e);var t=Object.keys(n).map(r=>ms(r)+": "+vt(n[r],e));return"{"+t.join(", ")+"}"}return String(n)}function ms(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in pE?pE[i]:i,r++}return'"'+t+'"'}var pE={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function pn(n){var e=String(n);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function dE(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=dE(n[i],e);return t+="]",t}else return vt(n,e)}function cq(n){return n&&typeof n=="object"&&typeof n.s=="number"&&typeof n.n=="number"&&typeof n.d=="number"||!1}function lp(n,e){if(!qr(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$t(n)+", index: 0)");if(!qr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+$t(e)+", index: 1)");return n===e?0:n>e?1:-1}function yt(n,e,t){if(!(this instanceof yt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}yt.prototype=new RangeError;yt.prototype.constructor=RangeError;yt.prototype.name="DimensionError";yt.prototype.isDimensionError=!0;function Dn(n,e,t){if(!(this instanceof Dn))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Dn.prototype=new RangeError;Dn.prototype.constructor=RangeError;Dn.prototype.name="IndexError";Dn.prototype.isIndexError=!0;function ft(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function hE(n,e,t){var r,i=n.length;if(i!==e[t])throw new yt(i,e[t]);if(t<e.length-1){var a=t+1;for(r=0;r<i;r++){var o=n[r];if(!Array.isArray(o))throw new yt(e.length-1,e.length,"<");hE(n[r],e,a)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new yt(e.length+1,e.length,">")}function Pg(n,e){var t=e.length===0;if(t){if(Array.isArray(n))throw new yt(n.length,0)}else hE(n,e,0)}function Ml(n,e){var t=n.isMatrix?n._size:ft(n),r=e._sourceSize;r.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new yt(i,t[a])})}function mr(n,e){if(n!==void 0){if(!mt(n)||!Qe(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new Dn(n,e)}}function ds(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Wt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(qr(t)&&t.length===0)return!0}return!1}function oa(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!mt(i)||!Qe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+vt(e)+")")}),(mt(n)||at(n))&&(n=[n]);var r=t!==void 0?t:0;return Ig(n,e,0,r),n}function Ig(n,e,t,r){var i,a,o=n.length,l=e[t],s=Math.min(o,l);if(n.length=l,t<e.length-1){var u=t+1;for(i=0;i<s;i++)a=n[i],Array.isArray(a)||(a=[a],n[i]=a),Ig(a,e,u,r);for(i=s;i<l;i++)a=[],n[i]=a,Ig(a,e,u,r)}else{for(i=0;i<s;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=s;i<l;i++)n[i]=r}}function Cl(n,e){var t=Tt(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new yt(0,r,"!=");e=Tl(e,r);var i=gE(e);if(r!==i)throw new yt(i,r,"!=");try{return fq(t,e)}catch(a){throw a instanceof yt?new yt(i,r,"!="):a}}function Tl(n,e){var t=gE(n),r=n.slice(),i=-1,a=n.indexOf(i),o=n.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var l=a>=0,s=e%t===0;if(l)if(s)r[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return r}function gE(n){return n.reduce((e,t)=>e*t,1)}function fq(n,e){for(var t=n,r,i=e.length-1;i>0;i--){var a=e[i];r=[];for(var o=t.length/a,l=0;l<o;l++)r.push(t.slice(l*a,(l+1)*a));t=r}return t}function hu(n,e){for(var t=e||ft(n);Array.isArray(n)&&n.length===1;)n=n[0],t.shift();for(var r=t.length;t[r-1]===1;)r--;return r<t.length&&(n=vE(n,r,0),t.length=r),n}function vE(n,e,t){var r,i;if(t<e){var a=t+1;for(r=0,i=n.length;r<i;r++)n[r]=vE(n[r],e,a)}else for(;Array.isArray(n);)n=n[0];return n}function cp(n,e,t,r){var i=r||ft(n);if(t)for(var a=0;a<t;a++)n=[n],i.unshift(1);for(n=yE(n,e,0);i.length<e;)i.push(1);return n}function yE(n,e,t){var r,i;if(Array.isArray(n)){var a=t+1;for(r=0,i=n.length;r<i;r++)n[r]=yE(n[r],e,a)}else for(var o=t;o<e;o++)n=[n];return n}function Tt(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function ai(n,e){return Array.prototype.map.call(n,e)}function So(n,e){Array.prototype.forEach.call(n,e)}function fp(n,e){if(ft(n).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}function gu(n,e){if(ft(n).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function Bg(n,e){return Array.prototype.join.call(n,e)}function Ga(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(n.length===0)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function vu(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(n.length===0)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function Ao(n,e){for(var t,r=0,i=0;i<n.length;i++){var a=n[i],o=Array.isArray(a);if(i===0&&o&&(r=a.length),o&&a.length!==r)return;var l=o?Ao(a,e):e(a);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function bE(n,e,t,r){if(r<t){if(n.length!==e.length)throw new yt(n.length,e.length);for(var i=[],a=0;a<n.length;a++)i[a]=bE(n[a],e[a],t,r+1);return i}else return n.concat(e)}function Og(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return bE(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function pq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(p=>p.length),i=Math.max(...r),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var l=e[o],s=r[o],u=0;u<s;u++){var c=i-s+u;l[u]>a[c]&&(a[c]=l[u])}for(var f=0;f<e.length;f++)Fl(e[f],a);return a}function Fl(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var a=t-r+i;if(n[i]<e[a]&&n[i]>1||n[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[a]))}}function kg(n,e){var t=ft(n);if(ia(t,e))return n;Fl(t,e);var r=pq(t,e),i=r.length,a=[...Array(i-t.length).fill(1),...t],o=dq(n);t.length<i&&(o=Cl(o,a),t=ft(o));for(var l=0;l<i;l++)t[l]<r[l]&&(o=mq(o,r[l],l),t=ft(o));return o}function mq(n,e,t){return Og(...Array(e).fill(n),t)}function dq(n){return Cr([],n)}function C(n,e,t,r){function i(a){var o=YD(a,e.map(vq));return hq(n,e,a),t(o)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function hq(n,e,t){var r=e.filter(a=>!gq(a)).every(a=>t[a]!==void 0);if(!r){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function gq(n){return n&&n[0]==="?"}function vq(n){return n&&n[0]==="?"?n.slice(1):n}function Tr(n,e){if(SE(n)&&wE(n,e))return n[e];throw typeof n[e]=="function"&&pp(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function wa(n,e,t){if(SE(n)&&wE(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function xE(n,e){return e in n}function wE(n,e){return!n||typeof n!="object"?!1:nt(yq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function _E(n,e){if(!pp(n,e))throw new Error('No access to method "'+e+'"');return n[e]}function pp(n,e){return n==null||typeof n[e]!="function"||nt(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)?!1:nt(bq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function SE(n){return typeof n=="object"&&n&&n.constructor===Object}var yq={length:!0,name:!0},bq={toString:!0,valueOf:!0,toLocaleString:!0};var hs=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return Tr(this.wrappedObject,e)}set(e,t){return wa(this.wrappedObject,e,t),this}has(e){return xE(this.wrappedObject,e)}entries(){return AE(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}},yu=class{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return AE(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function AE(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function No(){return new Map}function Wa(n){if(!n)return No();if(Rg(n))return n;if(wo(n))return new hs(n);throw new Error("createMap can create maps from objects or Maps")}function NE(n){if(n instanceof hs)return n.wrappedObject;var e={};for(var t of n.keys()){var r=n.get(t);wa(e,t,r)}return e}function Rg(n){return n?n instanceof Map||n instanceof hs||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function":!1}var DE=function(){return DE=Vg.default.create,Vg.default},xq=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],qg=C("typed",xq,function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:a}=e,o=DE();return o.clear(),o.addTypes([{name:"number",test:mt},{name:"Complex",test:Xn},{name:"BigNumber",test:at},{name:"Fraction",test:Ha},{name:"Unit",test:Sn},{name:"identifier",test:l=>qr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:qr},{name:"Chain",test:np},{name:"Array",test:Wt},{name:"Matrix",test:rt},{name:"DenseMatrix",test:ps},{name:"SparseMatrix",test:na},{name:"Range",test:pu},{name:"Index",test:xo},{name:"boolean",test:BD},{name:"ResultSet",test:OD},{name:"Help",test:rp},{name:"function",test:kD},{name:"Date",test:RD},{name:"RegExp",test:LD},{name:"null",test:UD},{name:"undefined",test:VD},{name:"AccessorNode",test:wi},{name:"ArrayNode",test:An},{name:"AssignmentNode",test:qD},{name:"BlockNode",test:zD},{name:"ConditionalNode",test:$D},{name:"ConstantNode",test:Ot},{name:"FunctionNode",test:Qn},{name:"FunctionAssignmentNode",test:xa},{name:"IndexNode",test:Li},{name:"Node",test:Ut},{name:"ObjectNode",test:_o},{name:"OperatorNode",test:Mr},{name:"ParenthesisNode",test:Nn},{name:"RangeNode",test:HD},{name:"RelationalNode",test:GD},{name:"SymbolNode",test:xr},{name:"Map",test:Rg},{name:"Object",test:wo}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||Lg(s),nE(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return r||mp(s),new r(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return r||mp(s),new r(s.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return r||mp(s),new r(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){a||Ug(s);var u=new a(s);if(u.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(s){var u=Number(s);if(isNaN(u))throw new Error('Cannot convert "'+s+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(s){t||Lg(s);try{return new t(s)}catch(u){throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(s){a||Ug(s);try{return new a(s)}catch(u){throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){r||mp(s);try{return new r(s)}catch(u){throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||Lg(s),new t(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return a||Ug(s),new a(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||wq(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),o.onMismatch=(l,s,u)=>{var c=o.createError(l,s,u);if(["wrongType","mismatch"].includes(c.data.category)&&s.length===1&&Yr(s[0])&&u.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(l,s,u)=>{var c=o.createError(l,s,u);if(["wrongType","mismatch"].includes(c.data.category)&&s.length===1&&Yr(s[0])&&u.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o});function Lg(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function mp(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function wq(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ug(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var _q="ResultSet",Sq=[],zg=C(_q,Sq,()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0});var bu=9e15,Co=1e9,$g="0123456789abcdef",hp="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",gp="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Hg={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bu,maxE:bu,crypto:!1},TE,Ya,Vt=!0,yp="[DecimalError] ",Mo=yp+"Invalid argument: ",FE=yp+"Precision limit exceeded",IE=yp+"crypto unavailable",PE="[object Decimal]",kn=Math.floor,mn=Math.pow,Aq=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Nq=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Dq=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,BE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua=1e7,It=7,Eq=9007199254740991,Mq=hp.length-1,Gg=gp.length-1,$e={toStringTag:PE};$e.absoluteValue=$e.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),St(n)};$e.ceil=function(){return St(new this.constructor(this),this.e+1,2)};$e.clampedTo=$e.clamp=function(n,e){var t,r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(Mo+e);return t=r.cmp(n),t<0?n:r.cmp(e)>0?e:new i(r)};$e.comparedTo=$e.cmp=function(n){var e,t,r,i,a=this,o=a.d,l=(n=new a.constructor(n)).d,s=a.s,u=n.s;if(!o||!l)return!s||!u?NaN:s!==u?s:o===l?0:!o^s<0?1:-1;if(!o[0]||!l[0])return o[0]?s:l[0]?-u:0;if(s!==u)return s;if(a.e!==n.e)return a.e>n.e^s<0?1:-1;for(r=o.length,i=l.length,e=0,t=r<i?r:i;e<t;++e)if(o[e]!==l[e])return o[e]>l[e]^s<0?1:-1;return r===i?0:r>i^s<0?1:-1};$e.cosine=$e.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+It,r.rounding=1,t=Cq(r,UE(r,t)),r.precision=n,r.rounding=e,St(Ya==2||Ya==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)};$e.cubeRoot=$e.cbrt=function(){var n,e,t,r,i,a,o,l,s,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(Vt=!1,a=c.s*mn(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=En(c.d),n=c.e,(a=(n-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=mn(t,1/3),n=kn((n+1)/3)-(n%3==(n<0?-1:2)),a==1/0?t="5e"+n:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),r=new f(t),r.s=c.s):r=new f(a.toString()),o=(n=f.precision)+3;;)if(l=r,s=l.times(l).times(l),u=s.plus(c),r=Fr(u.plus(c).times(l),u.plus(s),o+2,1),En(l.d).slice(0,o)===(t=En(r.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(St(l,n+1,0),l.times(l).times(l).eq(c))){r=l;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(St(r,n+1,1),e=!r.times(r).times(r).eq(c));break}return Vt=!0,St(r,n,f.rounding,e)};$e.decimalPlaces=$e.dp=function(){var n,e=this.d,t=NaN;if(e){if(n=e.length-1,t=(n-kn(this.e/It))*It,n=e[n],n)for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t};$e.dividedBy=$e.div=function(n){return Fr(this,new this.constructor(n))};$e.dividedToIntegerBy=$e.divToInt=function(n){var e=this,t=e.constructor;return St(Fr(e,new t(n),0,1,1),t.precision,t.rounding)};$e.equals=$e.eq=function(n){return this.cmp(n)===0};$e.floor=function(){return St(new this.constructor(this),this.e+1,3)};$e.greaterThan=$e.gt=function(n){return this.cmp(n)>0};$e.greaterThanOrEqualTo=$e.gte=function(n){var e=this.cmp(n);return e==1||e===0};$e.hyperbolicCosine=$e.cosh=function(){var n,e,t,r,i,a=this,o=a.constructor,l=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return l;t=o.precision,r=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(n=Math.ceil(i/3),e=(1/xp(4,n)).toString()):(n=16,e="2.3283064365386962890625e-10"),a=xu(o,1,a.times(e),new o(1),!0);for(var s,u=n,c=new o(8);u--;)s=a.times(a),a=l.minus(s.times(c.minus(s.times(c))));return St(a,o.precision=t,o.rounding=r,!0)};$e.hyperbolicSine=$e.sinh=function(){var n,e,t,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,r=i.d.length,r<3)i=xu(a,2,i,i,!0);else{n=1.4*Math.sqrt(r),n=n>16?16:n|0,i=i.times(1/xp(5,n)),i=xu(a,2,i,i,!0);for(var o,l=new a(5),s=new a(16),u=new a(20);n--;)o=i.times(i),i=i.times(l.plus(o.times(s.times(o).plus(u))))}return a.precision=e,a.rounding=t,St(i,e,t,!0)};$e.hyperbolicTangent=$e.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,Fr(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)};$e.inverseCosine=$e.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,a=t.rounding;return r!==-1?r===0?e.isNeg()?sa(t,i,a):new t(0):new t(NaN):e.isZero()?sa(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=sa(t,i+4,a).times(.5),t.precision=i,t.rounding=a,n.minus(e))};$e.inverseHyperbolicCosine=$e.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Vt=!1,t=t.times(t).minus(1).sqrt().plus(t),Vt=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)};$e.inverseHyperbolicSine=$e.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Vt=!1,t=t.times(t).plus(1).sqrt().plus(t),Vt=!0,r.precision=n,r.rounding=e,t.ln())};$e.inverseHyperbolicTangent=$e.atanh=function(){var n,e,t,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=a.precision,e=a.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?St(new a(i),n,e,!0):(a.precision=t=r-i.e,i=Fr(i.plus(1),new a(1).minus(i),t+n,1),a.precision=n+4,a.rounding=1,i=i.ln(),a.precision=n,a.rounding=e,i.times(.5))):new a(NaN)};$e.inverseSine=$e.asin=function(){var n,e,t,r,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,r=a.rounding,e!==-1?e===0?(n=sa(a,t+4,r).times(.5),n.s=i.s,n):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=r,i.times(2)))};$e.inverseTangent=$e.atan=function(){var n,e,t,r,i,a,o,l,s,u=this,c=u.constructor,f=c.precision,p=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=Gg)return o=sa(c,f+4,p).times(.25),o.s=u.s,o}else{if(!u.s)return new c(NaN);if(f+4<=Gg)return o=sa(c,f+4,p).times(.5),o.s=u.s,o}for(c.precision=l=f+10,c.rounding=1,t=Math.min(28,l/It+2|0),n=t;n;--n)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(Vt=!1,e=Math.ceil(l/It),r=1,s=u.times(u),o=new c(u),i=u;n!==-1;)if(i=i.times(s),a=o.minus(i.div(r+=2)),i=i.times(s),o=a.plus(i.div(r+=2)),o.d[e]!==void 0)for(n=e;o.d[n]===a.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),Vt=!0,St(o,c.precision=f,c.rounding=p,!0)};$e.isFinite=function(){return!!this.d};$e.isInteger=$e.isInt=function(){return!!this.d&&kn(this.e/It)>this.d.length-2};$e.isNaN=function(){return!this.s};$e.isNegative=$e.isNeg=function(){return this.s<0};$e.isPositive=$e.isPos=function(){return this.s>0};$e.isZero=function(){return!!this.d&&this.d[0]===0};$e.lessThan=$e.lt=function(n){return this.cmp(n)<0};$e.lessThanOrEqualTo=$e.lte=function(n){return this.cmp(n)<1};$e.logarithm=$e.log=function(n){var e,t,r,i,a,o,l,s,u=this,c=u.constructor,f=c.precision,p=c.rounding,m=5;if(n==null)n=new c(10),e=!0;else{if(n=new c(n),t=n.d,n.s<0||!t||!t[0]||n.eq(1))return new c(NaN);e=n.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new c(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(Vt=!1,l=f+m,o=Eo(u,l),r=e?vp(c,l+10):Eo(n,l),s=Fr(o,r,l,1),Il(s.d,i=f,p))do if(l+=10,o=Eo(u,l),r=e?vp(c,l+10):Eo(n,l),s=Fr(o,r,l,1),!a){+En(s.d).slice(i+1,i+15)+1==1e14&&(s=St(s,f+1,0));break}while(Il(s.d,i+=10,p));return Vt=!0,St(s,f,p)};$e.minus=$e.sub=function(n){var e,t,r,i,a,o,l,s,u,c,f,p,m=this,h=m.constructor;if(n=new h(n),!m.d||!n.d)return!m.s||!n.s?n=new h(NaN):m.d?n.s=-n.s:n=new h(n.d||m.s!==n.s?m:NaN),n;if(m.s!=n.s)return n.s=-n.s,m.plus(n);if(u=m.d,p=n.d,l=h.precision,s=h.rounding,!u[0]||!p[0]){if(p[0])n.s=-n.s;else if(u[0])n=new h(m);else return new h(s===3?-0:0);return Vt?St(n,l,s):n}if(t=kn(n.e/It),c=kn(m.e/It),u=u.slice(),a=c-t,a){for(f=a<0,f?(e=u,a=-a,o=p.length):(e=p,t=c,o=u.length),r=Math.max(Math.ceil(l/It),o)+2,a>r&&(a=r,e.length=1),e.reverse(),r=a;r--;)e.push(0);e.reverse()}else{for(r=u.length,o=p.length,f=r<o,f&&(o=r),r=0;r<o;r++)if(u[r]!=p[r]){f=u[r]<p[r];break}a=0}for(f&&(e=u,u=p,p=e,n.s=-n.s),o=u.length,r=p.length-o;r>0;--r)u[o++]=0;for(r=p.length;r>a;){if(u[--r]<p[r]){for(i=r;i&&u[--i]===0;)u[i]=ua-1;--u[i],u[r]+=ua}u[r]-=p[r]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(n.d=u,n.e=bp(u,t),Vt?St(n,l,s):n):new h(s===3?-0:0)};$e.modulo=$e.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?St(new r(t),r.precision,r.rounding):(Vt=!1,r.modulo==9?(e=Fr(t,n.abs(),0,3,1),e.s*=n.s):e=Fr(t,n,0,r.modulo,1),e=e.times(n),Vt=!0,t.minus(e))};$e.naturalExponential=$e.exp=function(){return Wg(this)};$e.naturalLogarithm=$e.ln=function(){return Eo(this)};$e.negated=$e.neg=function(){var n=new this.constructor(this);return n.s=-n.s,St(n)};$e.plus=$e.add=function(n){var e,t,r,i,a,o,l,s,u,c,f=this,p=f.constructor;if(n=new p(n),!f.d||!n.d)return!f.s||!n.s?n=new p(NaN):f.d||(n=new p(n.d||f.s===n.s?f:NaN)),n;if(f.s!=n.s)return n.s=-n.s,f.minus(n);if(u=f.d,c=n.d,l=p.precision,s=p.rounding,!u[0]||!c[0])return c[0]||(n=new p(f)),Vt?St(n,l,s):n;if(a=kn(f.e/It),r=kn(n.e/It),u=u.slice(),i=a-r,i){for(i<0?(t=u,i=-i,o=c.length):(t=c,r=a,o=u.length),a=Math.ceil(l/It),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=u.length,i=c.length,o-i<0&&(i=o,t=c,c=u,u=t),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/ua|0,u[i]%=ua;for(e&&(u.unshift(e),++r),o=u.length;u[--o]==0;)u.pop();return n.d=u,n.e=bp(u,r),Vt?St(n,l,s):n};$e.precision=$e.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Mo+n);return t.d?(e=OE(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e};$e.round=function(){var n=this,e=n.constructor;return St(new e(n),n.e+1,e.rounding)};$e.sine=$e.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+It,r.rounding=1,t=Fq(r,UE(r,t)),r.precision=n,r.rounding=e,St(Ya>2?t.neg():t,n,e,!0)):new r(NaN)};$e.squareRoot=$e.sqrt=function(){var n,e,t,r,i,a,o=this,l=o.d,s=o.e,u=o.s,c=o.constructor;if(u!==1||!l||!l[0])return new c(!u||u<0&&(!l||l[0])?NaN:l?o:1/0);for(Vt=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=En(l),(e.length+s)%2==0&&(e+="0"),u=Math.sqrt(e),s=kn((s+1)/2)-(s<0||s%2),u==1/0?e="5e"+s:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),r=new c(e)):r=new c(u.toString()),t=(s=c.precision)+3;;)if(a=r,r=a.plus(Fr(o,a,t+2,1)).times(.5),En(a.d).slice(0,t)===(e=En(r.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(St(a,s+1,0),a.times(a).eq(o))){r=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(St(r,s+1,1),n=!r.times(r).eq(o));break}return Vt=!0,St(r,s,c.rounding,n)};$e.tangent=$e.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,t=t.sin(),t.s=1,t=Fr(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,St(Ya==2||Ya==4?t.neg():t,n,e,!0)):new r(NaN)};$e.times=$e.mul=function(n){var e,t,r,i,a,o,l,s,u,c=this,f=c.constructor,p=c.d,m=(n=new f(n)).d;if(n.s*=c.s,!p||!p[0]||!m||!m[0])return new f(!n.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?n.s/0:n.s*0);for(t=kn(c.e/It)+kn(n.e/It),s=p.length,u=m.length,s<u&&(a=p,p=m,m=a,o=s,s=u,u=o),a=[],o=s+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=s+r;i>r;)l=a[i]+m[r]*p[i-r-1]+e,a[i--]=l%ua|0,e=l/ua|0;a[i]=(a[i]+e)%ua|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),n.d=a,n.e=bp(a,t),Vt?St(n,f.precision,f.rounding):n};$e.toBinary=function(n,e){return jg(this,2,n,e)};$e.toDecimalPlaces=$e.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(oi(n,0,Co),e===void 0?e=r.rounding:oi(e,0,8),St(t,n+t.e+1,e))};$e.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=_a(r,!0):(oi(n,0,Co),e===void 0?e=i.rounding:oi(e,0,8),r=St(new i(r),n+1,e),t=_a(r,!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t};$e.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?t=_a(i):(oi(n,0,Co),e===void 0?e=a.rounding:oi(e,0,8),r=St(new a(i),n+i.e+1,e),t=_a(r,!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};$e.toFraction=function(n){var e,t,r,i,a,o,l,s,u,c,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(u=t=new d(1),r=s=new d(0),e=new d(r),a=e.e=OE(h)-m.e-1,o=a%It,e.d[0]=mn(10,o<0?It+o:o),n==null)n=a>0?e:u;else{if(l=new d(n),!l.isInt()||l.lt(u))throw Error(Mo+l);n=l.gt(e)?a>0?e:u:l}for(Vt=!1,l=new d(En(h)),c=d.precision,d.precision=a=h.length*It*2;f=Fr(l,e,0,1,1),i=t.plus(f.times(r)),i.cmp(n)!=1;)t=r,r=i,i=u,u=s.plus(f.times(i)),s=i,i=e,e=l.minus(f.times(i)),l=i;return i=Fr(n.minus(t),r,0,1,1),s=s.plus(i.times(u)),t=t.plus(i.times(r)),s.s=u.s=m.s,p=Fr(u,r,a,1).minus(m).abs().cmp(Fr(s,t,a,1).minus(m).abs())<1?[u,r]:[s,t],d.precision=c,Vt=!0,p};$e.toHexadecimal=$e.toHex=function(n,e){return jg(this,16,n,e)};$e.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:oi(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Vt=!1,t=Fr(t,n,0,e,1).times(n),Vt=!0,St(t)):(n.s=t.s,t=n),t};$e.toNumber=function(){return+this};$e.toOctal=function(n,e){return jg(this,8,n,e)};$e.toPower=$e.pow=function(n){var e,t,r,i,a,o,l=this,s=l.constructor,u=+(n=new s(n));if(!l.d||!n.d||!l.d[0]||!n.d[0])return new s(mn(+l,u));if(l=new s(l),l.eq(1))return l;if(r=s.precision,a=s.rounding,n.eq(1))return St(l,r,a);if(e=kn(n.e/It),e>=n.d.length-1&&(t=u<0?-u:u)<=Eq)return i=kE(s,l,t,r),n.s<0?new s(1).div(i):St(i,r,a);if(o=l.s,o<0){if(e<n.d.length-1)return new s(NaN);if(n.d[e]&1||(o=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=o,l}return t=mn(+l,u),e=t==0||!isFinite(t)?kn(u*(Math.log("0."+En(l.d))/Math.LN10+l.e+1)):new s(t+"").e,e>s.maxE+1||e<s.minE-1?new s(e>0?o/0:0):(Vt=!1,s.rounding=l.s=1,t=Math.min(12,(e+"").length),i=Wg(n.times(Eo(l,r+t)),r),i.d&&(i=St(i,r+5,1),Il(i.d,r,a)&&(e=r+10,i=St(Wg(n.times(Eo(l,e+t)),e),e+5,1),+En(i.d).slice(r+1,r+15)+1==1e14&&(i=St(i,r+1,0)))),i.s=o,Vt=!0,s.rounding=a,St(i,r,a))};$e.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=_a(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(oi(n,1,Co),e===void 0?e=i.rounding:oi(e,0,8),r=St(new i(r),n,e),t=_a(r,n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t};$e.toSignificantDigits=$e.toSD=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(oi(n,1,Co),e===void 0?e=r.rounding:oi(e,0,8)),St(new r(t),n,e)};$e.toString=function(){var n=this,e=n.constructor,t=_a(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t};$e.truncated=$e.trunc=function(){return St(new this.constructor(this),this.e+1,1)};$e.valueOf=$e.toJSON=function(){var n=this,e=n.constructor,t=_a(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};function En(n){var e,t,r,i=n.length-1,a="",o=n[0];if(i>0){for(a+=o,e=1;e<i;e++)r=n[e]+"",t=It-r.length,t&&(a+=Do(t)),a+=r;o=n[e],r=o+"",t=It-r.length,t&&(a+=Do(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function oi(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Mo+n)}function Il(n,e,t,r){var i,a,o,l;for(a=n[0];a>=10;a/=10)--e;return--e<0?(e+=It,i=0):(i=Math.ceil((e+1)/It),e%=It),a=mn(10,It-e),l=n[i]%a|0,r==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),o=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):o=(t<4&&l+1==a||t>3&&l+1==a/2)&&(n[i+1]/a/100|0)==mn(10,e-2)-1||(l==a/2||l==0)&&(n[i+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),o=(r||t<4)&&l==9999||!r&&t>3&&l==4999):o=((r||t<4)&&l+1==a||!r&&t>3&&l+1==a/2)&&(n[i+1]/a/1e3|0)==mn(10,e-3)-1,o}function dp(n,e,t){for(var r,i=[0],a,o=0,l=n.length;o<l;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=$g.indexOf(n.charAt(o++)),r=0;r<i.length;r++)i[r]>t-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}function Cq(n,e){var t,r,i;if(e.isZero())return e;r=e.d.length,r<32?(t=Math.ceil(r/3),i=(1/xp(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=xu(n,1,e.times(i),new n(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}var Fr=function(){function n(r,i,a){var o,l=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+l,r[s]=o%a|0,l=o/a|0;return l&&r.unshift(l),r}function e(r,i,a,o){var l,s;if(a!=o)s=a>o?1:-1;else for(l=s=0;l<a;l++)if(r[l]!=i[l]){s=r[l]>i[l]?1:-1;break}return s}function t(r,i,a,o){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*o+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o,l,s){var u,c,f,p,m,h,d,v,b,S,y,w,_,x,M,D,N,E,P,O,U=r.constructor,z=r.s==i.s?1:-1,L=r.d,B=i.d;if(!L||!L[0]||!B||!B[0])return new U(!r.s||!i.s||(L?B&&L[0]==B[0]:!B)?NaN:L&&L[0]==0||!B?z*0:z/0);for(s?(m=1,c=r.e-i.e):(s=ua,m=It,c=kn(r.e/m)-kn(i.e/m)),P=B.length,N=L.length,b=new U(z),S=b.d=[],f=0;B[f]==(L[f]||0);f++);if(B[f]>(L[f]||0)&&c--,a==null?(x=a=U.precision,o=U.rounding):l?x=a+(r.e-i.e)+1:x=a,x<0)S.push(1),h=!0;else{if(x=x/m+2|0,f=0,P==1){for(p=0,B=B[0],x++;(f<N||p)&&x--;f++)M=p*s+(L[f]||0),S[f]=M/B|0,p=M%B|0;h=p||f<N}else{for(p=s/(B[0]+1)|0,p>1&&(B=n(B,p,s),L=n(L,p,s),P=B.length,N=L.length),D=P,y=L.slice(0,P),w=y.length;w<P;)y[w++]=0;O=B.slice(),O.unshift(0),E=B[0],B[1]>=s/2&&++E;do p=0,u=e(B,y,P,w),u<0?(_=y[0],P!=w&&(_=_*s+(y[1]||0)),p=_/E|0,p>1?(p>=s&&(p=s-1),d=n(B,p,s),v=d.length,w=y.length,u=e(d,y,v,w),u==1&&(p--,t(d,P<v?O:B,v,s))):(p==0&&(u=p=1),d=B.slice()),v=d.length,v<w&&d.unshift(0),t(y,d,w,s),u==-1&&(w=y.length,u=e(B,y,P,w),u<1&&(p++,t(y,P<w?O:B,w,s))),w=y.length):u===0&&(p++,y=[0]),S[f++]=p,u&&y[0]?y[w++]=L[D]||0:(y=[L[D]],w=1);while((D++<N||y[0]!==void 0)&&x--);h=y[0]!==void 0}S[0]||S.shift()}if(m==1)b.e=c,TE=h;else{for(f=1,p=S[0];p>=10;p/=10)f++;b.e=f+c*m-1,St(b,l?a+b.e+1:a,o,h)}return b}}();function St(n,e,t,r){var i,a,o,l,s,u,c,f,p,m=n.constructor;e:if(e!=null){if(f=n.d,!f)return n;for(i=1,l=f[0];l>=10;l/=10)i++;if(a=e-i,a<0)a+=It,o=e,c=f[p=0],s=c/mn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/It),l=f.length,p>=l)if(r){for(;l++<=p;)f.push(0);c=s=0,i=1,a%=It,o=a-It+1}else break e;else{for(c=l=f[p],i=1;l>=10;l/=10)i++;a%=It,o=a-It+i,s=o<0?0:c/mn(10,i-o-1)%10|0}if(r=r||e<0||f[p+1]!==void 0||(o<0?c:c%mn(10,i-o-1)),u=t<4?(s||r)&&(t==0||t==(n.s<0?3:2)):s>5||s==5&&(t==4||r||t==6&&(a>0?o>0?c/mn(10,i-o):0:f[p-1])%10&1||t==(n.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=n.e+1,f[0]=mn(10,(It-e%It)%It),n.e=-e||0):f[0]=n.e=0,n;if(a==0?(f.length=p,l=1,p--):(f.length=p+1,l=mn(10,It-a),f[p]=o>0?(c/mn(10,i-o)%mn(10,o)|0)*l:0),u)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=l,l=1;o>=10;o/=10)l++;a!=l&&(n.e++,f[0]==ua&&(f[0]=1));break}else{if(f[p]+=l,f[p]!=ua)break;f[p--]=0,l=1}for(a=f.length;f[--a]===0;)f.pop()}return Vt&&(n.e>m.maxE?(n.d=null,n.e=NaN):n.e<m.minE&&(n.e=0,n.d=[0])),n}function _a(n,e,t){if(!n.isFinite())return LE(n);var r,i=n.e,a=En(n.d),o=a.length;return e?(t&&(r=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Do(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):i<0?(a="0."+Do(-i-1)+a,t&&(r=t-o)>0&&(a+=Do(r))):i>=o?(a+=Do(i+1-o),t&&(r=t-i-1)>0&&(a=a+"."+Do(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(a+="."),a+=Do(r))),a}function bp(n,e){var t=n[0];for(e*=It;t>=10;t/=10)e++;return e}function vp(n,e,t){if(e>Mq)throw Vt=!0,t&&(n.precision=t),Error(FE);return St(new n(hp),e,1,!0)}function sa(n,e,t){if(e>Gg)throw Error(FE);return St(new n(gp),e,t,!0)}function OE(n){var e=n.length-1,t=e*It+1;if(e=n[e],e){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Do(n){for(var e="";n--;)e+="0";return e}function kE(n,e,t,r){var i,a=new n(1),o=Math.ceil(r/It+4);for(Vt=!1;;){if(t%2&&(a=a.times(e),ME(a.d,o)&&(i=!0)),t=kn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),ME(e.d,o)}return Vt=!0,a}function EE(n){return n.d[n.d.length-1]&1}function RE(n,e,t){for(var r,i=new n(e[0]),a=0;++a<e.length;)if(r=new n(e[a]),r.s)i[t](r)&&(i=r);else{i=r;break}return i}function Wg(n,e){var t,r,i,a,o,l,s,u=0,c=0,f=0,p=n.constructor,m=p.rounding,h=p.precision;if(!n.d||!n.d[0]||n.e>17)return new p(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(Vt=!1,s=h):s=e,l=new p(.03125);n.e>-2;)n=n.times(l),f+=5;for(r=Math.log(mn(2,f))/Math.LN10*2+5|0,s+=r,t=a=o=new p(1),p.precision=s;;){if(a=St(a.times(n),s,1),t=t.times(++c),l=o.plus(Fr(a,t,s,1)),En(l.d).slice(0,s)===En(o.d).slice(0,s)){for(i=f;i--;)o=St(o.times(o),s,1);if(e==null)if(u<3&&Il(o.d,s-r,m,u))p.precision=s+=10,t=a=l=new p(1),c=0,u++;else return St(o,p.precision=h,m,Vt=!0);else return p.precision=h,o}o=l}}function Eo(n,e){var t,r,i,a,o,l,s,u,c,f,p,m=1,h=10,d=n,v=d.d,b=d.constructor,S=b.rounding,y=b.precision;if(d.s<0||!v||!v[0]||!d.e&&v[0]==1&&v.length==1)return new b(v&&!v[0]?-1/0:d.s!=1?NaN:v?0:d);if(e==null?(Vt=!1,c=y):c=e,b.precision=c+=h,t=En(v),r=t.charAt(0),Math.abs(a=d.e)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)d=d.times(n),t=En(d.d),r=t.charAt(0),m++;a=d.e,r>1?(d=new b("0."+t),a++):d=new b(r+"."+t.slice(1))}else return u=vp(b,c+2,y).times(a+""),d=Eo(new b(r+"."+t.slice(1)),c-h).plus(u),b.precision=y,e==null?St(d,y,S,Vt=!0):d;for(f=d,s=o=d=Fr(d.minus(1),d.plus(1),c,1),p=St(d.times(d),c,1),i=3;;){if(o=St(o.times(p),c,1),u=s.plus(Fr(o,new b(i),c,1)),En(u.d).slice(0,c)===En(s.d).slice(0,c))if(s=s.times(2),a!==0&&(s=s.plus(vp(b,c+2,y).times(a+""))),s=Fr(s,new b(m),c,1),e==null)if(Il(s.d,c-h,S,l))b.precision=c+=h,u=o=d=Fr(f.minus(1),f.plus(1),c,1),p=St(d.times(d),c,1),i=l=1;else return St(s,b.precision=y,S,Vt=!0);else return b.precision=y,s;s=u,i+=2}}function LE(n){return String(n.s*n.s/0)}function Yg(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%It,t<0&&(r+=It),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=It;r<i;)n.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Vt&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Tq(n,e){var t,r,i,a,o,l,s,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),BE.test(e))return Yg(n,e)}else if(e==="Infinity"||e==="NaN")return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(Nq.test(e))t=16,e=e.toLowerCase();else if(Aq.test(e))t=2;else if(Dq.test(e))t=8;else throw Error(Mo+e);for(a=e.search(/p/i),a>0?(s=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,r=n.constructor,o&&(e=e.replace(".",""),l=e.length,a=l-a,i=kE(r,new r(t),a,a*2)),u=dp(e,t,ua),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new r(n.s*0):(n.e=bp(u,c),n.d=u,Vt=!1,o&&(n=Fr(n,i,l*4)),s&&(n=n.times(Math.abs(s)<54?mn(2,s):Pl.pow(2,s))),Vt=!0,n)}function Fq(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:xu(n,2,e,e);t=1.4*Math.sqrt(r),t=t>16?16:t|0,e=e.times(1/xp(5,t)),e=xu(n,2,e,e);for(var i,a=new n(5),o=new n(16),l=new n(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(l))));return e}function xu(n,e,t,r,i){var a,o,l,s,u=1,c=n.precision,f=Math.ceil(c/It);for(Vt=!1,s=t.times(t),l=new n(r);;){if(o=Fr(l.times(s),new n(e++*e++),c,1),l=i?r.plus(o):r.minus(o),r=Fr(o.times(s),new n(e++*e++),c,1),o=l.plus(r),o.d[f]!==void 0){for(a=f;o.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=r,r=o,o=a,u++}return Vt=!0,o.d.length=f+1,o}function xp(n,e){for(var t=n;--e;)t*=n;return t}function UE(n,e){var t,r=e.s<0,i=sa(n,n.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return Ya=r?4:1,e;if(t=e.divToInt(i),t.isZero())Ya=r?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return Ya=EE(t)?r?2:3:r?4:1,e;Ya=EE(t)?r?1:4:r?3:2}return e.minus(i).abs()}function jg(n,e,t,r){var i,a,o,l,s,u,c,f,p,m=n.constructor,h=t!==void 0;if(h?(oi(t,1,Co),r===void 0?r=m.rounding:oi(r,0,8)):(t=m.precision,r=m.rounding),!n.isFinite())c=LE(n);else{for(c=_a(n),o=c.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),p=new m(1),p.e=c.length-o,p.d=dp(_a(p),10,i),p.e=p.d.length),f=dp(c,10,i),a=s=f.length;f[--s]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(n=new m(n),n.d=f,n.e=a,n=Fr(n,p,t,r,0,i),f=n.d,a=n.e,u=TE),o=f[t],l=i/2,u=u||f[t+1]!==void 0,u=r<4?(o!==void 0||u)&&(r===0||r===(n.s<0?3:2)):o>l||o===l&&(r===4||u||r===6&&f[t-1]&1||r===(n.s<0?8:7)),f.length=t,u)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(s=f.length;!f[s-1];--s);for(o=0,c="";o<s;o++)c+=$g.charAt(f[o]);if(h){if(s>1)if(e==16||e==8){for(o=e==16?4:3,--s;s%o;s++)c+="0";for(f=dp(c,i,e),s=f.length;!f[s-1];--s);for(o=1,c="1.";o<s;o++)c+=$g.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>s)for(a-=s;a--;)c+="0";else a<s&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return n.s<0?"-"+c:c}function ME(n,e){if(n.length>e)return n.length=e,!0}function Iq(n){return new this(n).abs()}function Pq(n){return new this(n).acos()}function Bq(n){return new this(n).acosh()}function Oq(n,e){return new this(n).plus(e)}function kq(n){return new this(n).asin()}function Rq(n){return new this(n).asinh()}function Lq(n){return new this(n).atan()}function Uq(n){return new this(n).atanh()}function Vq(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,a=r+4;return!n.s||!e.s?t=new this(NaN):!n.d&&!e.d?(t=sa(this,a,1).times(e.s>0?.25:.75),t.s=n.s):!e.d||n.isZero()?(t=e.s<0?sa(this,r,i):new this(0),t.s=n.s):!n.d||e.isZero()?(t=sa(this,a,1).times(.5),t.s=n.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(Fr(n,e,a,1)),e=sa(this,a,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(Fr(n,e,a,1)),t}function qq(n){return new this(n).cbrt()}function zq(n){return St(n=new this(n),n.e+1,2)}function $q(n,e,t){return new this(n).clamp(e,t)}function Hq(n){if(!n||typeof n!="object")throw Error(yp+"Object expected");var e,t,r,i=n.defaults===!0,a=["precision",1,Co,"rounding",0,8,"toExpNeg",-bu,0,"toExpPos",0,bu,"maxE",0,bu,"minE",-bu,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Hg[t]),(r=n[t])!==void 0)if(kn(r)===r&&r>=a[e+1]&&r<=a[e+2])this[t]=r;else throw Error(Mo+t+": "+r);if(t="crypto",i&&(this[t]=Hg[t]),(r=n[t])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(IE);else this[t]=!1;else throw Error(Mo+t+": "+r);return this}function Gq(n){return new this(n).cos()}function Wq(n){return new this(n).cosh()}function VE(n){var e,t,r;function i(a){var o,l,s,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,CE(a)){u.s=a.s,Vt?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(s=typeof a,s==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(o=0,l=a;l>=10;l/=10)o++;Vt?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[a]):(u.e=o,u.d=[a]);return}else if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return Yg(u,a.toString())}else if(s!=="string")throw Error(Mo+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(l===43&&(a=a.slice(1)),u.s=1),BE.test(a)?Yg(u,a):Tq(u,a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Hq,i.clone=VE,i.isDecimal=CE,i.abs=Iq,i.acos=Pq,i.acosh=Bq,i.add=Oq,i.asin=kq,i.asinh=Rq,i.atan=Lq,i.atanh=Uq,i.atan2=Vq,i.cbrt=qq,i.ceil=zq,i.clamp=$q,i.cos=Gq,i.cosh=Wq,i.div=Yq,i.exp=jq,i.floor=Zq,i.hypot=Jq,i.ln=Xq,i.log=Qq,i.log10=ez,i.log2=Kq,i.max=tz,i.min=rz,i.mod=nz,i.mul=iz,i.pow=az,i.random=oz,i.round=sz,i.sign=uz,i.sin=lz,i.sinh=cz,i.sqrt=fz,i.sub=pz,i.sum=mz,i.tan=dz,i.tanh=hz,i.trunc=gz,n===void 0&&(n={}),n&&n.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function Yq(n,e){return new this(n).div(e)}function jq(n){return new this(n).exp()}function Zq(n){return St(n=new this(n),n.e+1,3)}function Jq(){var n,e,t=new this(0);for(Vt=!1,n=0;n<arguments.length;)if(e=new this(arguments[n++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Vt=!0,new this(1/0);t=e}return Vt=!0,t.sqrt()}function CE(n){return n instanceof Pl||n&&n.toStringTag===PE||!1}function Xq(n){return new this(n).ln()}function Qq(n,e){return new this(n).log(e)}function Kq(n){return new this(n).log(2)}function ez(n){return new this(n).log(10)}function tz(){return RE(this,arguments,"lt")}function rz(){return RE(this,arguments,"gt")}function nz(n,e){return new this(n).mod(e)}function iz(n,e){return new this(n).mul(e)}function az(n,e){return new this(n).pow(e)}function oz(n){var e,t,r,i,a=0,o=new this(1),l=[];if(n===void 0?n=this.precision:oi(n,1,Co),r=Math.ceil(n/It),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));a<r;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);a<r;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(i%1e7),a+=4);a=r/4}else throw Error(IE);else for(;a<r;)l[a++]=Math.random()*1e7|0;for(r=l[--a],n%=It,r&&n&&(i=mn(10,It-n),l[a]=(r/i|0)*i);l[a]===0;a--)l.pop();if(a<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=It)l.shift();for(r=1,i=l[0];i>=10;i/=10)r++;r<It&&(t-=It-r)}return o.e=t,o.d=l,o}function sz(n){return St(n=new this(n),n.e+1,this.rounding)}function uz(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function lz(n){return new this(n).sin()}function cz(n){return new this(n).sinh()}function fz(n){return new this(n).sqrt()}function pz(n,e){return new this(n).sub(e)}function mz(){var n=0,e=arguments,t=new this(e[n]);for(Vt=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Vt=!0,St(t,this.precision,this.rounding)}function dz(n){return new this(n).tan()}function hz(n){return new this(n).tanh()}function gz(n){return St(n=new this(n),n.e+1,1)}$e[Symbol.for("nodejs.util.inspect.custom")]=$e.toString;$e[Symbol.toStringTag]="Decimal";var Pl=$e.constructor=VE(Hg);hp=new Pl(hp);gp=new Pl(gp);var gs=Pl;var vz="BigNumber",yz=["?on","config"],Zg=C(vz,yz,n=>{var{on:e,config:t}=n,r=gs.clone({precision:t.precision,modulo:gs.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0});var yn=br(zE(),1);var bz="Complex",xz=[],Xg=C(bz,xz,()=>(Object.defineProperty(yn.default,"name",{value:"Complex"}),yn.default.prototype.constructor=yn.default,yn.default.prototype.type="Complex",yn.default.prototype.isComplex=!0,yn.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},yn.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},yn.default.prototype.format=function(n){var e="",t=this.im,r=this.re,i=aa(this.re,n),a=aa(this.im,n),o=mt(n)?n:n?n.precision:null;if(o!==null){var l=Math.pow(10,-o);Math.abs(r/t)<l&&(r=0),Math.abs(t/r)<l&&(t=0)}return t===0?e=i:r===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},yn.default.fromPolar=function(n){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,yn.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],r=arguments[1];if(mt(t)){if(Sn(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),mt(r))return new yn.default({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},yn.default.prototype.valueOf=yn.default.prototype.toString,yn.default.fromJSON=function(n){return new yn.default(n)},yn.default.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},yn.default),{isClass:!0});var Sa=br(HE(),1);var wz="Fraction",_z=[],Kg=C(wz,_z,()=>(Object.defineProperty(Sa.default,"name",{value:"Fraction"}),Sa.default.prototype.constructor=Sa.default,Sa.default.prototype.type="Fraction",Sa.default.prototype.isFraction=!0,Sa.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Sa.default.fromJSON=function(n){return new Sa.default(n)},Sa.default),{isClass:!0});var Sz="Range",Az=[],ev=C(Sz,Az,()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=r!=null;if(i){if(at(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(at(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(at(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),r=t.map(function(a){return parseFloat(a)}),i=r.some(function(a){return isNaN(a)});if(i)return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,t=this.start,r=this.step,i=this.end,a=i-t;return Ui(r)===Ui(a)?e=Math.ceil(a/r):a===0&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,a=0;if(r>0)for(;t<i;)e(t,[a],this),t+=r,a++;else if(r<0)for(;t>i;)e(t,[a],this),t+=r,a++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,a){t[i[0]]=e(r,i,a)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=aa(this.start,e);return this.step!==1&&(t+=":"+aa(this.step,e)),t+=":"+aa(this.end,e),t},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0});var Nz="Matrix",Dz=[],tv=C(Nz,Dz,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function GE(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),a=0,o=function(s){var u=i[s];if(u&&(delete r[u],delete i[s],--e,t===u)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(s){var u=i[s],c=++a;if(r[c]=s,i[s]=c,!u)return++e,e<=n?void 0:(s=r[t],o(s),s);if(delete r[u],t===u)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:o,clear:function(){e=a=0,t=1,r=Object.create(null),i=Object.create(null)}}}function vs(n){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function r(){typeof r.cache!="object"&&(r.cache={values:new Map,lru:GE(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var l=n.apply(n,i);return r.cache.values.set(o,l),r.cache.values.delete(r.cache.lru.hit(o)),l}}function wp(n){return Object.keys(n.signatures||{}).reduce(function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}var Ez="DenseMatrix",Mz=["Matrix"],rv=C(Ez,Mz,n=>{var{Matrix:e}=n;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!qr(f))throw new Error("Invalid datatype: "+f);if(rt(c))c.type==="DenseMatrix"?(this._data=lt(c._data),this._size=lt(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Wt(c.data)&&Wt(c.size))this._data=c.data,this._size=c.size,Pg(this._data,this._size),this._datatype=f||c.datatype;else if(Wt(c))this._data=u(c),this._size=ft(this._data),Pg(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+$t(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Ao(this._data,$t)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,p){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return a(this,c,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Wt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new yt(c.length,this._size.length);for(var f=0;f<c.length;f++)mr(c[f],this._size[f]);for(var p=this._data,m=0,h=c.length;m<h;m++){var d=c[m];mr(d,p.length),p=p[d]}return p},t.prototype.set=function(c,f,p){if(!Wt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new yt(c.length,this._size.length,"<");var m,h,d,v=c.map(function(S){return S+1});s(this,v,p);var b=this._data;for(m=0,h=c.length-1;m<h;m++)d=c[m],mr(d,b.length),b=b[d];return d=c[c.length-1],mr(d,b.length),b[d]=f,this};function r(c,f){if(!xo(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return c.get(f.min());var m=f.size();if(m.length!==c._size.length)throw new yt(m.length,c._size.length);for(var h=f.min(),d=f.max(),v=0,b=c._size.length;v<b;v++)mr(h[v],c._size[v]),mr(d[v],c._size[v]);return new t(i(c._data,f,m.length,0),c._datatype)}function i(c,f,p,m){var h=m===p-1,d=f.dimension(m);return h?d.map(function(v){return mr(v,c.length),c[v]}).valueOf():d.map(function(v){mr(v,c.length);var b=c[v];return i(b,f,p,m+1)}).valueOf()}function a(c,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),v;if(rt(p)?(v=p.size(),p=p.valueOf()):v=ft(p),d){if(v.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),p,m)}else{if(!ia(v,h))try{v.length===0?p=kg([p],h):p=kg(p,h),v=ft(p)}catch(x){}if(h.length<c._size.length)throw new yt(h.length,c._size.length,"<");if(v.length<h.length){for(var b=0,S=0;h[b]===1&&v[b]===1;)b++;for(;h[b]===1;)S++,b++;p=cp(p,h.length,S,v)}if(!ia(h,v))throw new yt(h,v,">");var y=f.max().map(function(x){return x+1});s(c,y,m);var w=h.length,_=0;o(c._data,f,p,w,_)}return c}function o(c,f,p,m,h){var d=h===m-1,v=f.dimension(h);d?v.forEach(function(b,S){mr(b),c[b]=p[S[0]]}):v.forEach(function(b,S){mr(b),o(c[b],f,p[S[0]],m,h+1)})}t.prototype.resize=function(c,f,p){if(!Yr(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=p?this.clone():this;return l(h,m,f)};function l(c,f,p){if(f.length===0){for(var m=c._data;Wt(m);)m=m[0];return m}return c._size=f.slice(0),c._data=oa(c._data,c._size,p),c}t.prototype.reshape=function(c,f){var p=f?this.clone():this;p._data=Cl(p._data,c);var m=p._size.reduce((h,d)=>h*d);return p._size=Tl(c,m),p};function s(c,f,p){for(var m=c._size.slice(0),h=!1;m.length<f.length;)m.push(0),h=!0;for(var d=0,v=f.length;d<v;d++)f[d]>m[d]&&(m[d]=f[d],h=!0);h&&l(c,m,p)}t.prototype.clone=function(){var c=new t({data:lt(this._data),size:lt(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,p=wp(c),m=function v(b,S){return Wt(b)?b.map(function(y,w){return v(y,S.concat(w))}):p===1?c(b):p===2?c(b,S):c(b,S,f)},h=m(this._data,[]),d=this._datatype!==void 0?Ao(h,$t):void 0;return new t(h,d)},t.prototype.forEach=function(c){var f=this,p=function m(h,d){Wt(h)?h.forEach(function(v,b){m(v,d.concat(b))}):c(h,d,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*f(p,m){if(Wt(p))for(var h=0;h<p.length;h++)yield*vh(f(p[h],m.concat(h)));else yield{value:p,index:m}};yield*vh(c(this._data,[]))},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,h=function(b){var S=m.map(y=>[y[b]]);f.push(new t(S,c._datatype))},d=0;d<p[1];d++)h(d);return f},t.prototype.toArray=function(){return lt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return vt(this._data,c)},t.prototype.toString=function(){return vt(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(at(c)&&(c=c.toNumber()),!mt(c)||!Qe(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,p=c<0?-c:0,m=this._size[0],h=this._size[1],d=Math.min(m-p,h-f),v=[],b=0;b<d;b++)v[b]=this._data[b+p][b+f];return new t({data:v,size:[d],datatype:this._datatype})},t.diagonal=function(c,f,p,m){if(!Wt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(M){if(at(M)&&(M=M.toNumber()),!mt(M)||!Qe(M)||M<1)throw new Error("Size values must be positive integers");return M}),p){if(at(p)&&(p=p.toNumber()),!mt(p)||!Qe(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var h=p>0?p:0,d=p<0?-p:0,v=c[0],b=c[1],S=Math.min(v-d,b-h),y;if(Wt(f)){if(f.length!==S)throw new Error("Invalid value array length");y=function(D){return f[D]}}else if(rt(f)){var w=f.size();if(w.length!==1||w[0]!==S)throw new Error("Invalid matrix length");y=function(D){return f.get([D])}}else y=function(){return f};m||(m=at(y(0))?y(0).mul(0):0);var _=[];if(c.length>0){_=oa(_,c,m);for(var x=0;x<S;x++)_[x+d][x+h]=y(x)}return new t({data:_,size:[v,b]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!mt(c)||!Qe(c)||!mt(f)||!Qe(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mr(c,this._size[0]),mr(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,p){var m=p[c];p[c]=p[f],p[f]=m};function u(c){return rt(c)?u(c.valueOf()):Wt(c)?c.map(u):c}return t},{isClass:!0});var WE="clone",Cz=["typed"],nv=C(WE,Cz,n=>{var{typed:e}=n;return e(WE,{any:lt})});function _p(n){var e=n.length,t=n[0].length,r,i,a=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);a.push(o)}return a}function Vi(n){for(var e=0;e<n.length;e++)if(Yr(n[e]))return!0;return!1}function Rn(n,e){rt(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?Rn(i,e):e(i)}}function it(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return it(r,e,t)}):e(n)}function To(n,e,t){var r=Array.isArray(n)?ft(n):n.size();if(e<0||e>=r.length)throw new Dn(e,r.length);return rt(n)?n.create(Sp(n.valueOf(),e,t)):Sp(n,e,t)}function Sp(n,e,t){var r,i,a,o;if(e<=0)if(Array.isArray(n[0])){for(o=_p(n),i=[],r=0;r<o.length;r++)i[r]=Sp(o[r],e-1,t);return i}else{for(a=n[0],r=1;r<n.length;r++)a=t(a,n[r]);return a}else{for(i=[],r=0;r<n.length;r++)i[r]=Sp(n[r],e-1,t);return i}}function iv(n,e,t,r,i,a,o,l,s,u,c){var f=n._values,p=n._index,m=n._ptr,h,d,v,b;if(r)for(d=m[e],v=m[e+1],h=d;h<v;h++)b=p[h],t[b]!==a?(t[b]=a,o.push(b),u?(r[b]=s?l(f[h],c):l(c,f[h]),i[b]=a):r[b]=f[h]):(r[b]=s?l(f[h],r[b]):l(r[b],f[h]),i[b]=a);else for(d=m[e],v=m[e+1],h=d;h<v;h++)b=p[h],t[b]!==a?(t[b]=a,o.push(b)):i[b]=a}var YE="isInteger",Tz=["typed"],av=C(YE,Tz,n=>{var{typed:e}=n;return e(YE,{number:Qe,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var si="number",ja="number, number";function ov(n){return Math.abs(n)}ov.signature=si;function sv(n,e){return n+e}sv.signature=ja;function uv(n,e){return n-e}uv.signature=ja;function lv(n,e){return n*e}lv.signature=ja;function Fz(n,e){return n/e}Fz.signature=ja;function cv(n){return-n}cv.signature=si;function fv(n){return n}fv.signature=si;function wu(n){return eE(n)}wu.signature=si;function pv(n){return n*n*n}pv.signature=si;function mv(n){return Math.exp(n)}mv.signature=si;function dv(n){return tE(n)}dv.signature=si;function Iz(n,e){if(!Qe(n)||!Qe(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=n%e,n=e,e=t;return n<0?-n:n}Iz.signature=ja;function hv(n,e){if(!Qe(n)||!Qe(e))throw new Error("Parameters in function lcm must be integer numbers");if(n===0||e===0)return 0;for(var t,r=n*e;e!==0;)t=e,e=n%t,n=t;return Math.abs(r/n)}hv.signature=ja;function jE(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}function gv(n){return KD(n)}gv.signature=si;function vv(n){return QD(n)}vv.signature=si;function Pz(n){return ap(n)}Pz.signature=si;function Bz(n,e){return e===0?n:n-e*Math.floor(n/e)}Bz.signature=ja;function yv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(n===0)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function Ap(n){return Ui(n)}Ap.signature=si;function Oz(n){return Math.sqrt(n)}Oz.signature=si;function bv(n){return n*n}bv.signature=si;function xv(n,e){var t,r,i,a=0,o=1,l=1,s=0;if(!Qe(n)||!Qe(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=Math.floor(n/e),i=n-r*e,t=a,a=o-r*a,o=t,t=l,l=s-r*l,s=t,n=e,e=i;var u;return n<0?u=[-n,-o,-s]:u=[n,n?o:0,s],u}xv.signature=ja;function wv(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}wv.signature=ja;function _u(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Qe(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Tg(n,e))}function kz(n){return Math.abs(n)}kz.signature=si;var Rz="number",Su="number, number";function _v(n,e){if(!Qe(n)||!Qe(e))throw new Error("Integers expected in function bitAnd");return n&e}_v.signature=Su;function Sv(n){if(!Qe(n))throw new Error("Integer expected in function bitNot");return~n}Sv.signature=Rz;function Av(n,e){if(!Qe(n)||!Qe(e))throw new Error("Integers expected in function bitOr");return n|e}Av.signature=Su;function Nv(n,e){if(!Qe(n)||!Qe(e))throw new Error("Integers expected in function bitXor");return n^e}Nv.signature=Su;function Dv(n,e){if(!Qe(n)||!Qe(e))throw new Error("Integers expected in function leftShift");return n<<e}Dv.signature=Su;function Ev(n,e){if(!Qe(n)||!Qe(e))throw new Error("Integers expected in function rightArithShift");return n>>e}Ev.signature=Su;function Mv(n,e){if(!Qe(n)||!Qe(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}Mv.signature=Su;function _i(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return _i(n,t)*_i(t+1,e)}function Cv(n,e){if(!Qe(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!Qe(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,l=i;l<=n;++l)for(r*=l;a<=o&&r%a===0;)r/=a,++a;return a<=o&&(r/=_i(a,o)),r}Cv.signature="number, number";var ZE=Math.PI,JE=2*Math.PI,XE=Math.E,QE=1.618033988749895;var Lz="number",Tv="number, number";function Fv(n){return!n}Fv.signature=Lz;function Iv(n,e){return!!(n||e)}Iv.signature=Tv;function Pv(n,e){return!!n!=!!e}Pv.signature=Tv;function Bv(n,e){return!!(n&&e)}Bv.signature=Tv;function Bl(n){var e;if(Qe(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:_i(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*Bl(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,a=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*n))}--n,e=ys[0];for(var o=1;o<ys.length;++o)e+=ys[o]/(n+o);var l=n+Ov+.5;return Math.sqrt(2*Math.PI)*Math.pow(l,n+.5)*Math.exp(-l)*e}Bl.signature="number";var Ov=4.7421875,ys=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],kv=.9189385332046728,Uz=5,Vz=7,KE=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Ol(n){if(n<0)return NaN;if(n===0)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-Ol(1-n);n=n-1;for(var e=n+Uz+.5,t=KE[0],r=Vz-1;r>=1;r--)t+=KE[r]/(n+r);return kv+(n+.5)*Math.log(e)-e+Math.log(t)}Ol.signature="number";var zr="number",qz="number, number";function zz(n){return Math.acos(n)}zz.signature=zr;function Rv(n){return iE(n)}Rv.signature=zr;function Lv(n){return Math.atan(1/n)}Lv.signature=zr;function Uv(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}Uv.signature=zr;function Vv(n){return Math.asin(1/n)}Vv.signature=zr;function qv(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}qv.signature=zr;function zv(n){return Math.acos(1/n)}zv.signature=zr;function $v(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}$v.signature=zr;function $z(n){return Math.asin(n)}$z.signature=zr;function Hv(n){return aE(n)}Hv.signature=zr;function Hz(n){return Math.atan(n)}Hz.signature=zr;function Gz(n,e){return Math.atan2(n,e)}Gz.signature=qz;function Gv(n){return oE(n)}Gv.signature=zr;function Wz(n){return Math.cos(n)}Wz.signature=zr;function Yz(n){return sp(n)}Yz.signature=zr;function Wv(n){return 1/Math.tan(n)}Wv.signature=zr;function Yv(n){var e=Math.exp(2*n);return(e+1)/(e-1)}Yv.signature=zr;function jv(n){return 1/Math.sin(n)}jv.signature=zr;function Zv(n){return n===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*Ui(n)}Zv.signature=zr;function Jv(n){return 1/Math.cos(n)}Jv.signature=zr;function Xv(n){return 2/(Math.exp(n)+Math.exp(-n))}Xv.signature=zr;function jz(n){return Math.sin(n)}jz.signature=zr;function Qv(n){return sE(n)}Qv.signature=zr;function Zz(n){return Math.tan(n)}Zz.signature=zr;function Jz(n){return up(n)}Jz.signature=zr;var kl="number";function Xz(n){return Qe(n)}Xz.signature=kl;function Kv(n){return n<0}Kv.signature=kl;function ey(n){return n>0}ey.signature=kl;function ty(n){return n===0}ty.signature=kl;function ry(n){return Number.isNaN(n)}ry.signature=kl;var eM="isNegative",Qz=["typed"],ny=C(eM,Qz,n=>{var{typed:e}=n;return e(eM,{number:Kv,BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var tM="isNumeric",Kz=["typed"],iy=C(tM,Kz,n=>{var{typed:e}=n;return e(tM,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var rM="hasNumericValue",e$=["typed","isNumeric"],ay=C(rM,e$,n=>{var{typed:e,isNumeric:t}=n;return e(rM,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var nM="isPositive",t$=["typed"],oy=C(nM,t$,n=>{var{typed:e}=n;return e(nM,{number:ey,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var iM="isZero",r$=["typed"],sy=C(iM,r$,n=>{var{typed:e}=n;return e(iM,{number:ty,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var aM="isNaN",n$=["typed"],uy=C(aM,n$,n=>{var{typed:e}=n;return e(aM,{number:ry,BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(r){return it(r,Number.isNaN)}})});var oM="typeOf",i$=["typed"],ly=C(oM,i$,n=>{var{typed:e}=n;return e(oM,{any:$t})});function nn(n,e,t){if(t==null)return n.eq(e);if(n.eq(e))return!0;if(n.isNaN()||e.isNaN())return!1;if(n.isFinite()&&e.isFinite()){var r=n.minus(e).abs();if(r.isZero())return!0;var i=n.constructor.max(n.abs(),e.abs());return r.lte(i.times(t))}return!1}function sM(n,e,t){return Lr(n.re,e.re,t)&&Lr(n.im,e.im,t)}var qi=C("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}});var Np="equalScalar",a$=["typed","config"],cy=C(Np,a$,n=>{var{typed:e,config:t}=n,r=qi({typed:e});return e(Np,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Lr(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||nn(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return sM(a,o,t.epsilon)}},r)}),Tpe=C(Np,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Np,{"number, number":function(i,a){return Lr(i,a,t.epsilon)}})});var o$="SparseMatrix",s$=["typed","equalScalar","Matrix"],fy=C(o$,s$,n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(d,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!qr(v))throw new Error("Invalid datatype: "+v);if(rt(d))a(this,d,v);else if(d&&Wt(d.index)&&Wt(d.ptr)&&Wt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=v||d.datatype;else if(Wt(d))o(this,d,v);else{if(d)throw new TypeError("Unsupported type of data ("+$t(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(d,v,b){v.type==="SparseMatrix"?(d._values=v._values?lt(v._values):void 0,d._index=lt(v._index),d._ptr=lt(v._ptr),d._size=lt(v._size),d._datatype=b||v._datatype):o(d,v.valueOf(),b||v._datatype)}function o(d,v,b){d._values=[],d._index=[],d._ptr=[],d._datatype=b;var S=v.length,y=0,w=t,_=0;if(qr(b)&&(w=e.find(t,[b,b])||t,_=e.convert(0,b)),S>0){var x=0;do{d._ptr.push(d._index.length);for(var M=0;M<S;M++){var D=v[M];if(Wt(D)){if(x===0&&y<D.length&&(y=D.length),x<D.length){var N=D[x];w(N,_)||(d._values.push(N),d._index.push(M))}}else x===0&&y<1&&(y=1),w(D,_)||(d._values.push(D),d._index.push(M))}x++}while(x<y)}d._ptr.push(d._index.length),d._size=[S,y]}i.prototype=new r,i.prototype.createSparseMatrix=function(d,v){return new i(d,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Ao(this._values,$t)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,v){return new i(d,v)},i.prototype.density=function(){var d=this._size[0],v=this._size[1];return d!==0&&v!==0?this._index.length/(d*v):0},i.prototype.subset=function(d,v,b){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,d);case 2:case 3:return s(this,d,v,b);default:throw new SyntaxError("Wrong number of arguments")}};function l(d,v){if(!xo(v))throw new TypeError("Invalid index");var b=v.isScalar();if(b)return d.get(v.min());var S=v.size();if(S.length!==d._size.length)throw new yt(S.length,d._size.length);var y,w,_,x,M=v.min(),D=v.max();for(y=0,w=d._size.length;y<w;y++)mr(M[y],d._size[y]),mr(D[y],d._size[y]);var N=d._values,E=d._index,P=d._ptr,O=v.dimension(0),U=v.dimension(1),z=[],L=[];O.forEach(function(R,ie){L[R]=ie[0],z[R]=!0});var B=N?[]:void 0,T=[],G=[];return U.forEach(function(R){for(G.push(T.length),_=P[R],x=P[R+1];_<x;_++)y=E[_],z[y]===!0&&(T.push(L[y]),B&&B.push(N[_]))}),G.push(T.length),new i({values:B,index:T,ptr:G,size:S,datatype:d._datatype})}function s(d,v,b,S){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var y=v.size(),w=v.isScalar(),_;if(rt(b)?(_=b.size(),b=b.toArray()):_=ft(b),w){if(_.length!==0)throw new TypeError("Scalar expected");d.set(v.min(),b,S)}else{if(y.length!==1&&y.length!==2)throw new yt(y.length,d._size.length,"<");if(_.length<y.length){for(var x=0,M=0;y[x]===1&&_[x]===1;)x++;for(;y[x]===1;)M++,x++;b=cp(b,y.length,M,_)}if(!ia(y,_))throw new yt(y,_,">");if(y.length===1){var D=v.dimension(0);D.forEach(function(P,O){mr(P),d.set([P,0],b[O[0]],S)})}else{var N=v.dimension(0),E=v.dimension(1);N.forEach(function(P,O){mr(P),E.forEach(function(U,z){mr(U),d.set([P,U],b[O[0]][z[0]],S)})})}}return d}i.prototype.get=function(d){if(!Wt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new yt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=d[0],b=d[1];mr(v,this._size[0]),mr(b,this._size[1]);var S=u(v,this._ptr[b],this._ptr[b+1],this._index);return S<this._ptr[b+1]&&this._index[S]===v?this._values[S]:0},i.prototype.set=function(d,v,b){if(!Wt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new yt(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var S=d[0],y=d[1],w=this._size[0],_=this._size[1],x=t,M=0;qr(this._datatype)&&(x=e.find(t,[this._datatype,this._datatype])||t,M=e.convert(0,this._datatype)),(S>w-1||y>_-1)&&(p(this,Math.max(S+1,w),Math.max(y+1,_),b),w=this._size[0],_=this._size[1]),mr(S,w),mr(y,_);var D=u(S,this._ptr[y],this._ptr[y+1],this._index);return D<this._ptr[y+1]&&this._index[D]===S?x(v,M)?c(D,y,this._values,this._index,this._ptr):this._values[D]=v:x(v,M)||f(D,S,y,v,this._values,this._index,this._ptr),this};function u(d,v,b,S){if(b-v===0)return b;for(var y=v;y<b;y++)if(S[y]===d)return y;return v}function c(d,v,b,S,y){b.splice(d,1),S.splice(d,1);for(var w=v+1;w<y.length;w++)y[w]--}function f(d,v,b,S,y,w,_){y.splice(d,0,S),w.splice(d,0,v);for(var x=b+1;x<_.length;x++)_[x]++}i.prototype.resize=function(d,v,b){if(!Yr(d))throw new TypeError("Array or Matrix expected");var S=d.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(S.length!==2)throw new Error("Only two dimensions matrix are supported");S.forEach(function(w){if(!mt(w)||!Qe(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+vt(S)+")")});var y=b?this.clone():this;return p(y,S[0],S[1],v)};function p(d,v,b,S){var y=S||0,w=t,_=0;qr(d._datatype)&&(w=e.find(t,[d._datatype,d._datatype])||t,_=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var x=!w(y,_),M=d._size[0],D=d._size[1],N,E,P;if(b>D){for(E=D;E<b;E++)if(d._ptr[E]=d._values.length,x)for(N=0;N<M;N++)d._values.push(y),d._index.push(N);d._ptr[b]=d._values.length}else b<D&&(d._ptr.splice(b+1,D-b),d._values.splice(d._ptr[b],d._values.length),d._index.splice(d._ptr[b],d._index.length));if(D=b,v>M){if(x){var O=0;for(E=0;E<D;E++){d._ptr[E]=d._ptr[E]+O,P=d._ptr[E+1]+O;var U=0;for(N=M;N<v;N++,U++)d._values.splice(P+U,0,y),d._index.splice(P+U,0,N),O++}d._ptr[D]=d._values.length}}else if(v<M){var z=0;for(E=0;E<D;E++){d._ptr[E]=d._ptr[E]-z;var L=d._ptr[E],B=d._ptr[E+1]-z;for(P=L;P<B;P++)N=d._index[P],N>v-1&&(d._values.splice(P,1),d._index.splice(P,1),z++)}d._ptr[E]=d._values.length}return d._size[0]=v,d._size[1]=b,d}i.prototype.reshape=function(d,v){if(!Wt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(R){if(!mt(R)||!Qe(R)||R<=-2||R===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+vt(d)+")")});var b=this._size[0]*this._size[1];d=Tl(d,b);var S=d[0]*d[1];if(b!==S)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=v?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var w=[],_=0;_<y._ptr.length;_++)for(var x=0;x<y._ptr[_+1]-y._ptr[_];x++)w.push(_);for(var M=y._values.slice(),D=y._index.slice(),N=0;N<y._index.length;N++){var E=D[N],P=w[N],O=E*y._size[1]+P;w[N]=O%d[1],D[N]=Math.floor(O/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var U=0;U<y._ptr.length;U++)y._ptr[U]=0;for(var z=0;z<M.length;z++){var L=D[z],B=w[z],T=M[z],G=u(L,y._ptr[B],y._ptr[B+1],y._index);f(G,L,B,T,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?lt(this._values):void 0,index:lt(this._index),ptr:lt(this._ptr),size:lt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var b=this,S=this._size[0],y=this._size[1],w=wp(d),_=function(M,D,N){return w===1?d(M):w===2?d(M,[D,N]):d(M,[D,N],b)};return m(this,0,S-1,0,y-1,_,v)};function m(d,v,b,S,y,w,_){var x=[],M=[],D=[],N=t,E=0;qr(d._datatype)&&(N=e.find(t,[d._datatype,d._datatype])||t,E=e.convert(0,d._datatype));for(var P=function(V,fe,_e){V=w(V,fe,_e),N(V,E)||(x.push(V),M.push(fe))},O=S;O<=y;O++){D.push(x.length);var U=d._ptr[O],z=d._ptr[O+1];if(_)for(var L=U;L<z;L++){var B=d._index[L];B>=v&&B<=b&&P(d._values[L],B-v,O-S)}else{for(var T={},G=U;G<z;G++){var R=d._index[G];T[R]=d._values[G]}for(var ie=v;ie<=b;ie++){var j=ie in T?T[ie]:0;P(j,ie-v,O-S)}}}return D.push(x.length),new i({values:x,index:M,ptr:D,size:[b-v+1,y-S+1]})}i.prototype.forEach=function(d,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var b=this,S=this._size[0],y=this._size[1],w=0;w<y;w++){var _=this._ptr[w],x=this._ptr[w+1];if(v)for(var M=_;M<x;M++){var D=this._index[M];d(this._values[M],[D,w],b)}else{for(var N={},E=_;E<x;E++){var P=this._index[E];N[P]=this._values[E]}for(var O=0;O<S;O++){var U=O in N?N[O]:0;d(U,[O,w],b)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],v=0;v<d;v++)for(var b=this._ptr[v],S=this._ptr[v+1],y=b;y<S;y++){var w=this._index[y];yield{value:this._values[y],index:[w,v]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,v,b,S,y){var w=S[0],_=S[1],x=[],M,D;for(M=0;M<w;M++)for(x[M]=[],D=0;D<_;D++)x[M][D]=0;for(D=0;D<_;D++)for(var N=b[D],E=b[D+1],P=N;P<E;P++)M=v[P],x[M][D]=d?y?lt(d[P]):d[P]:1;return x}return i.prototype.format=function(d){for(var v=this._size[0],b=this._size[1],S=this.density(),y="Sparse Matrix ["+vt(v,d)+" x "+vt(b,d)+"] density: "+vt(S,d)+`
    `,w=0;w<b;w++)for(var _=this._ptr[w],x=this._ptr[w+1],M=_;M<x;M++){var D=this._index[M];y+=`
        (`+vt(D,d)+", "+vt(w,d)+") ==> "+(this._values?vt(this._values[M],d):"X")}return y},i.prototype.toString=function(){return vt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(at(d)&&(d=d.toNumber()),!mt(d)||!Qe(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v=d>0?d:0,b=d<0?-d:0,S=this._size[0],y=this._size[1],w=Math.min(S-b,y-v),_=[],x=[],M=[];M[0]=0;for(var D=v;D<y&&_.length<w;D++)for(var N=this._ptr[D],E=this._ptr[D+1],P=N;P<E;P++){var O=this._index[P];if(O===D-v+b){_.push(this._values[P]),x[_.length-1]=O-b;break}}return M.push(_.length),new i({values:_,index:x,ptr:M,size:[w,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,v,b,S,y){if(!Wt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(R){if(at(R)&&(R=R.toNumber()),!mt(R)||!Qe(R)||R<1)throw new Error("Size values must be positive integers");return R}),b){if(at(b)&&(b=b.toNumber()),!mt(b)||!Qe(b))throw new TypeError("The parameter k must be an integer number")}else b=0;var w=t,_=0;qr(y)&&(w=e.find(t,[y,y])||t,_=e.convert(0,y));var x=b>0?b:0,M=b<0?-b:0,D=d[0],N=d[1],E=Math.min(D-M,N-x),P;if(Wt(v)){if(v.length!==E)throw new Error("Invalid value array length");P=function(ie){return v[ie]}}else if(rt(v)){var O=v.size();if(O.length!==1||O[0]!==E)throw new Error("Invalid matrix length");P=function(ie){return v.get([ie])}}else P=function(){return v};for(var U=[],z=[],L=[],B=0;B<N;B++){L.push(U.length);var T=B-x;if(T>=0&&T<E){var G=P(T);w(G,_)||(z.push(T+M),U.push(G))}}return L.push(U.length),new i({values:U,index:z,ptr:L,size:[D,N]})},i.prototype.swapRows=function(d,v){if(!mt(d)||!Qe(d)||!mt(v)||!Qe(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return mr(d,this._size[0]),mr(v,this._size[0]),i._swapRows(d,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,v,b,S,y){for(var w=S[d],_=S[d+1],x=w;x<_;x++)y(b[x],v[x])},i._swapRows=function(d,v,b,S,y,w){for(var _=0;_<b;_++){var x=w[_],M=w[_+1],D=u(d,x,M,y),N=u(v,x,M,y);if(D<M&&N<M&&y[D]===d&&y[N]===v){if(S){var E=S[D];S[D]=S[N],S[N]=E}continue}if(D<M&&y[D]===d&&(N>=M||y[N]!==v)){var P=S?S[D]:void 0;y.splice(N,0,v),S&&S.splice(N,0,P),y.splice(N<=D?D+1:D,1),S&&S.splice(N<=D?D+1:D,1);continue}if(N<M&&y[N]===v&&(D>=M||y[D]!==d)){var O=S?S[N]:void 0;y.splice(D,0,d),S&&S.splice(D,0,O),y.splice(D<=N?N+1:N,1),S&&S.splice(D<=N?N+1:N,1)}}},i},{isClass:!0});var u$="number",l$=["typed"];function c$(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:n,radix:t,integerPart:r,fractionalPart:i}}else return null}function f$(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++){var i=parseInt(n.fractionalPart[r],n.radix);t+=i/Math.pow(n.radix,r+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+n.input+'" is not a valid number');return a}var py=C(u$,l$,n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=c$(i);if(a)return f$(a);var o=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(o=Number(l[2]),i=l[1]);var s=Number(i);if(isNaN(s))throw new SyntaxError('String "'+i+'" is not a valid number');if(l){if(s>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));s>=2**(o-1)&&(s=s-2**o)}return s},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(r=>i=>it(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t});var uM="string",p$=["typed"],my=C(uM,p$,n=>{var{typed:e}=n;return e(uM,{"":function(){return""},number:aa,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>it(r,t)),any:function(r){return String(r)}})});var lM="boolean",m$=["typed"],dy=C(lM,m$,n=>{var{typed:e}=n;return e(lM,{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(r);if(r!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var d$="bignumber",h$=["typed","BigNumber"],hy=C(d$,h$,n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],l=t(a[1]),s=new t(2).pow(Number(o));if(l.gt(s.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new t(2).pow(Number(o)-1);return l.gte(u)?l.sub(s):l}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>it(i,r))})});var g$="complex",v$=["typed","Complex"],gy=C(g$,v$,n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>it(i,r))})});var y$="fraction",b$=["typed","Fraction"],vy=C(y$,b$,n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>it(i,r))})});var cM="matrix",x$=["typed","Matrix","DenseMatrix","SparseMatrix"],yy=C(cM,x$,n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(cM,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,s){return a([],l,s)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,l,s){if(l==="dense"||l==="default"||l===void 0)return new r(o,s);if(l==="sparse")return new i(o,s);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var fM="matrixFromFunction",w$=["typed","matrix","isZero"],by=C(fM,w$,n=>{var{typed:e,matrix:t,isZero:r}=n;return e(fM,{"Array | Matrix, function, string, string":function(o,l,s,u){return i(o,l,s,u)},"Array | Matrix, function, string":function(o,l,s){return i(o,l,s)},"Matrix, function":function(o,l){return i(o,l,"dense")},"Array, function":function(o,l){return i(o,l,"dense").toArray()},"Array | Matrix, string, function":function(o,l,s){return i(o,s,l)},"Array | Matrix, string, string, function":function(o,l,s,u){return i(o,u,l,s)}});function i(a,o,l,s){var u;return s!==void 0?u=t(l,s):u=t(l),u.resize(a),u.forEach(function(c,f){var p=o(f);r(p)||u.set(f,p)}),u}});var pM="matrixFromRows",_$=["typed","matrix","flatten","size"],xy=C(pM,_$,n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(pM,{"...Array":function(s){return a(s)},"...Matrix":function(s){return t(a(s.map(u=>u.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var s=o(l[0]),u=[];for(var c of l){var f=o(c);if(f!==s)throw new TypeError("The vectors had different length: "+(s|0)+" \u2260 "+(f|0));u.push(r(c))}return u}function o(l){var s=i(l);if(s.length===1)return s[0];if(s.length===2){if(s[0]===1)return s[1];if(s[1]===1)return s[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var mM="matrixFromColumns",S$=["typed","matrix","flatten","size"],wy=C(mM,S$,n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(mM,{"...Array":function(s){return a(s)},"...Matrix":function(s){return t(a(s.map(u=>u.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var s=o(l[0]),u=[],c=0;c<s;c++)u[c]=[];for(var f of l){var p=o(f);if(p!==s)throw new TypeError("The vectors had different length: "+(s|0)+" \u2260 "+(p|0));for(var m=r(f),h=0;h<s;h++)u[h].push(m[h])}return u}function o(l){var s=i(l);if(s.length===1)return s[0];if(s.length===2){if(s[0]===1)return s[1];if(s[1]===1)return s[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var dM="splitUnit",A$=["typed"],_y=C(dM,A$,n=>{var{typed:e}=n;return e(dM,{"Unit, Array":function(r,i){return r.splitUnit(i)}})});var hM="unaryMinus",N$=["typed"],Sy=C(hM,N$,n=>{var{typed:e}=n;return e(hM,{number:cv,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>it(r,t,!0))})});var gM="unaryPlus",D$=["typed","config","BigNumber"],Ay=C(gM,D$,n=>{var{typed:e,config:t,BigNumber:r}=n;return e(gM,{number:fv,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>it(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new r(+a):+a}})});var vM="abs",E$=["typed"],Ny=C(vM,E$,n=>{var{typed:e}=n;return e(vM,{number:ov,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>r=>it(r,t,!0))})});var yM="apply",M$=["typed","isInteger"],bs=C(yM,M$,n=>{var{typed:e,isInteger:t}=n;return e(yM,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var l=Array.isArray(i)?ft(i):i.size();if(a<0||a>=l.length)throw new Dn(a,l.length);return rt(i)?i.create(Dp(i.valueOf(),a,o)):Dp(i,a,o)}})});function Dp(n,e,t){var r,i,a;if(e<=0)if(Array.isArray(n[0])){for(a=C$(n),i=[],r=0;r<a.length;r++)i[r]=Dp(a[r],e-1,t);return i}else return t(n);else{for(i=[],r=0;r<n.length;r++)i[r]=Dp(n[r],e-1,t);return i}}function C$(n){var e=n.length,t=n[0].length,r,i,a=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);a.push(o)}return a}var bM="addScalar",T$=["typed"],Dy=C(bM,T$,n=>{var{typed:e}=n;return e(bM,{"number, number":sv,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var xM="subtractScalar",F$=["typed"],Ey=C(xM,F$,n=>{var{typed:e}=n;return e(xM,{"number, number":uv,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var wM="cbrt",I$=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],My=C(wM,I$,n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:a,Complex:o,BigNumber:l,Fraction:s}=n;return t(wM,{number:wu,Complex:u,"Complex, boolean":u,BigNumber:function(p){return p.cbrt()},Unit:c});function u(f,p){var m=f.arg()/3,h=f.abs(),d=new o(wu(h),0).mul(new o(0,m).exp());if(p){var v=[d,new o(wu(h),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(wu(h),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return d}function c(f){if(f.value&&Xn(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=u(f.value),p}else{var m=r(f.value);m&&(f.value=i(f.value));var h;at(f.value)?h=new l(1).div(3):Ha(f.value)?h=new s(1,3):h=1/3;var d=f.pow(h);return m&&(d.value=i(d.value)),d}}});var P$="matAlgo11xS0s",B$=["typed","equalScalar"],dr=C(P$,B$,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o,l){var s=i._values,u=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=t,b=0,S=o;typeof p=="string"&&(d=p,v=e.find(t,[d,d]),b=e.convert(0,d),a=e.convert(a,d),S=e.find(o,[d,d]));for(var y=[],w=[],_=[],x=0;x<h;x++){_[x]=w.length;for(var M=c[x],D=c[x+1],N=M;N<D;N++){var E=u[N],P=l?S(a,s[N]):S(s[N],a);v(P,b)||(w.push(E),y.push(P))}}return _[h]=w.length,i.createSparseMatrix({values:y,index:w,ptr:_,size:[m,h],datatype:d})}});var O$="matAlgo12xSfs",k$=["typed","DenseMatrix"],rr=C(O$,k$,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,a,o,l){var s=i._values,u=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=o;typeof p=="string"&&(d=p,a=e.convert(a,d),v=e.find(o,[d,d]));for(var b=[],S=[],y=[],w=0;w<h;w++){for(var _=w+1,x=c[w],M=c[w+1],D=x;D<M;D++){var N=u[D];S[N]=s[D],y[N]=_}for(var E=0;E<m;E++)w===0&&(b[E]=[]),y[E]===_?b[E][w]=l?v(a,S[E]):v(S[E],a):b[E][w]=l?v(a,0):v(0,a)}return new t({data:b,size:[m,h],datatype:d})}});var R$="matAlgo14xDs",L$=["typed"],Xr=C(R$,L$,n=>{var{typed:e}=n;return function(i,a,o,l){var s=i._data,u=i._size,c=i._datatype,f,p=o;typeof c=="string"&&(f=c,a=e.convert(a,f),p=e.find(o,[f,f]));var m=u.length>0?t(p,0,u,u[0],s,a,l):[];return i.createDenseMatrix({data:m,size:lt(u),datatype:f})};function t(r,i,a,o,l,s,u){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=u?r(s,l[f]):r(l[f],s);else for(var p=0;p<o;p++)c[p]=t(r,i+1,a,a[i+1],l[p],s,u);return c}});var Cy="ceil",U$=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],V$=C(Cy,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(Cy,{number:function(a){return Lr(a,r(a),t.epsilon)?r(a):Math.ceil(a)},"number, number":function(a,o){if(Lr(a,r(a,o),t.epsilon))return r(a,o);var[l,s]="".concat(a,"e").split("e"),u=Math.ceil(Number("".concat(l,"e").concat(Number(s)+o)));return[l,s]="".concat(u,"e").split("e"),Number("".concat(l,"e").concat(Number(s)-o))}})}),Ty=C(Cy,U$,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=n,s=dr({typed:e,equalScalar:a}),u=rr({typed:e,DenseMatrix:l}),c=Xr({typed:e}),f=V$({typed:e,config:t,round:r});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:function(m){return nn(m,r(m),t.epsilon)?r(m):m.ceil()},"BigNumber, BigNumber":function(m,h){return nn(m,r(m,h),t.epsilon)?r(m,h):m.toDecimalPlaces(h.toNumber(),gs.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>it(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>it(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):u(h,m,p,!0))})});var _M="cube",q$=["typed"],Fy=C(_M,q$,n=>{var{typed:e}=n;return e(_M,{number:pv,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})});var SM="exp",z$=["typed"],Iy=C(SM,z$,n=>{var{typed:e}=n;return e(SM,{number:mv,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})});var AM="expm1",$$=["typed","Complex"],Py=C(AM,$$,n=>{var{typed:e,Complex:t}=n;return e(AM,{number:dv,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var By="fix",H$=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],G$=C(By,["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e(By,{number:function(a){return a>0?r(a):t(a)},"number, number":function(a,o){return a>0?r(a,o):t(a,o)}})}),Oy=C(By,H$,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:a,equalScalar:o,zeros:l,DenseMatrix:s}=n,u=rr({typed:e,DenseMatrix:s}),c=Xr({typed:e}),f=G$({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},"Complex, BigNumber":function(m,h){var d=h.toNumber();return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?i(m,h):a(m,h)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0?i(m,h):a(m,h)},"Array | Matrix":e.referToSelf(p=>m=>it(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,h)=>it(m,d=>p(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(r(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>o(m,0)?l(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):u(h,m,p,!0))})});var ky="floor",W$=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Y$=C(ky,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(ky,{number:function(a){return Lr(a,r(a),t.epsilon)?r(a):Math.floor(a)},"number, number":function(a,o){if(Lr(a,r(a,o),t.epsilon))return r(a,o);var[l,s]="".concat(a,"e").split("e"),u=Math.floor(Number("".concat(l,"e").concat(Number(s)+o)));return[l,s]="".concat(u,"e").split("e"),Number("".concat(l,"e").concat(Number(s)-o))}})}),Rl=C(ky,W$,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=n,s=dr({typed:e,equalScalar:a}),u=rr({typed:e,DenseMatrix:l}),c=Xr({typed:e}),f=Y$({typed:e,config:t,round:r});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:function(m){return nn(m,r(m),t.epsilon)?r(m):m.floor()},"BigNumber, BigNumber":function(m,h){return nn(m,r(m,h),t.epsilon)?r(m,h):m.toDecimalPlaces(h.toNumber(),gs.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>it(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>it(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):u(h,m,p,!0))})});var j$="matAlgo02xDS0",Z$=["typed","equalScalar"],Qr=C(j$,Z$,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o,l){var s=i._data,u=i._size,c=i._datatype||i.getDataType(),f=a._values,p=a._index,m=a._ptr,h=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==h.length)throw new yt(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=u[0],b=u[1],S,y=t,w=0,_=o;typeof c=="string"&&c===d&&c!=="mixed"&&(S=c,y=e.find(t,[S,S]),w=e.convert(0,S),_=e.find(o,[S,S]));for(var x=[],M=[],D=[],N=0;N<b;N++){D[N]=M.length;for(var E=m[N],P=m[N+1],O=E;O<P;O++){var U=p[O],z=l?_(f[O],s[U][N]):_(s[U][N],f[O]);y(z,w)||(M.push(U),x.push(z))}}return D[b]=M.length,a.createSparseMatrix({values:x,index:M,ptr:D,size:[v,b],datatype:c===i._datatype&&d===a._datatype?S:void 0})}});var J$="matAlgo03xDSf",X$=["typed"],Ar=C(J$,X$,n=>{var{typed:e}=n;return function(r,i,a,o){var l=r._data,s=r._size,u=r._datatype||r.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==m.length)throw new yt(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=s[0],v=s[1],b,S=0,y=a;typeof u=="string"&&u===h&&u!=="mixed"&&(b=u,S=e.convert(0,b),y=e.find(a,[b,b]));for(var w=[],_=0;_<d;_++)w[_]=[];for(var x=[],M=[],D=0;D<v;D++){for(var N=D+1,E=p[D],P=p[D+1],O=E;O<P;O++){var U=f[O];x[U]=o?y(c[O],l[U][D]):y(l[U][D],c[O]),M[U]=N}for(var z=0;z<d;z++)M[z]===N?w[z][D]=x[z]:w[z][D]=o?y(S,l[z][D]):y(l[z][D],S)}return r.createDenseMatrix({data:w,size:[d,v],datatype:u===r._datatype&&h===i._datatype?b:void 0})}});var Q$="matAlgo05xSfSf",K$=["typed","equalScalar"],Fo=C(Q$,K$,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var l=i._values,s=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new yt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var b=c[0],S=c[1],y,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(y=f,w=e.find(t,[y,y]),_=e.convert(0,y),x=e.find(o,[y,y]));var M=l&&p?[]:void 0,D=[],N=[],E=M?[]:void 0,P=M?[]:void 0,O=[],U=[],z,L,B,T;for(L=0;L<S;L++){N[L]=D.length;var G=L+1;for(B=u[L],T=u[L+1];B<T;B++)z=s[B],D.push(z),O[z]=G,E&&(E[z]=l[B]);for(B=h[L],T=h[L+1];B<T;B++)z=m[B],O[z]!==G&&D.push(z),U[z]=G,P&&(P[z]=p[B]);if(M)for(B=N[L];B<D.length;){z=D[B];var R=O[z],ie=U[z];if(R===G||ie===G){var j=R===G?E[z]:_,H=ie===G?P[z]:_,V=x(j,H);w(V,_)?D.splice(B,1):(M.push(V),B++)}}}return N[S]=D.length,i.createSparseMatrix({values:M,index:D,ptr:N,size:[b,S],datatype:f===i._datatype&&v===a._datatype?y:void 0})}});var eH="matAlgo13xDD",tH=["typed"],NM=C(eH,tH,n=>{var{typed:e}=n;return function(i,a,o){var l=i._data,s=i._size,u=i._datatype,c=a._data,f=a._size,p=a._datatype,m=[];if(s.length!==f.length)throw new yt(s.length,f.length);for(var h=0;h<s.length;h++){if(s[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");m[h]=s[h]}var d,v=o;typeof u=="string"&&u===p&&(d=u,v=e.find(o,[d,d]));var b=m.length>0?t(v,0,m,m[0],l,c):[];return i.createDenseMatrix({data:b,size:m,datatype:d})};function t(r,i,a,o,l,s){var u=[];if(i===a.length-1)for(var c=0;c<o;c++)u[c]=r(l[c],s[c]);else for(var f=0;f<o;f++)u[f]=t(r,i+1,a,a[i+1],l[f],s[f]);return u}});var rH="broadcast",nH=["concat"],DM=C(rH,nH,n=>{var{concat:e}=n;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var l=t(i._size,o,0),s=t(a._size,o,0),u=[],c=0;c<o;c++)u[c]=Math.max(l[c],s[c]);Fl(l,u),Fl(s,u);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):p._size.length<o&&p.reshape(t(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<u[m]&&(f=r(f,u[m],m)),p._size[m]<u[m]&&(p=r(p,u[m],m));return[f,p]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function r(i,a,o){return e(...Array(a).fill(i),o)}});var iH="matrixAlgorithmSuite",aH=["typed","matrix","concat"],At=C(iH,aH,n=>{var{typed:e,matrix:t,concat:r}=n,i=NM({typed:e}),a=Xr({typed:e}),o=DM({concat:r});return function(s){var u=s.elop,c=s.SD||s.DS,f;u?(f={"DenseMatrix, DenseMatrix":(d,v)=>i(...o(d,v),u),"Array, Array":(d,v)=>i(...o(t(d),t(v)),u).valueOf(),"Array, DenseMatrix":(d,v)=>i(...o(t(d),v),u),"DenseMatrix, Array":(d,v)=>i(...o(d,t(v)),u)},s.SS&&(f["SparseMatrix, SparseMatrix"]=(d,v)=>s.SS(...o(d,v),u,!1)),s.DS&&(f["DenseMatrix, SparseMatrix"]=(d,v)=>s.DS(...o(d,v),u,!1),f["Array, SparseMatrix"]=(d,v)=>s.DS(...o(t(d),v),u,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,v)=>c(...o(v,d),u,!0),f["SparseMatrix, Array"]=(d,v)=>c(...o(t(v),d),u,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(v,b)=>i(...o(v,b),d)),"Array, Array":e.referToSelf(d=>(v,b)=>i(...o(t(v),t(b)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(v,b)=>i(...o(t(v),b),d)),"DenseMatrix, Array":e.referToSelf(d=>(v,b)=>i(...o(v,t(b)),d))},s.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(v,b)=>s.SS(...o(v,b),d,!1))),s.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(v,b)=>s.DS(...o(v,b),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(v,b)=>s.DS(...o(t(v),b),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(v,b)=>c(...o(b,v),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(v,b)=>c(...o(t(b),v),d,!0))));var p=s.scalar||"any",m=s.Ds||s.Ss;m&&(u?(f["DenseMatrix,"+p]=(d,v)=>a(d,v,u,!1),f[p+", DenseMatrix"]=(d,v)=>a(v,d,u,!0),f["Array,"+p]=(d,v)=>a(t(d),v,u,!1).valueOf(),f[p+", Array"]=(d,v)=>a(t(v),d,u,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(v,b)=>a(v,b,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(v,b)=>a(b,v,d,!0)),f["Array,"+p]=e.referToSelf(d=>(v,b)=>a(t(v),b,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(v,b)=>a(t(b),v,d,!0).valueOf())));var h=s.sS!==void 0?s.sS:s.Ss;return u?(s.Ss&&(f["SparseMatrix,"+p]=(d,v)=>s.Ss(d,v,u,!1)),h&&(f[p+", SparseMatrix"]=(d,v)=>h(v,d,u,!0))):(s.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(v,b)=>s.Ss(v,b,d,!1))),h&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(v,b)=>h(b,v,d,!0)))),u&&u.signatures&&ip(f,u.signatures),f}});var EM="mod",oH=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Ll=C(EM,oH,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l,concat:s}=n,u=Rl({typed:e,config:t,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}),c=Qr({typed:e,equalScalar:a}),f=Ar({typed:e}),p=Fo({typed:e,equalScalar:a}),m=dr({typed:e,equalScalar:a}),h=rr({typed:e,DenseMatrix:l}),d=At({typed:e,matrix:i,concat:s});return e(EM,{"number, number":v,"BigNumber, BigNumber":function(S,y){return y.isZero()?S:S.sub(y.mul(u(S.div(y))))},"Fraction, Fraction":function(S,y){return y.equals(0)?S:S.sub(y.mul(u(S.div(y))))}},d({SS:p,DS:f,SD:c,Ss:m,sS:h}));function v(b,S){return S===0?b:b-S*u(b/S)}});var sH="matAlgo01xDSid",uH=["typed"],Ln=C(sH,uH,n=>{var{typed:e}=n;return function(r,i,a,o){var l=r._data,s=r._size,u=r._datatype||r.getDataType(),c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==m.length)throw new yt(s.length,m.length);if(s[0]!==m[0]||s[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=s[0],v=s[1],b=typeof u=="string"&&u!=="mixed"&&u===h?u:void 0,S=b?e.find(a,[b,b]):a,y,w,_=[];for(y=0;y<d;y++)_[y]=[];var x=[],M=[];for(w=0;w<v;w++){for(var D=w+1,N=p[w],E=p[w+1],P=N;P<E;P++)y=f[P],x[y]=o?S(c[P],l[y][w]):S(l[y][w],c[P]),M[y]=D;for(y=0;y<d;y++)M[y]===D?_[y][w]=x[y]:_[y][w]=l[y][w]}return r.createDenseMatrix({data:_,size:[d,v],datatype:u===r._datatype&&h===i._datatype?b:void 0})}});var lH="matAlgo04xSidSid",cH=["typed","equalScalar"],Au=C(lH,cH,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var l=i._values,s=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new yt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var b=c[0],S=c[1],y,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(y=f,w=e.find(t,[y,y]),_=e.convert(0,y),x=e.find(o,[y,y]));var M=l&&p?[]:void 0,D=[],N=[],E=l&&p?[]:void 0,P=l&&p?[]:void 0,O=[],U=[],z,L,B,T,G;for(L=0;L<S;L++){N[L]=D.length;var R=L+1;for(T=u[L],G=u[L+1],B=T;B<G;B++)z=s[B],D.push(z),O[z]=R,E&&(E[z]=l[B]);for(T=h[L],G=h[L+1],B=T;B<G;B++)if(z=m[B],O[z]===R){if(E){var ie=x(E[z],p[B]);w(ie,_)?O[z]=null:E[z]=ie}}else D.push(z),U[z]=R,P&&(P[z]=p[B]);if(E&&P)for(B=N[L];B<D.length;)z=D[B],O[z]===R?(M[B]=E[z],B++):U[z]===R?(M[B]=P[z],B++):D.splice(B,1)}return N[S]=D.length,i.createSparseMatrix({values:M,index:D,ptr:N,size:[b,S],datatype:f===i._datatype&&v===a._datatype?y:void 0})}});var fH="matAlgo10xSids",pH=["typed","DenseMatrix"],ui=C(fH,pH,n=>{var{typed:e,DenseMatrix:t}=n;return function(i,a,o,l){var s=i._values,u=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,v=o;typeof p=="string"&&(d=p,a=e.convert(a,d),v=e.find(o,[d,d]));for(var b=[],S=[],y=[],w=0;w<h;w++){for(var _=w+1,x=c[w],M=c[w+1],D=x;D<M;D++){var N=u[D];S[N]=s[D],y[N]=_}for(var E=0;E<m;E++)w===0&&(b[E]=[]),y[E]===_?b[E][w]=l?v(a,S[E]):v(S[E],a):b[E][w]=a}return new t({data:b,size:[m,h],datatype:d})}});function Za(n,e,t,r){if(!(this instanceof Za))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(r!=null?"-"+r:"")+" expected)",this.stack=new Error().stack}Za.prototype=new Error;Za.prototype.constructor=Error;Za.prototype.name="ArgumentsError";Za.prototype.isArgumentsError=!0;var MM="gcd",mH=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Ry="number | BigNumber | Fraction | Matrix | Array",dH="".concat(Ry,", ").concat(Ry,", ...").concat(Ry);function CM(n){return!n.some(e=>Array.isArray(e))}var Ly=C(MM,mH,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:a,zeros:o,BigNumber:l,DenseMatrix:s,concat:u}=n,c=Ll({typed:e,config:r,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:s,concat:u}),f=Ln({typed:e}),p=Au({typed:e,equalScalar:a}),m=ui({typed:e,DenseMatrix:s}),h=At({typed:e,matrix:t,concat:u});return e(MM,{"number, number":d,"BigNumber, BigNumber":v,"Fraction, Fraction":(b,S)=>b.gcd(S)},h({SS:p,DS:f,Ss:m}),{[dH]:e.referToSelf(b=>(S,y,w)=>{for(var _=b(S,y),x=0;x<w.length;x++)_=b(_,w[x]);return _}),Array:e.referToSelf(b=>S=>{if(S.length===1&&Array.isArray(S[0])&&CM(S[0]))return b(...S[0]);if(CM(S))return b(...S);throw new Za("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(b=>S=>b(S.toArray()))});function d(b,S){if(!Qe(b)||!Qe(S))throw new Error("Parameters in function gcd must be integer numbers");for(var y;S!==0;)y=c(b,S),b=S,S=y;return b<0?-b:b}function v(b,S){if(!b.isInt()||!S.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new l(0);!S.isZero();){var w=c(b,S);b=S,S=w}return b.lt(y)?b.neg():b}});var hH="matAlgo06xS0S0",gH=["typed","equalScalar"],Io=C(hH,gH,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var l=i._values,s=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,f=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(s.length!==f.length)throw new yt(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");var m=s[0],h=s[1],d,v=t,b=0,S=o;typeof u=="string"&&u===p&&u!=="mixed"&&(d=u,v=e.find(t,[d,d]),b=e.convert(0,d),S=e.find(o,[d,d]));for(var y=l&&c?[]:void 0,w=[],_=[],x=y?[]:void 0,M=[],D=[],N=0;N<h;N++){_[N]=w.length;var E=N+1;if(iv(i,N,M,x,D,E,w,S),iv(a,N,M,x,D,E,w,S),x)for(var P=_[N];P<w.length;){var O=w[P];if(D[O]===E){var U=x[O];v(U,b)?w.splice(P,1):(y.push(U),P++)}else w.splice(P,1)}else for(var z=_[N];z<w.length;){var L=w[z];D[L]!==E?w.splice(z,1):z++}}return _[h]=w.length,i.createSparseMatrix({values:y,index:w,ptr:_,size:[m,h],datatype:u===i._datatype&&p===a._datatype?d:void 0})}});var TM="lcm",vH=["typed","matrix","equalScalar","concat"],Uy=C(TM,vH,n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,a=Qr({typed:e,equalScalar:r}),o=Io({typed:e,equalScalar:r}),l=dr({typed:e,equalScalar:r}),s=At({typed:e,matrix:t,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(p=>(m,h,d)=>{for(var v=p(m,h),b=0;b<d.length;b++)v=p(v,d[b]);return v}),e(TM,{"number, number":hv,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},s({SS:o,DS:a,Ss:l}),c);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var h=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return h.div(p).abs()}});var FM="log10",yH=["typed","config","Complex"],Vy=C(FM,yH,n=>{var{typed:e,config:t,Complex:r}=n;return e(FM,{number:function(a){return a>=0||t.predictable?gv(a):new r(a,0).log().div(Math.LN10)},Complex:function(a){return new r(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new r(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>it(a,i))})});var IM="log2",bH=["typed","config","Complex"],qy=C(IM,bH,n=>{var{typed:e,config:t,Complex:r}=n;return e(IM,{number:function(o){return o>=0||t.predictable?vv(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>it(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var xH="multiplyScalar",wH=["typed"],zy=C(xH,wH,n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":lv,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})});var PM="multiply",_H=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],$y=C(PM,_H,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:a,dot:o}=n,l=dr({typed:e,equalScalar:a}),s=Xr({typed:e});function u(_,x){switch(_.length){case 1:switch(x.length){case 1:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+x[0]+")");break;case 2:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function c(_,x,M){if(M===0)throw new Error("Cannot multiply two empty vectors");return o(_,x)}function f(_,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(_,x)}function p(_,x){var M=_._data,D=_._size,N=_._datatype||_.getDataType(),E=x._data,P=x._size,O=x._datatype||x.getDataType(),U=D[0],z=P[1],L,B=r,T=i;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&(L=N,B=e.find(r,[L,L]),T=e.find(i,[L,L]));for(var G=[],R=0;R<z;R++){for(var ie=T(M[0],E[0][R]),j=1;j<U;j++)ie=B(ie,T(M[j],E[j][R]));G[R]=ie}return _.createDenseMatrix({data:G,size:[z],datatype:N===_._datatype&&O===x._datatype?L:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":S}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":b,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":w});function d(_,x){var M=_._data,D=_._size,N=_._datatype||_.getDataType(),E=x._data,P=x._datatype||x.getDataType(),O=D[0],U=D[1],z,L=r,B=i;N&&P&&N===P&&typeof N=="string"&&N!=="mixed"&&(z=N,L=e.find(r,[z,z]),B=e.find(i,[z,z]));for(var T=[],G=0;G<O;G++){for(var R=M[G],ie=B(R[0],E[0]),j=1;j<U;j++)ie=L(ie,B(R[j],E[j]));T[G]=ie}return _.createDenseMatrix({data:T,size:[O],datatype:N===_._datatype&&P===x._datatype?z:void 0})}function v(_,x){var M=_._data,D=_._size,N=_._datatype||_.getDataType(),E=x._data,P=x._size,O=x._datatype||x.getDataType(),U=D[0],z=D[1],L=P[1],B,T=r,G=i;N&&O&&N===O&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(B=N,T=e.find(r,[B,B]),G=e.find(i,[B,B]));for(var R=[],ie=0;ie<U;ie++){var j=M[ie];R[ie]=[];for(var H=0;H<L;H++){for(var V=G(j[0],E[0][H]),fe=1;fe<z;fe++)V=T(V,G(j[fe],E[fe][H]));R[ie][H]=V}}return _.createDenseMatrix({data:R,size:[U,L],datatype:N===_._datatype&&O===x._datatype?B:void 0})}function b(_,x){var M=_._data,D=_._size,N=_._datatype||_.getDataType(),E=x._values,P=x._index,O=x._ptr,U=x._size,z=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L=D[0],B=U[1],T,G=r,R=i,ie=a,j=0;N&&z&&N===z&&typeof N=="string"&&N!=="mixed"&&(T=N,G=e.find(r,[T,T]),R=e.find(i,[T,T]),ie=e.find(a,[T,T]),j=e.convert(0,T));for(var H=[],V=[],fe=[],_e=x.createSparseMatrix({values:H,index:V,ptr:fe,size:[L,B],datatype:N===_._datatype&&z===x._datatype?T:void 0}),pe=0;pe<B;pe++){fe[pe]=V.length;var de=O[pe],we=O[pe+1];if(we>de)for(var he=0,ve=0;ve<L;ve++){for(var xe=ve+1,Ce=void 0,ze=de;ze<we;ze++){var tt=P[ze];he!==xe?(Ce=R(M[ve][tt],E[ze]),he=xe):Ce=G(Ce,R(M[ve][tt],E[ze]))}he===xe&&!ie(Ce,j)&&(V.push(ve),H.push(Ce))}}return fe[B]=V.length,_e}function S(_,x){var M=_._values,D=_._index,N=_._ptr,E=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=x._data,O=x._datatype||x.getDataType(),U=_._size[0],z=x._size[0],L=[],B=[],T=[],G,R=r,ie=i,j=a,H=0;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&(G=E,R=e.find(r,[G,G]),ie=e.find(i,[G,G]),j=e.find(a,[G,G]),H=e.convert(0,G));var V=[],fe=[];T[0]=0;for(var _e=0;_e<z;_e++){var pe=P[_e];if(!j(pe,H))for(var de=N[_e],we=N[_e+1],he=de;he<we;he++){var ve=D[he];fe[ve]?V[ve]=R(V[ve],ie(pe,M[he])):(fe[ve]=!0,B.push(ve),V[ve]=ie(pe,M[he]))}}for(var xe=B.length,Ce=0;Ce<xe;Ce++){var ze=B[Ce];L[Ce]=V[ze]}return T[1]=B.length,_.createSparseMatrix({values:L,index:B,ptr:T,size:[U,1],datatype:E===_._datatype&&O===x._datatype?G:void 0})}function y(_,x){var M=_._values,D=_._index,N=_._ptr,E=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=x._data,O=x._datatype||x.getDataType(),U=_._size[0],z=x._size[0],L=x._size[1],B,T=r,G=i,R=a,ie=0;E&&O&&E===O&&typeof E=="string"&&E!=="mixed"&&(B=E,T=e.find(r,[B,B]),G=e.find(i,[B,B]),R=e.find(a,[B,B]),ie=e.convert(0,B));for(var j=[],H=[],V=[],fe=_.createSparseMatrix({values:j,index:H,ptr:V,size:[U,L],datatype:E===_._datatype&&O===x._datatype?B:void 0}),_e=[],pe=[],de=0;de<L;de++){V[de]=H.length;for(var we=de+1,he=0;he<z;he++){var ve=P[he][de];if(!R(ve,ie))for(var xe=N[he],Ce=N[he+1],ze=xe;ze<Ce;ze++){var tt=D[ze];pe[tt]!==we?(pe[tt]=we,H.push(tt),_e[tt]=G(ve,M[ze])):_e[tt]=T(_e[tt],G(ve,M[ze]))}}for(var Y=V[de],K=H.length,ge=Y;ge<K;ge++){var X=H[ge];j[ge]=_e[X]}}return V[L]=H.length,fe}function w(_,x){var M=_._values,D=_._index,N=_._ptr,E=_._datatype||_._data===void 0?_._datatype:_.getDataType(),P=x._values,O=x._index,U=x._ptr,z=x._datatype||x._data===void 0?x._datatype:x.getDataType(),L=_._size[0],B=x._size[1],T=M&&P,G,R=r,ie=i;E&&z&&E===z&&typeof E=="string"&&E!=="mixed"&&(G=E,R=e.find(r,[G,G]),ie=e.find(i,[G,G]));for(var j=T?[]:void 0,H=[],V=[],fe=_.createSparseMatrix({values:j,index:H,ptr:V,size:[L,B],datatype:E===_._datatype&&z===x._datatype?G:void 0}),_e=T?[]:void 0,pe=[],de,we,he,ve,xe,Ce,ze,tt,Y=0;Y<B;Y++){V[Y]=H.length;var K=Y+1;for(xe=U[Y],Ce=U[Y+1],ve=xe;ve<Ce;ve++)if(tt=O[ve],T)for(we=N[tt],he=N[tt+1],de=we;de<he;de++)ze=D[de],pe[ze]!==K?(pe[ze]=K,H.push(ze),_e[ze]=ie(P[ve],M[de])):_e[ze]=R(_e[ze],ie(P[ve],M[de]));else for(we=N[tt],he=N[tt+1],de=we;de<he;de++)ze=D[de],pe[ze]!==K&&(pe[ze]=K,H.push(ze));if(T)for(var ge=V[Y],X=H.length,ne=ge;ne<X;ne++){var ue=H[ne];j[ne]=_e[ue]}}return V[B]=H.length,fe}return e(PM,i,{"Array, Array":e.referTo("Matrix, Matrix",_=>(x,M)=>{u(ft(x),ft(M));var D=_(t(x),t(M));return rt(D)?D.valueOf():D}),"Matrix, Matrix":function(x,M){var D=x.size(),N=M.size();return u(D,N),D.length===1?N.length===1?c(x,M,D[0]):f(x,M):N.length===1?m(x,M):h(x,M)},"Matrix, Array":e.referTo("Matrix,Matrix",_=>(x,M)=>_(x,t(M))),"Array, Matrix":e.referToSelf(_=>(x,M)=>_(t(x,M.storage()),M)),"SparseMatrix, any":function(x,M){return l(x,M,i,!1)},"DenseMatrix, any":function(x,M){return s(x,M,i,!1)},"any, SparseMatrix":function(x,M){return l(M,x,i,!0)},"any, DenseMatrix":function(x,M){return s(M,x,i,!0)},"Array, any":function(x,M){return s(t(x),M,i,!1).valueOf()},"any, Array":function(x,M){return s(t(M),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(_=>(x,M,D)=>{for(var N=_(x,M),E=0;E<D.length;E++)N=_(N,D[E]);return N})})});var BM="nthRoot",SH=["typed","matrix","equalScalar","BigNumber","concat"],Hy=C(BM,SH,n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:a}=n,o=Ln({typed:e}),l=Qr({typed:e,equalScalar:r}),s=Io({typed:e,equalScalar:r}),u=dr({typed:e,equalScalar:r}),c=At({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(BM,{number:yv,"number, number":yv,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return s(h,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return o(h,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,d)=>m(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return u(d,h,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:l,Ss:u,sS:!1}));function p(m,h){var d=i.precision,v=i.clone({precision:d+2}),b=new i(0),S=new v(1),y=h.isNegative();if(y&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return y?new v(1/0):0;if(!m.isFinite())return y?b:m;var w=m.abs().pow(S.div(h));return w=m.isNeg()?w.neg():w,new i((y?S.div(w):w).toPrecision(d))}});var OM="sign",AH=["typed","BigNumber","Fraction","complex"],Gy=C(OM,AH,n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e(OM,{number:Ap,Complex:function(o){return o.im===0?r(Ap(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>it(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var NH="sqrt",DH=["config","typed","Complex"],Wy=C(NH,DH,n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new r(a,0).sqrt()}});var kM="square",EH=["typed"],Yy=C(kM,EH,n=>{var{typed:e}=n;return e(kM,{number:bv,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})});var RM="subtract",MH=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],jy=C(RM,MH,n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:l}=n,s=Ln({typed:e}),u=Ar({typed:e}),c=Fo({typed:e,equalScalar:r}),f=ui({typed:e,DenseMatrix:o}),p=rr({typed:e,DenseMatrix:o}),m=At({typed:e,matrix:t,concat:l});return e(RM,{"any, any":i},m({elop:i,SS:c,DS:s,SD:u,Ss:p,sS:f}))});var LM="xgcd",CH=["typed","config","matrix","BigNumber"],Zy=C(LM,CH,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e(LM,{"number, number":function(l,s){var u=xv(l,s);return t.matrix==="Array"?u:r(u)},"BigNumber, BigNumber":a});function a(o,l){var s,u,c,f=new i(0),p=new i(1),m=f,h=p,d=p,v=f;if(!o.isInt()||!l.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!l.isZero();)u=o.div(l).floor(),c=o.mod(l),s=m,m=h.minus(u.times(m)),h=s,s=d,d=v.minus(u.times(d)),v=s,o=l,l=c;var b;return o.lt(f)?b=[o.neg(),h.neg(),v.neg()]:b=[o,o.isZero()?0:h,v],t.matrix==="Array"?b:r(b)}});var UM="invmod",TH=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Jy=C(UM,TH,n=>{var{typed:e,config:t,BigNumber:r,xgcd:i,equal:a,smaller:o,mod:l,add:s,isInteger:u}=n;return e(UM,{"number, number":c,"BigNumber, BigNumber":c});function c(f,p){if(!u(f)||!u(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=l(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[h,d]=m;return a(h,r(1))?(d=l(d,p),o(d,r(0))&&(d=s(d,p)),d):NaN}});var FH="matAlgo09xS0Sf",IH=["typed","equalScalar"],Ep=C(FH,IH,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var l=i._values,s=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new yt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var b=c[0],S=c[1],y,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(y=f,w=e.find(t,[y,y]),_=e.convert(0,y),x=e.find(o,[y,y]));var M=l&&p?[]:void 0,D=[],N=[],E=M?[]:void 0,P=[],O,U,z,L,B;for(U=0;U<S;U++){N[U]=D.length;var T=U+1;if(E)for(L=h[U],B=h[U+1],z=L;z<B;z++)O=m[z],P[O]=T,E[O]=p[z];for(L=u[U],B=u[U+1],z=L;z<B;z++)if(O=s[z],E){var G=P[O]===T?E[O]:_,R=x(l[z],G);w(R,_)||(D.push(O),M.push(R))}else D.push(O)}return N[S]=D.length,i.createSparseMatrix({values:M,index:D,ptr:N,size:[b,S],datatype:f===i._datatype&&v===a._datatype?y:void 0})}});var VM="dotMultiply",PH=["typed","matrix","equalScalar","multiplyScalar","concat"],Xy=C(VM,PH,n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:a}=n,o=Qr({typed:e,equalScalar:r}),l=Ep({typed:e,equalScalar:r}),s=dr({typed:e,equalScalar:r}),u=At({typed:e,matrix:t,concat:a});return e(VM,u({elop:i,SS:l,DS:o,Ss:s}))});function qM(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return Qy(n,e,function(r,i){return r&i})}function Nu(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function zM(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:!n.isFinite()||!e.isFinite()?!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n:Qy(n,e,function(i,a){return i|a})}function Qy(n,e,t){var r=n.constructor,i,a,o=+(n.s<0),l=+(e.s<0);if(o){i=Mp(Nu(n));for(var s=0;s<i.length;++s)i[s]^=1}else i=Mp(n);if(l){a=Mp(Nu(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=Mp(e);var c,f,p;i.length<=a.length?(c=i,f=a,p=o):(c=a,f=i,p=l);var m=c.length,h=f.length,d=t(o,l)^1,v=new r(d^1),b=new r(1),S=new r(2),y=r.precision;for(r.config({precision:1e9});m>0;)t(c[--m],f[--h])===d&&(v=v.plus(b)),b=b.times(S);for(;h>0;)t(p,f[--h])===d&&(v=v.plus(b)),b=b.times(S);return r.config({precision:y}),d===0&&(v.s=-v.s),v}function Mp(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var l=n.e,s=t.slice(0,o+1||1),u=s.length;if(l>0)if(++l>u)for(l-=u;l--;)s+="0";else l<u&&(s=s.slice(0,l)+"."+s.slice(l));for(var c=[0],f=0;f<s.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(s.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function $M(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?Nu(e):e.eq(r)?Nu(n):!n.isFinite()||!e.isFinite()?!n.isFinite()&&!e.isFinite()?r:new t(n.isNegative()===e.isNegative()?1/0:-1/0):Qy(n,e,function(i,a){return i^a})}function HM(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:!n.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e))}function GM(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var WM="bitAnd",BH=["typed","matrix","equalScalar","concat"],Ul=C(WM,BH,n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,a=Qr({typed:e,equalScalar:r}),o=Io({typed:e,equalScalar:r}),l=dr({typed:e,equalScalar:r}),s=At({typed:e,matrix:t,concat:i});return e(WM,{"number, number":_v,"BigNumber, BigNumber":qM},s({SS:o,DS:a,Ss:l}))});var YM="bitNot",OH=["typed"],Ky=C(YM,OH,n=>{var{typed:e}=n;return e(YM,{number:Sv,BigNumber:Nu,"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var jM="bitOr",kH=["typed","matrix","equalScalar","DenseMatrix","concat"],Vl=C(jM,kH,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Ln({typed:e}),l=Au({typed:e,equalScalar:r}),s=ui({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:t,concat:a});return e(jM,{"number, number":Av,"BigNumber, BigNumber":zM},u({SS:l,DS:o,Ss:s}))});var RH="matAlgo07xSSf",LH=["typed","DenseMatrix"],un=C(RH,LH,n=>{var{typed:e,DenseMatrix:t}=n;return function(a,o,l){var s=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(s.length!==c.length)throw new yt(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var p=s[0],m=s[1],h,d=0,v=l;typeof u=="string"&&u===f&&u!=="mixed"&&(h=u,d=e.convert(0,h),v=e.find(l,[h,h]));var b,S,y=[];for(b=0;b<p;b++)y[b]=[];var w=[],_=[],x=[],M=[];for(S=0;S<m;S++){var D=S+1;for(r(a,S,x,w,D),r(o,S,M,_,D),b=0;b<p;b++){var N=x[b]===D?w[b]:d,E=M[b]===D?_[b]:d;y[b][S]=v(N,E)}}return new t({data:y,size:[p,m],datatype:u===a._datatype&&f===o._datatype?h:void 0})};function r(i,a,o,l,s){for(var u=i._values,c=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var h=c[p];o[h]=s,l[h]=u[p]}}});var ZM="bitXor",UH=["typed","matrix","DenseMatrix","concat"],e0=C(ZM,UH,n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i}=n,a=Ar({typed:e}),o=un({typed:e,DenseMatrix:r}),l=rr({typed:e,DenseMatrix:r}),s=At({typed:e,matrix:t,concat:i});return e(ZM,{"number, number":Nv,"BigNumber, BigNumber":$M},s({SS:o,DS:a,Ss:l}))});var JM="arg",VH=["typed"],t0=C(JM,VH,n=>{var{typed:e}=n;return e(JM,{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var XM="conj",qH=["typed"],r0=C(XM,qH,n=>{var{typed:e}=n;return e(XM,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var QM="im",zH=["typed"],n0=C(QM,zH,n=>{var{typed:e}=n;return e(QM,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var KM="re",$H=["typed"],i0=C(KM,$H,n=>{var{typed:e}=n;return e(KM,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var eC="not",HH=["typed"],a0=C(eC,HH,n=>{var{typed:e}=n;return e(eC,{"null | undefined":()=>!0,number:Fv,Complex:function(r){return r.re===0&&r.im===0},BigNumber:function(r){return r.isZero()||r.isNaN()},Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var tC="or",GH=["typed","matrix","equalScalar","DenseMatrix","concat"],ql=C(tC,GH,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Ar({typed:e}),l=Fo({typed:e,equalScalar:r}),s=rr({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:t,concat:a});return e(tC,{"number, number":Iv,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f.value||0,p.value||0))},u({SS:l,DS:o,Ss:s}))});var rC="xor",WH=["typed","matrix","DenseMatrix","concat"],o0=C(rC,WH,n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i}=n,a=Ar({typed:e}),o=un({typed:e,DenseMatrix:r}),l=rr({typed:e,DenseMatrix:r}),s=At({typed:e,matrix:t,concat:i});return e(rC,{"number, number":Pv,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(u=>(c,f)=>u(c.value||0,f.value||0))},s({SS:o,DS:a,Ss:l}))});var nC="concat",YH=["typed","matrix","isInteger"],zl=C(nC,YH,n=>{var{typed:e,matrix:t,isInteger:r}=n;return e(nC,{"...Array | Matrix | number | BigNumber":function(a){var o,l=a.length,s=-1,u,c=!1,f=[];for(o=0;o<l;o++){var p=a[o];if(rt(p)&&(c=!0),mt(p)||at(p)){if(o!==l-1)throw new Error("Dimension must be specified as last argument");if(u=s,s=p.valueOf(),!r(s))throw new TypeError("Integer number expected for dimension");if(s<0||o>0&&s>u)throw new Dn(s,u+1)}else{var m=lt(p).valueOf(),h=ft(m);if(f[o]=m,u=s,s=h.length-1,o>0&&s!==u)throw new yt(u+1,s+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Og(d,f.shift(),s);return c?t(d):d},"...string":function(a){return a.join("")}})});var iC="column",jH=["typed","Index","matrix","range"],$l=C(iC,jH,n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e(iC,{"Matrix, number":a,"Array, number":function(l,s){return a(r(lt(l)),s).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");mr(l,o.size()[1]);var s=i(0,o.size()[0]),u=new t(s,l),c=o.subset(u);return rt(c)?c:r([[c]])}});var aC="count",ZH=["typed","size","prod"],s0=C(aC,ZH,n=>{var{typed:e,size:t,prod:r}=n;return e(aC,{string:function(a){return a.length},"Matrix | Array":function(a){return r(t(a))}})});var oC="cross",JH=["typed","matrix","subtract","multiply"],u0=C(oC,JH,n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e(oC,{"Matrix, Matrix":function(l,s){return t(a(l.toArray(),s.toArray()))},"Matrix, Array":function(l,s){return t(a(l.toArray(),s))},"Array, Matrix":function(l,s){return t(a(l,s.toArray()))},"Array, Array":a});function a(o,l){var s=Math.max(ft(o).length,ft(l).length);o=hu(o),l=hu(l);var u=ft(o),c=ft(l);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var f=[r(i(o[1],l[2]),i(o[2],l[1])),r(i(o[2],l[0]),i(o[0],l[2])),r(i(o[0],l[1]),i(o[1],l[0]))];return s>1?[f]:f}});var sC="diag",XH=["typed","matrix","DenseMatrix","SparseMatrix"],l0=C(sC,XH,n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(sC,{Array:function(u){return a(u,0,ft(u),null)},"Array, number":function(u,c){return a(u,c,ft(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),ft(u),null)},"Array, string":function(u,c){return a(u,0,ft(u),c)},"Array, number, string":function(u,c,f){return a(u,c,ft(u),f)},"Array, BigNumber, string":function(u,c,f){return a(u,c.toNumber(),ft(u),f)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,f){return a(u,c,u.size(),f)},"Matrix, BigNumber, string":function(u,c,f){return a(u,c.toNumber(),u.size(),f)}});function a(s,u,c,f){if(!Qe(u))throw new TypeError("Second parameter in function diag must be an integer");var p=u>0?u:0,m=u<0?-u:0;switch(c.length){case 1:return o(s,u,f,c[0],m,p);case 2:return l(s,u,f,c,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(s,u,c,f,p,m){var h=[f+p,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,s,u):r.diagonal(h,s,u);return c!==null?d:d.valueOf()}function l(s,u,c,f,p,m){if(rt(s)){var h=s.diagonal(u);return c!==null?c!==h.storage()?t(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),v=[],b=0;b<d;b++)v[b]=s[b+p][b+m];return c!==null?t(v):v}});var Hl=br(Eg(),1);function zi(n,e,t,r,i){if(Hl.default.isTypedFunction(n)){var a=[e,t,r],o=Hl.default.resolve(n,a);if(o)return f(o.implementation,a);var l=[e,t],s=Hl.default.resolve(n,l);if(s)return f(s.implementation,l);var u=[e],c=Hl.default.resolve(n,u);return c?f(c.implementation,u):f(n,a)}else return n(e,t,r);function f(p,m){try{return p.apply(p,m)}catch(v){var h;if(v instanceof TypeError&&((h=v.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat($t(e))),m.length>=2&&d.push("index: ".concat($t(t))),m.length>=3&&d.push("array: ".concat($t(r))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(n.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(n.name,": ").concat(v.message))}}}var QH="filter",KH=["typed"],c0=C(QH,KH,n=>{var{typed:e}=n;return e("filter",{"Array, function":uC,"Matrix, function":function(r,i){return r.create(uC(r.toArray(),i))},"Array, RegExp":gu,"Matrix, RegExp":function(r,i){return r.create(gu(r.toArray(),i))}})});function uC(n,e){return fp(n,function(t,r,i){return zi(e,t,[r],i,"filter")})}var lC="flatten",eG=["typed","matrix"],f0=C(lC,eG,n=>{var{typed:e,matrix:t}=n;return e(lC,{Array:function(i){return Tt(i)},Matrix:function(i){var a=Tt(i.toArray());return t(a)}})});var cC="forEach",tG=["typed"],p0=C(cC,tG,n=>{var{typed:e}=n;return e(cC,{"Array, function":rG,"Matrix, function":function(r,i){r.forEach(i)}})});function rG(n,e){var t=function r(i,a){if(Array.isArray(i))So(i,function(o,l){r(o,a.concat(l))});else return zi(e,i,a,n,"forEach")};t(n,[])}var fC="getMatrixDataType",nG=["typed"],m0=C(fC,nG,n=>{var{typed:e}=n;return e(fC,{Array:function(r){return Ao(r,$t)},Matrix:function(r){return r.getDataType()}})});var pC="identity",iG=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],d0=C(pC,iG,n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=n;return e(pC,{"":function(){return t.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return s(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return s(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return s(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,p){return s(c,f,p)},Array:function(c){return l(c)},"Array, string":function(c,f){return l(c,f)},Matrix:function(c){return l(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return l(c.valueOf(),f)}});function l(u,c){switch(u.length){case 0:return c?r(c):[];case 1:return s(u[0],u[0],c);case 2:return s(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function s(u,c,f){var p=at(u)||at(c)?i:null;if(at(u)&&(u=u.toNumber()),at(c)&&(c=c.toNumber()),!Qe(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Qe(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,h=p?new p(0):0,d=[u,c];if(f){if(f==="sparse")return o.diagonal(d,m,0,h);if(f==="dense")return a.diagonal(d,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=oa([],d,h),b=u<c?u:c,S=0;S<b;S++)v[S][S]=m;return v}});var mC="kron",aG=["typed","matrix","multiplyScalar"],h0=C(mC,aG,n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e(mC,{"Matrix, Matrix":function(o,l){return t(i(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return t(i(o.toArray(),l))},"Array, Matrix":function(o,l){return t(i(o,l.toArray()))},"Array, Array":i});function i(a,o){if(ft(a).length===1&&(a=[a]),ft(o).length===1&&(o=[o]),ft(a).length>2||ft(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var l=[],s=[];return a.map(function(u){return o.map(function(c){return s=[],l.push(s),u.map(function(f){return c.map(function(p){return s.push(r(f,p))})})})})&&l}});var dC="map",oG=["typed"],g0=C(dC,oG,n=>{var{typed:e}=n;return e(dC,{"Array, function":sG,"Matrix, function":function(r,i){return r.map(i)}})});function sG(n,e){var t=function r(i,a){return Array.isArray(i)?i.map(function(o,l){return r(o,a.concat(l))}):zi(e,i,a,n,"map")};return t(n,[])}var hC="diff",uG=["typed","matrix","subtract","number"],Gl=C(hC,uG,n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e(hC,{"Array | Matrix":function(c){return rt(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!Qe(f))throw new RangeError("Dimension must be a whole number");return rt(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",u=>(c,f)=>u(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,f)=>u(c,i(f)))});function a(u,c){if(rt(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return u.forEach(p=>{f.push(a(p,c-1))}),f}else{if(c===0)return o(u);throw RangeError("Cannot have negative dimension")}}function o(u){for(var c=[],f=u.length,p=1;p<f;p++)c.push(l(u[p-1],u[p]));return c}function l(u,c){rt(u)&&(u=u.toArray()),rt(c)&&(c=c.toArray());var f=Array.isArray(u),p=Array.isArray(c);if(f&&p)return s(u,c);if(!f&&!p)return r(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function s(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=u.length,m=0;m<p;m++)f.push(l(u[m],c[m]));return f}});var lG="ones",cG=["typed","config","matrix","BigNumber"],v0=C(lG,cG,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return a(u,f)}else return t.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(s,u){var c=o(s),f=c?new i(1):1;if(l(s),u){var p=r(u);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?oa(m,s,f):m}}function o(s){var u=!1;return s.forEach(function(c,f,p){at(c)&&(u=!0,p[f]=c.toNumber())}),u}function l(s){s.forEach(function(u){if(typeof u!="number"||!Qe(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function Du(){throw new Error('No "bignumber" implementation available')}function Cp(){throw new Error('No "fraction" implementation available')}function Tp(){throw new Error('No "matrix" implementation available')}var gC="range",fG=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Wl=C(gC,fG,n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:s,add:u,isPositive:c}=n;return e(gC,{string:p,"string, boolean":p,"number, number":function(v,b){return f(m(v,b,1,!1))},"number, number, number":function(v,b,S){return f(m(v,b,S,!1))},"number, number, boolean":function(v,b,S){return f(m(v,b,1,S))},"number, number, number, boolean":function(v,b,S,y){return f(m(v,b,S,y))},"BigNumber, BigNumber":function(v,b){var S=v.constructor;return f(m(v,b,new S(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,b,S){return f(m(v,b,S,!1))},"BigNumber, BigNumber, boolean":function(v,b,S){var y=v.constructor;return f(m(v,b,new y(1),S))},"BigNumber, BigNumber, BigNumber, boolean":function(v,b,S,y){return f(m(v,b,S,y))},"Unit, Unit, Unit":function(v,b,S){return f(m(v,b,S,!1))},"Unit, Unit, Unit, boolean":function(v,b,S,y){return f(m(v,b,S,y))}});function f(d){return t.matrix==="Matrix"?r?r(d):Tp():d}function p(d,v){var b=h(d);if(!b)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&Du(),f(m(i(b.start),i(b.end),i(b.step)),v)):f(m(b.start,b.end,b.step,v))}function m(d,v,b,S){for(var y=[],w=c(b)?S?o:a:S?s:l,_=d;w(_,v);)y.push(_),_=u(_,b);return y}function h(d){var v=d.split(":"),b=v.map(function(y){return Number(y)}),S=b.some(function(y){return isNaN(y)});if(S)return null;switch(b.length){case 2:return{start:b[0],end:b[1],step:1};case 3:return{start:b[0],end:b[2],step:b[1]};default:return null}}});var vC="reshape",pG=["typed","isInteger","matrix"],y0=C(vC,pG,n=>{var{typed:e,isInteger:t}=n;return e(vC,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),Cl(i,a)}})});var mG="resize",dG=["config","matrix"],b0=C(mG,dG,n=>{var{config:e,matrix:t}=n;return function(a,o,l){if(arguments.length!==2&&arguments.length!==3)throw new Za("resize",arguments.length,2,3);if(rt(o)&&(o=o.valueOf()),at(o[0])&&(o=o.map(function(c){return at(c)?c.toNumber():c})),rt(a))return a.resize(o,l,!0);if(typeof a=="string")return r(a,o,l);var s=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return lt(a)}else{Array.isArray(a)||(a=[a]),a=lt(a);var u=oa(a,o,l);return s?t(u):u}};function r(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new yt(a.length,1);var l=a[0];if(typeof l!="number"||!Qe(l))throw new TypeError("Invalid size, must contain positive integers (size: "+vt(a)+")");if(i.length>l)return i.substring(0,l);if(i.length<l){for(var s=i,u=0,c=l-i.length;u<c;u++)s+=o;return s}else return i}});var yC="rotate",hG=["typed","multiply","rotationMatrix"],x0=C(yC,hG,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e(yC,{"Array , number | BigNumber | Complex | Unit":function(o,l){i(o,2);var s=t(r(l),o);return s.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,l){return i(o,2),t(r(l),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,s){i(o,3);var u=t(r(l,s),o);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,s){return i(o,3),t(r(l,s),o)}});function i(a,o){var l=Array.isArray(a)?ft(a):a.size();if(l.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l.length===2&&l[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var bC="rotationMatrix",gG=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],w0=C(bC,gG,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:a,norm:o,BigNumber:l,matrix:s,DenseMatrix:u,SparseMatrix:c,cos:f,sin:p}=n;return e(bC,{"":function(){return t.matrix==="Matrix"?s([]):[]},string:function(y){return s(y)},"number | BigNumber | Complex | Unit":function(y){return m(y,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,w){return m(y,w)},"number | BigNumber | Complex | Unit, Array":function(y,w){var _=s(w);return h(_),b(y,_,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,w){h(w);var _=w.storage()||(t.matrix==="Matrix"?"dense":void 0);return b(y,w,_)},"number | BigNumber | Complex | Unit, Array, string":function(y,w,_){var x=s(w);return h(x),b(y,x,_)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,w,_){return h(w),b(y,w,_)}});function m(S,y){var w=at(S),_=w?new l(-1):-1,x=f(S),M=p(S),D=[[x,r(_,M)],[M,x]];return v(D,y)}function h(S){var y=S.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(S){return S.reduce((y,w)=>r(y,w))}function v(S,y){if(y){if(y==="sparse")return new c(S);if(y==="dense")return new u(S);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return S}function b(S,y,w){var _=o(y);if(_===0)throw new RangeError("Rotation around zero vector");var x=at(S)?l:null,M=x?new x(1):1,D=x?new x(-1):-1,N=x?new x(y.get([0])/_):y.get([0])/_,E=x?new x(y.get([1])/_):y.get([1])/_,P=x?new x(y.get([2])/_):y.get([2])/_,O=f(S),U=i(M,a(O)),z=p(S),L=i(O,d([N,N,U])),B=i(d([N,E,U]),d([D,P,z])),T=i(d([N,P,U]),d([E,z])),G=i(d([N,E,U]),d([P,z])),R=i(O,d([E,E,U])),ie=i(d([E,P,U]),d([D,N,z])),j=i(d([N,P,U]),d([D,E,z])),H=i(d([E,P,U]),d([N,z])),V=i(O,d([P,P,U])),fe=[[L,B,T],[G,R,ie],[j,H,V]];return v(fe,w)}});var xC="row",vG=["typed","Index","matrix","range"],Yl=C(xC,vG,n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e(xC,{"Matrix, number":a,"Array, number":function(l,s){return a(r(lt(l)),s).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");mr(l,o.size()[0]);var s=i(0,o.size()[1]),u=new t(l,s),c=o.subset(u);return rt(c)?c:r([[c]])}});var wC="size",yG=["typed","config","?matrix"],_0=C(wC,yG,n=>{var{typed:e,config:t,matrix:r}=n;return e(wC,{Matrix:function(a){return a.create(a.size())},Array:ft,string:function(a){return t.matrix==="Array"?[a.length]:r([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:r?r([]):Tp()}})});var _C="squeeze",bG=["typed","matrix"],S0=C(_C,bG,n=>{var{typed:e,matrix:t}=n;return e(_C,{Array:function(i){return hu(lt(i))},Matrix:function(i){var a=hu(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return lt(i)}})});var SC="subset",xG=["typed","matrix","zeros","add"],jl=C(SC,xG,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e(SC,{"Matrix, Index":function(l,s){return ds(s)?t():(Ml(l,s),l.subset(s))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(l,s){var u=o(t(l),s);return s.isScalar()?u:u.valueOf()}}),"Object, Index":_G,"string, Index":wG,"Matrix, Index, any, any":function(l,s,u,c){return ds(s)?l:(Ml(l,s),l.clone().subset(s,a(u,s),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,s,u,c){var f=o(t(l),s,u,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,s,u){return o(t(l),s,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,s,u){return o(l,s,u,void 0)}}),"string, Index, string":AC,"string, Index, string, string":AC,"Object, Index, any":SG});function a(o,l){if(typeof o=="string")throw new Error("can't boradcast a string");if(l._isScalar)return o;var s=l.size();if(s.every(u=>u>0))try{return i(o,r(s))}catch(u){return o}else return o}});function wG(n,e){if(!xo(e))throw new TypeError("Index expected");if(ds(e))return"";if(Ml(Array.from(n),e),e.size().length!==1)throw new yt(e.size().length,1);var t=n.length;mr(e.min()[0],t),mr(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(a){i+=n.charAt(a)}),i}function AC(n,e,t,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(ds(e))return n;if(Ml(Array.from(n),e),e.size().length!==1)throw new yt(e.size().length,1);if(r!==void 0){if(typeof r!="string"||r.length!==1)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new yt(i.size()[0],t.length);var o=n.length;mr(e.min()[0]),mr(e.max()[0]);for(var l=[],s=0;s<o;s++)l[s]=n.charAt(s);if(i.forEach(function(f,p){l[f]=t.charAt(p[0])}),l.length>o)for(var u=o-1,c=l.length;u<c;u++)l[u]||(l[u]=r);return l.join("")}function _G(n,e){if(!ds(e)){if(e.size().length!==1)throw new yt(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Tr(n,t)}}function SG(n,e,t){if(ds(e))return n;if(e.size().length!==1)throw new yt(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");var i=lt(n);return wa(i,r,t),i}var NC="transpose",AG=["typed","matrix"],A0=C(NC,AG,n=>{var{typed:e,matrix:t}=n;return e(NC,{Array:o=>r(t(o)).valueOf(),Matrix:r,any:lt});function r(o){var l=o.size(),s;switch(l.length){case 1:s=o.clone();break;case 2:{var u=l[0],c=l[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+vt(l)+")");switch(o.storage()){case"dense":s=i(o,u,c);break;case"sparse":s=a(o,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+vt(l)+")")}return s}function i(o,l,s){for(var u=o._data,c=[],f,p=0;p<s;p++){f=c[p]=[];for(var m=0;m<l;m++)f[m]=lt(u[m][p])}return o.createDenseMatrix({data:c,size:[s,l],datatype:o._datatype})}function a(o,l,s){for(var u=o._values,c=o._index,f=o._ptr,p=u?[]:void 0,m=[],h=[],d=[],v=0;v<l;v++)d[v]=0;var b,S,y;for(b=0,S=c.length;b<S;b++)d[c[b]]++;for(var w=0,_=0;_<l;_++)h.push(w),w+=d[_],d[_]=h[_];for(h.push(w),y=0;y<s;y++)for(var x=f[y],M=f[y+1],D=x;D<M;D++){var N=d[c[D]]++;m[N]=y,u&&(p[N]=lt(u[D]))}return o.createSparseMatrix({values:p,index:m,ptr:h,size:[s,l],datatype:o._datatype})}});var DC="ctranspose",NG=["typed","transpose","conj"],N0=C(DC,NG,n=>{var{typed:e,transpose:t,conj:r}=n;return e(DC,{any:function(a){return r(t(a))}})});var EC="zeros",DG=["typed","config","matrix","BigNumber"],D0=C(EC,DG,n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e(EC,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return a(u,f)}else return t.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(s,u){var c=o(s),f=c?new i(0):0;if(l(s),u){var p=r(u);return s.length>0?p.resize(s,f):p}else{var m=[];return s.length>0?oa(m,s,f):m}}function o(s){var u=!1;return s.forEach(function(c,f,p){at(c)&&(u=!0,p[f]=c.toNumber())}),u}function l(s){s.forEach(function(u){if(typeof u!="number"||!Qe(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});var MC="fft",EG=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],E0=C(MC,EG,n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,divideScalar:a,exp:o,tau:l,i:s,dotDivide:u,conj:c,pow:f,ceil:p,log2:m}=n;return e(MC,{Array:h,Matrix:function(y){return y.create(h(y.toArray()))}});function h(S){var y=ft(S);return y.length===1?b(S,y[0]):d(S.map(w=>h(w,y.slice(1))),0)}function d(S,y){var w=ft(S);if(y!==0)return new Array(w[0]).fill(0).map((x,M)=>d(S[M],y-1));if(w.length===1)return b(S);function _(x){var M=ft(x);return new Array(M[1]).fill(0).map((D,N)=>new Array(M[0]).fill(0).map((E,P)=>x[P][N]))}return _(d(_(S),1))}function v(S){for(var y=S.length,w=o(a(i(-1,i(s,l)),y)),_=[],x=1-y;x<y;x++)_.push(f(w,a(f(x,2),2)));for(var M=f(2,p(m(y+y-1))),D=[...new Array(y).fill(0).map((B,T)=>i(S[T],_[y-1+T])),...new Array(M-y).fill(0)],N=[...new Array(y+y-1).fill(0).map((B,T)=>a(1,_[T])),...new Array(M-(y+y-1)).fill(0)],E=b(D),P=b(N),O=new Array(M).fill(0).map((B,T)=>i(E[T],P[T])),U=u(c(h(c(O))),M),z=[],L=y-1;L<y+y-1;L++)z.push(i(U[L],_[L]));return z}function b(S){var y=S.length;if(y===1)return[S[0]];if(y%2===0){for(var w=[...b(S.filter((D,N)=>N%2===0),y/2),...b(S.filter((D,N)=>N%2===1),y/2)],_=0;_<y/2;_++){var x=w[_],M=i(w[_+y/2],o(i(i(l,s),a(-_,y))));w[_]=r(x,M),w[_+y/2]=r(x,i(-1,M))}return w}else return v(S)}});var CC="ifft",MG=["typed","fft","dotDivide","conj"],M0=C(CC,MG,n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e(CC,{"Array | Matrix":function(o){var l=rt(o)?o.size():ft(o);return r(i(t(i(o))),l.reduce((s,u)=>s*u,1))}})});function Po(n){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(n)}function C0(n,e){if(Po(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function T0(n){var e=C0(n,"string");return Po(e)=="symbol"?e:e+""}function ir(n,e,t){return e=T0(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(t),!0).forEach(function(r){ir(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var TG="solveODE",FG=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],F0=C(TG,FG,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,max:o,map:l,abs:s,isPositive:u,isNegative:c,larger:f,smaller:p,matrix:m,bignumber:h,unaryMinus:d}=n;function v(D){return function(N,E,P,O){var U=!(E.length===2&&(E.every(x)||E.every(Sn)));if(U)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var z=E[0],L=E[1],B=f(L,z),T=O.firstStep;if(T!==void 0&&!u(T))throw new Error('"firstStep" must be positive');var G=O.maxStep;if(G!==void 0&&!u(G))throw new Error('"maxStep" must be positive');var R=O.minStep;if(R&&c(R))throw new Error('"minStep" must be positive or zero');var ie=[z,L,T,R,G].filter(Ze=>Ze!==void 0);if(!(ie.every(x)||ie.every(Sn)))throw new Error('Inconsistent type of "t" dependant variables');for(var j=1,H=O.tol?O.tol:1e-4,V=O.minDelta?O.minDelta:.2,fe=O.maxDelta?O.maxDelta:5,_e=O.maxIter?O.maxIter:1e4,pe=[z,L,...P,G,R].some(at),[de,we,he,ve]=pe?[h(D.a),h(D.c),h(D.b),h(D.bp)]:[D.a,D.c,D.b,D.bp],xe=T?B?T:d(T):a(r(L,z),j),Ce=[z],ze=[P],tt=r(he,ve),Y=0,K=0,ge=w(B),X=_(B);ge(Ce[Y],L);){var ne=[];xe=X(Ce[Y],L,xe),ne.push(N(Ce[Y],ze[Y]));for(var ue=1;ue<we.length;++ue)ne.push(N(t(Ce[Y],i(we[ue],xe)),t(ze[Y],i(xe,de[ue],ne))));var De=o(s(l(i(tt,ne),Ze=>Sn(Ze)?Ze.value:Ze)));De<H&&H/De>1/4&&(Ce.push(t(Ce[Y],xe)),ze.push(t(ze[Y],i(xe,he,ne))),Y++);var Ee=.84*(H/De)**(1/5);if(p(Ee,V)?Ee=V:f(Ee,fe)&&(Ee=fe),Ee=pe?h(Ee):Ee,xe=i(xe,Ee),G&&f(s(xe),G)?xe=B?G:d(G):R&&p(s(xe),R)&&(xe=B?R:d(R)),K++,K>_e)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Ce,y:ze}}}function b(D,N,E,P){var O=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],U=[null,1/2,3/4,1],z=[2/9,1/3,4/9,0],L=[7/24,1/4,1/3,1/8],B={a:O,c:U,b:z,bp:L};return v(B)(D,N,E,P)}function S(D,N,E,P){var O=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],U=[null,1/5,3/10,4/5,8/9,1,1],z=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],L=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],B={a:O,c:U,b:z,bp:L};return v(B)(D,N,E,P)}function y(D,N,E,P){var O=P.method?P.method:"RK45",U={RK23:b,RK45:S};if(O.toUpperCase()in U){var z=CG({},P);return delete z.method,U[O.toUpperCase()](D,N,E,z)}else{var L=Object.keys(U).map(T=>'"'.concat(T,'"')),B="".concat(L.slice(0,-1).join(", ")," and ").concat(L.slice(-1));throw new Error('Unavailable method "'.concat(O,'". Available methods are ').concat(B))}}function w(D){return D?p:f}function _(D){var N=D?f:p;return function(E,P,O){var U=t(E,O);return N(U,P)?r(P,E):O}}function x(D){return at(D)||mt(D)}function M(D,N,E,P){var O=y(D,N.toArray(),E.toArray(),P);return{t:m(O.t),y:m(O.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":M,"function, Array, Array":(D,N,E)=>y(D,N,E,{}),"function, Matrix, Matrix":(D,N,E)=>M(D,N,E,{}),"function, Array, number | BigNumber | Unit":(D,N,E)=>{var P=y(D,N,[E],{});return{t:P.t,y:P.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit":(D,N,E)=>{var P=y(D,N.toArray(),[E],{});return{t:m(P.t),y:m(P.y.map(O=>O[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,N,E,P)=>{var O=y(D,N,[E],P);return{t:O.t,y:O.y.map(U=>U[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,N,E,P)=>{var O=y(D,N.toArray(),[E],P);return{t:m(O.t),y:m(O.y.map(U=>U[0]))}}})});var IG="erf",PG=["typed"],I0=C(IG,PG,n=>{var{typed:e}=n;return e("name",{number:function(o){var l=Math.abs(o);return l>=kG?Ui(o):l<=BG?Ui(o)*t(l):l<=4?Ui(o)*(1-r(l)):Ui(o)*(1-i(l))},"Array | Matrix":e.referToSelf(a=>o=>it(o,a))});function t(a){var o=a*a,l=Ja[0][4]*o,s=o,u;for(u=0;u<3;u+=1)l=(l+Ja[0][u])*o,s=(s+Eu[0][u])*o;return a*(l+Ja[0][3])/(s+Eu[0][3])}function r(a){var o=Ja[1][8]*a,l=a,s;for(s=0;s<7;s+=1)o=(o+Ja[1][s])*a,l=(l+Eu[1][s])*a;var u=(o+Ja[1][7])/(l+Eu[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*u}function i(a){var o=1/(a*a),l=Ja[2][5]*o,s=o,u;for(u=0;u<4;u+=1)l=(l+Ja[2][u])*o,s=(s+Eu[2][u])*o;var c=o*(l+Ja[2][4])/(s+Eu[2][4]);c=(OG-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),BG=.46875,OG=.5641895835477563,Ja=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Eu=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],kG=Math.pow(2,53);var FC="zeta",RG=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],P0=C(FC,RG,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:a,factorial:o,equal:l,smallerEq:s,isNegative:u,gamma:c,sin:f,subtract:p,add:m,Complex:h,BigNumber:d,pi:v}=n;return e(FC,{number:x=>b(x,M=>M,()=>20),BigNumber:x=>b(x,M=>new d(M),()=>Math.abs(Math.log10(t.epsilon))),Complex:S});function b(x,M,D){return l(x,0)?M(-.5):l(x,1)?M(NaN):isFinite(x)?y(x,M,D,N=>N):u(x)?M(NaN):M(1)}function S(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):y(x,M=>M,M=>Math.round(1.3*15+.9*Math.abs(M.im)),M=>M.re)}function y(x,M,D,N){var E=D(x);if(N(x)>-(E-1)/2)return _(x,M(E),M);var P=r(i(2,x),i(M(v),p(x,1)));return P=r(P,f(r(a(M(v),2),x))),P=r(P,c(p(1,x))),r(P,y(p(1,x),M,D,N))}function w(x,M){for(var D=x,N=x;s(N,M);N=m(N,1)){var E=a(r(o(m(M,p(N,1))),i(4,N)),r(o(p(M,N)),o(r(2,N))));D=m(D,E)}return r(M,D)}function _(x,M,D){for(var N=a(1,r(w(D(0),M),p(1,i(2,p(1,x))))),E=D(0),P=D(1);s(P,M);P=m(P,1))E=m(E,a(r((-1)**(P-1),w(P,M)),i(P,x)));return r(N,E)}});var IC="mode",LG=["typed","isNaN","isNumeric"],B0=C(IC,LG,n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e(IC,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=Tt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var l={},s=[],u=0,c=0;c<a.length;c++){var f=a[c];if(r(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in l||(l[f]=0),l[f]++,l[f]===u?s.push(f):l[f]>u&&(u=l[f],s=[f])}return s}});function $r(n,e,t){var r;return String(n).indexOf("Unexpected type")!==-1?(r=arguments.length>2?" (type: "+$t(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).indexOf("complex numbers")!==-1?(r=arguments.length>2?" (type: "+$t(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var PC="prod",UG=["typed","config","multiplyScalar","numeric"],O0=C(PC,UG,n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e(PC,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,s){throw new Error("prod(A, dim) is not yet supported")},"...":function(l){return a(l)}});function a(o){var l;if(Rn(o,function(s){try{l=l===void 0?s:r(l,s)}catch(u){throw $r(u,"prod",s)}}),typeof l=="string"&&(l=i(l,t.number)),l===void 0)throw new Error("Cannot calculate prod of an empty array");return l}});var BC="format",VG=["typed"],k0=C(BC,VG,n=>{var{typed:e}=n;return e(BC,{any:vt,"any, Object | function | number | BigNumber":vt})});var OC="bin",qG=["typed","format"],R0=C(OC,qG,n=>{var{typed:e,format:t}=n;return e(OC,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var kC="oct",zG=["typed","format"],L0=C(kC,zG,n=>{var{typed:e,format:t}=n;return e(kC,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var RC="hex",$G=["typed","format"],U0=C(RC,$G,n=>{var{typed:e,format:t}=n;return e(RC,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Fp=/\$([\w.]+)/g;var LC="print",HG=["typed"],Zl=C(LC,HG,n=>{var{typed:e}=n;return e(LC,{"string, Object | Array":UC,"string, Object | Array, number | Object":UC})});function UC(n,e,t){return n.replace(Fp,function(r,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var l=a.shift();o=l?o[l]:o+"."}return o!==void 0?qr(o)?o:vt(o,t):r})}var VC="to",GG=["typed","matrix","concat"],V0=C(VC,GG,n=>{var{typed:e,matrix:t,concat:r}=n,i=At({typed:e,matrix:t,concat:r});return e(VC,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var qC="isPrime",WG=["typed"],q0=C(qC,WG,n=>{var{typed:e}=n;return e(qC,{number:function(r){if(r*0!==0)return!1;if(r<=3)return r>1;if(r%2===0||r%3===0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i===0||r%(i+2)===0)return!1;return!0},BigNumber:function(r){if(r.toNumber()*0!==0)return!1;if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(S,y,w){for(var _=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),S=S.mul(S).mod(w)):(y=y.sub(1),_=S.mul(_).mod(w));return _}var l=r.constructor.clone({precision:r.toFixed(0).length*2});r=new l(r);for(var s=0,u=r.sub(1);u.mod(2).eq(0);)u=u.div(2),s+=1;var c=null;if(r.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(S=>S<r);else{var f=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=f;p+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var h=c[m],d=o(r.sub(r).add(h),u,r);if(!d.eq(1)){for(var v=0,b=d;!b.eq(r.sub(1));v+=1,b=b.mul(b).mod(r))if(v===s-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>r=>it(r,t))})});var YG="numeric",jG=["number","?bignumber","?fraction"],z0=C(YG,jG,n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):Du,Fraction:r?o=>r(o):Cp};return function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=$t(l);if(!(c in i))throw new TypeError("Cannot convert "+l+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in a))throw new TypeError("Cannot convert "+l+' to type "'+s+'"; valid output types are '+Object.keys(a).join(", "));return s===c?l:a[s](l)}});var zC="divideScalar",ZG=["typed","numeric"],$0=C(zC,ZG,n=>{var{typed:e,numeric:t}=n;return e(zC,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})});var $C="pow",JG=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],H0=C($C,JG,n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:a,inv:o,number:l,fraction:s,Complex:u}=n;return e($C,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new u(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var v=h.pow(d);if(v!=null)return v;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(h,d){return p(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(m,h){if(t.predictable&&!Qe(h)&&m<0)try{var d=s(h),v=l(d);if((h===v||Math.abs((h-v)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,h)}catch(b){}return t.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:Qe(h)||m>=0||t.predictable?wv(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new u(m,0).pow(h,0)}function f(m,h){if(!Qe(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=ft(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(m),-h)}catch(S){throw S.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):S}for(var v=r(d[0]).valueOf(),b=m;h>=1;)(h&1)===1&&(v=i(b,v)),h>>=1,b=i(b,b);return v}function p(m,h){return a(f(m.valueOf(),h))}});var Mu="Number of decimals in function round must be an integer",HC="round",XG=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],G0=C(HC,XG,n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:l}=n,s=dr({typed:e,equalScalar:i}),u=rr({typed:e,DenseMatrix:l}),c=Xr({typed:e});function f(p){return Math.abs(du(p).exponent)}return e(HC,{number:function(m){var h=_u(m,f(t.epsilon)),d=Lr(m,h,t.epsilon)?h:m;return _u(d)},"number, number":function(m,h){var d=f(t.epsilon);if(h>=d)return _u(m,h);var v=_u(m,d),b=Lr(m,v,t.epsilon)?v:m;return _u(b,h)},"number, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Mu);return new o(m).toDecimalPlaces(h.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,h){if(h%1)throw new TypeError(Mu);return m.round(h)},"Complex, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Mu);var d=h.toNumber();return m.round(d)},BigNumber:function(m){var h=new o(m).toDecimalPlaces(f(t.epsilon)),d=nn(m,h,t.epsilon)?h:m;return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Mu);var d=f(t.epsilon);if(h>=d)return m.toDecimalPlaces(h.toNumber());var v=m.toDecimalPlaces(d),b=nn(m,v,t.epsilon)?v:m;return b.toDecimalPlaces(h.toNumber())},Fraction:function(m){return m.round()},"Fraction, number":function(m,h){if(h%1)throw new TypeError(Mu);return m.round(h)},"Fraction, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Mu);return m.round(h.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,h,d){var v=m.toNumeric(d);return d.multiply(p(v,h))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix, number, Unit":e.referToSelf(p=>(m,h,d)=>it(m,v=>p(v,h,d),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(p=>(m,h,d)=>p(m,h.toNumber(),d)),"Array | Matrix, Unit":e.referToSelf(p=>(m,h)=>p(m,0,h)),"Array | Matrix":e.referToSelf(p=>m=>it(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>s(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>c(r(m),h,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):u(h,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,h)=>i(m,0)?a(h.size(),h.storage()):c(h,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,h)=>c(r(h),m,p,!0).valueOf())})});var GC="log",QG=["config","typed","divideScalar","Complex"],W0=C(GC,QG,n=>{var{typed:e,config:t,divideScalar:r,Complex:i}=n;return e(GC,{number:function(o){return o>=0||t.predictable?jE(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,l)=>r(a(o),a(l)))})});var WC="log1p",KG=["typed","config","divideScalar","log","Complex"],Y0=C(WC,KG,n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:a}=n;return e(WC,{number:function(s){return s>=-1||t.predictable?ap(s):o(new a(s,0))},Complex:o,BigNumber:function(s){var u=s.plus(1);return!u.isNegative()||t.predictable?u.ln():o(new a(s.toNumber(),0))},"Array | Matrix":e.referToSelf(l=>s=>it(s,l)),"any, any":e.referToSelf(l=>(s,u)=>r(l(s),i(u)))});function o(l){var s=l.re+1;return new a(Math.log(Math.sqrt(s*s+l.im*l.im)),Math.atan2(l.im,s))}});var YC="nthRoots",eW=["config","typed","divideScalar","Complex"],j0=C(YC,eW,n=>{var{typed:e,config:t,divideScalar:r,Complex:i}=n,a=[function(s){return new i(s,0)},function(s){return new i(0,s)},function(s){return new i(-s,0)},function(s){return new i(0,-s)}];function o(l,s){if(s<0)throw new Error("Root must be greater than zero");if(s===0)throw new Error("Root must be non-zero");if(s%1!==0)throw new Error("Root must be an integer");if(l===0||l.abs()===0)return[new i(0,0)];var u=typeof l=="number",c;(u||l.re===0||l.im===0)&&(u?c=2*+(l<0):l.im===0?c=2*+(l.re<0):c=2*+(l.im<0)+1);for(var f=l.arg(),p=l.abs(),m=[],h=Math.pow(p,1/s),d=0;d<s;d++){var v=(c+4*d)/s;if(v===Math.round(v)){m.push(a[v%4](h));continue}m.push(new i({r:h,phi:(f+2*Math.PI*d)/s}))}return m}return e(YC,{Complex:function(s){return o(s,2)},"Complex, number":o})});var jC="dotPow",tW=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Z0=C(jC,tW,n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:a,concat:o}=n,l=Ar({typed:e}),s=un({typed:e,DenseMatrix:a}),u=dr({typed:e,equalScalar:t}),c=rr({typed:e,DenseMatrix:a}),f=At({typed:e,matrix:r,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=e(p);return e(jC,f({elop:h,SS:s,DS:l,Ss:u,sS:c}))});var ZC="dotDivide",rW=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],J0=C(ZC,rW,n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:a,concat:o}=n,l=Qr({typed:e,equalScalar:r}),s=Ar({typed:e}),u=un({typed:e,DenseMatrix:a}),c=dr({typed:e,equalScalar:r}),f=rr({typed:e,DenseMatrix:a}),p=At({typed:e,matrix:t,concat:o});return e(ZC,p({elop:i,SS:u,DS:s,SD:l,Ss:c,sS:f}))});function Aa(n){var{DenseMatrix:e}=n;return function(r,i,a){var o=r.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+vt(o)+")");var l=o[0],s=o[1];if(l!==s)throw new RangeError("Matrix must be square (size: "+vt(o)+")");var u=[];if(rt(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<l;p++)u[p]=[f[p]];return new e({data:u,size:[l,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==l||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(ps(i)){if(a){u=[];for(var m=0;m<l;m++)u[m]=[f[m][0]];return new e({data:u,size:[l,1],datatype:i._datatype})}return i}if(na(i)){for(var h=0;h<l;h++)u[h]=[0];for(var d=i._values,v=i._index,b=i._ptr,S=b[1],y=b[0];y<S;y++){var w=v[y];u[w][0]=d[y]}return new e({data:u,size:[l,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Wt(i)){var _=ft(i);if(_.length===1){if(_[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<l;x++)u[x]=[i[x]];return new e({data:u,size:[l,1]})}if(_.length===2){if(_[0]!==l||_[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<l;M++)u[M]=[i[M][0]];return new e({data:u,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var JC="lsolve",nW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],X0=C(JC,nW,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=n,s=Aa({DenseMatrix:l});return e(JC,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=u(h,m);return d.valueOf()}});function u(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=[],b=f._data,S=0;S<d;S++){var y=m[S][0]||0,w=void 0;if(o(y,0))w=0;else{var _=b[S][S];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");w=r(y,_);for(var x=S+1;x<h;x++)m[x]=[a(m[x][0]||0,i(w,b[x][S]))]}v[S]=[w]}return new l({data:v,size:[h,1]})}function c(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=f._values,b=f._index,S=f._ptr,y=[],w=0;w<d;w++){var _=m[w][0]||0;if(o(_,0))y[w]=[0];else{for(var x=0,M=[],D=[],N=S[w],E=S[w+1],P=N;P<E;P++){var O=b[P];O===w?x=v[P]:O>w&&(M.push(v[P]),D.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(_,x),z=0,L=D.length;z<L;z++){var B=D[z];m[B]=[a(m[B][0]||0,i(U,M[z]))]}y[w]=[U]}}return new l({data:y,size:[h,1]})}});var XC="usolve",iW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Q0=C(XC,iW,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=n,s=Aa({DenseMatrix:l});return e(XC,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=u(h,m);return d.valueOf()}});function u(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=[],b=f._data,S=d-1;S>=0;S--){var y=m[S][0]||0,w=void 0;if(o(y,0))w=0;else{var _=b[S][S];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");w=r(y,_);for(var x=S-1;x>=0;x--)m[x]=[a(m[x][0]||0,i(w,b[x][S]))]}v[S]=[w]}return new l({data:v,size:[h,1]})}function c(f,p){p=s(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],v=f._values,b=f._index,S=f._ptr,y=[],w=d-1;w>=0;w--){var _=m[w][0]||0;if(o(_,0))y[w]=[0];else{for(var x=0,M=[],D=[],N=S[w],E=S[w+1],P=E-1;P>=N;P--){var O=b[P];O===w?x=v[P]:O<w&&(M.push(v[P]),D.push(O))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(_,x),z=0,L=D.length;z<L;z++){var B=D[z];m[B]=[a(m[B][0],i(U,M[z]))]}y[w]=[U]}}return new l({data:y,size:[h,1]})}});var QC="lsolveAll",aW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],K0=C(QC,aW,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=n,s=Aa({DenseMatrix:l});return e(QC,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=u(h,m);return d.map(v=>v.valueOf())}});function u(f,p){for(var m=[s(f,p,!0)._data.map(D=>D[0])],h=f._data,d=f._size[0],v=f._size[1],b=0;b<v;b++)for(var S=m.length,y=0;y<S;y++){var w=m[y];if(o(h[b][b],0))if(o(w[b],0)){if(y===0){var x=[...w];x[b]=1;for(var M=b+1;M<v;M++)x[M]=a(x[M],h[M][b]);m.push(x)}}else{if(y===0)return[];m.splice(y,1),y-=1,S-=1}else{w[b]=r(w[b],h[b][b]);for(var _=b+1;_<v;_++)w[_]=a(w[_],i(w[b],h[_][b]))}}return m.map(D=>new l({data:D.map(N=>[N]),size:[d,1]}))}function c(f,p){for(var m=[s(f,p,!0)._data.map(j=>j[0])],h=f._size[0],d=f._size[1],v=f._values,b=f._index,S=f._ptr,y=0;y<d;y++)for(var w=m.length,_=0;_<w;_++){for(var x=m[_],M=[],D=[],N=S[y],E=S[y+1],P=0,O=N;O<E;O++){var U=b[O];U===y?P=v[O]:U>y&&(M.push(v[O]),D.push(U))}if(o(P,0))if(o(x[y],0)){if(_===0){var T=[...x];T[y]=1;for(var G=0,R=D.length;G<R;G++){var ie=D[G];T[ie]=a(T[ie],M[G])}m.push(T)}}else{if(_===0)return[];m.splice(_,1),_-=1,w-=1}else{x[y]=r(x[y],P);for(var z=0,L=D.length;z<L;z++){var B=D[z];x[B]=a(x[B],i(x[y],M[z]))}}}return m.map(j=>new l({data:j.map(H=>[H]),size:[h,1]}))}});var KC="usolveAll",oW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],eb=C(KC,oW,n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=n,s=Aa({DenseMatrix:l});return e(KC,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=u(h,m);return d.map(v=>v.valueOf())}});function u(f,p){for(var m=[s(f,p,!0)._data.map(D=>D[0])],h=f._data,d=f._size[0],v=f._size[1],b=v-1;b>=0;b--)for(var S=m.length,y=0;y<S;y++){var w=m[y];if(o(h[b][b],0))if(o(w[b],0)){if(y===0){var x=[...w];x[b]=1;for(var M=b-1;M>=0;M--)x[M]=a(x[M],h[M][b]);m.push(x)}}else{if(y===0)return[];m.splice(y,1),y-=1,S-=1}else{w[b]=r(w[b],h[b][b]);for(var _=b-1;_>=0;_--)w[_]=a(w[_],i(w[b],h[_][b]))}}return m.map(D=>new l({data:D.map(N=>[N]),size:[d,1]}))}function c(f,p){for(var m=[s(f,p,!0)._data.map(j=>j[0])],h=f._size[0],d=f._size[1],v=f._values,b=f._index,S=f._ptr,y=d-1;y>=0;y--)for(var w=m.length,_=0;_<w;_++){for(var x=m[_],M=[],D=[],N=S[y],E=S[y+1],P=0,O=E-1;O>=N;O--){var U=b[O];U===y?P=v[O]:U<y&&(M.push(v[O]),D.push(U))}if(o(P,0))if(o(x[y],0)){if(_===0){var T=[...x];T[y]=1;for(var G=0,R=D.length;G<R;G++){var ie=D[G];T[ie]=a(T[ie],M[G])}m.push(T)}}else{if(_===0)return[];m.splice(_,1),_-=1,w-=1}else{x[y]=r(x[y],P);for(var z=0,L=D.length;z<L;z++){var B=D[z];x[B]=a(x[B],i(x[y],M[z]))}}}return m.map(j=>new l({data:j.map(H=>[H]),size:[h,1]}))}});var sW="matAlgo08xS0Sid",uW=["typed","equalScalar"],Cu=C(sW,uW,n=>{var{typed:e,equalScalar:t}=n;return function(i,a,o){var l=i._values,s=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,h=a._ptr,d=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==d.length)throw new yt(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!l||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var b=c[0],S=c[1],y,w=t,_=0,x=o;typeof f=="string"&&f===v&&f!=="mixed"&&(y=f,w=e.find(t,[y,y]),_=e.convert(0,y),x=e.find(o,[y,y]));for(var M=[],D=[],N=[],E=[],P=[],O,U,z,L,B=0;B<S;B++){N[B]=D.length;var T=B+1;for(U=u[B],z=u[B+1],O=U;O<z;O++)L=s[O],P[L]=T,E[L]=l[O],D.push(L);for(U=h[B],z=h[B+1],O=U;O<z;O++)L=m[O],P[L]===T&&(E[L]=x(E[L],p[O]));for(O=N[B];O<D.length;){L=D[O];var G=E[L];w(G,_)?D.splice(O,1):(M.push(G),O++)}}return N[S]=D.length,i.createSparseMatrix({values:M,index:D,ptr:N,size:[b,S],datatype:f===i._datatype&&v===a._datatype?y:void 0})}});var Tu=C("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,a)=>r(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,a)=>r(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,a)=>r(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,a)=>r(i,t(a)).valueOf())}});var eT="leftShift",lW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],tb=C(eT,lW,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=n,l=Ln({typed:e}),s=Qr({typed:e,equalScalar:r}),u=Cu({typed:e,equalScalar:r}),c=ui({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:r}),p=Xr({typed:e}),m=At({typed:e,matrix:t,concat:o}),h=Tu({typed:e,matrix:t});return e(eT,{"number, number":Dv,"BigNumber, BigNumber":HM,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,b)=>r(b,0)?v.clone():f(v,b,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,b)=>r(b,0)?v.clone():p(v,b,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,b)=>r(v,0)?i(b.size(),b.storage()):c(b,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,b)=>r(v,0)?i(b.size(),b.storage()):p(b,v,d,!0))},h,m({SS:u,DS:l,SD:s}))});var tT="rightArithShift",cW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],rb=C(tT,cW,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=n,l=Ln({typed:e}),s=Qr({typed:e,equalScalar:r}),u=Cu({typed:e,equalScalar:r}),c=ui({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:r}),p=Xr({typed:e}),m=At({typed:e,matrix:t,concat:o}),h=Tu({typed:e,matrix:t});return e(tT,{"number, number":Ev,"BigNumber, BigNumber":GM,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,b)=>r(b,0)?v.clone():f(v,b,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,b)=>r(b,0)?v.clone():p(v,b,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,b)=>r(v,0)?i(b.size(),b.storage()):c(b,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,b)=>r(v,0)?i(b.size(),b.storage()):p(b,v,d,!0))},h,m({SS:u,DS:l,SD:s}))});var rT="rightLogShift",fW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],nb=C(rT,fW,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=n,l=Ln({typed:e}),s=Qr({typed:e,equalScalar:r}),u=Cu({typed:e,equalScalar:r}),c=ui({typed:e,DenseMatrix:a}),f=dr({typed:e,equalScalar:r}),p=Xr({typed:e}),m=At({typed:e,matrix:t,concat:o}),h=Tu({typed:e,matrix:t});return e(rT,{"number, number":Mv,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(v,b)=>r(b,0)?v.clone():f(v,b,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(v,b)=>r(b,0)?v.clone():p(v,b,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(v,b)=>r(v,0)?i(b.size(),b.storage()):c(b,v,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(v,b)=>r(v,0)?i(b.size(),b.storage()):p(b,v,d,!0))},h,m({SS:u,DS:l,SD:s}))});var nT="and",pW=["typed","matrix","equalScalar","zeros","not","concat"],Jl=C(nT,pW,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o}=n,l=Qr({typed:e,equalScalar:r}),s=Io({typed:e,equalScalar:r}),u=dr({typed:e,equalScalar:r}),c=Xr({typed:e}),f=At({typed:e,matrix:t,concat:o});return e(nT,{"number, number":Bv,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):u(m,h,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):c(m,h,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):u(h,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):c(h,m,p,!0)),"Array, any":e.referToSelf(p=>(m,h)=>p(t(m),h).valueOf()),"any, Array":e.referToSelf(p=>(m,h)=>p(m,t(h)).valueOf())},f({SS:s,DS:l}))});var Ip="compare",mW=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],ib=C(Ip,mW,n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:l,concat:s}=n,u=Ar({typed:e}),c=Fo({typed:e,equalScalar:r}),f=rr({typed:e,DenseMatrix:l}),p=At({typed:e,matrix:i,concat:s}),m=qi({typed:e});return e(Ip,dW({typed:e,config:t}),{"boolean, boolean":function(d,v){return d===v?0:d>v?1:-1},"BigNumber, BigNumber":function(d,v){return nn(d,v,t.epsilon)?new a(0):new a(d.cmp(v))},"Fraction, Fraction":function(d,v){return new o(d.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:c,DS:u,Ss:f}))}),dW=C(Ip,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Ip,{"number, number":function(i,a){return Lr(i,a,t.epsilon)?0:i>a?1:-1}})});var xs=br(aT(),1);var oT="compareNatural",hW=["typed","compare"],ab=C(oT,hW,n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(oT,{"any, any":i});function i(s,u){var c=$t(s),f=$t(u),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(s,u),p.toString()!=="0"?p>0?1:-1:(0,xs.default)(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return p=a(i,s,u),p!==0?p:(0,xs.default)(c,f);if(c!==f)return(0,xs.default)(c,f);if(c==="Complex")return gW(s,u);if(c==="Unit")return s.equalBase(u)?i(s.value,u.value):o(i,s.formatUnits(),u.formatUnits());if(c==="boolean")return r(s,u);if(c==="string")return(0,xs.default)(s,u);if(c==="Object")return l(i,s,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(s,u,c){return na(u)&&na(c)?o(s,u.toJSON().values,c.toJSON().values):na(u)?a(s,u.toArray(),c):na(c)?a(s,u,c.toArray()):ps(u)?a(s,u.toJSON().data,c):ps(c)?a(s,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?o(s,u,c):a(s,u,[c]):a(s,[u],c)}function o(s,u,c){for(var f=0,p=Math.min(u.length,c.length);f<p;f++){var m=s(u[f],c[f]);if(m!==0)return m}return u.length>c.length?1:u.length<c.length?-1:0}function l(s,u,c){var f=Object.keys(u),p=Object.keys(c);f.sort(xs.default),p.sort(xs.default);var m=o(s,f,p);if(m!==0)return m;for(var h=0;h<f.length;h++){var d=s(u[f[h]],c[p[h]]);if(d!==0)return d}return 0}});function gW(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}var sT="compareText",vW=["typed","matrix","concat"];lp.signature="any, any";var ob=C(sT,vW,n=>{var{typed:e,matrix:t,concat:r}=n,i=At({typed:e,matrix:t,concat:r});return e(sT,lp,i({elop:lp,Ds:!0}))});var Pp="equal",yW=["typed","matrix","equalScalar","DenseMatrix","concat"],sb=C(Pp,yW,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Ar({typed:e}),l=un({typed:e,DenseMatrix:i}),s=rr({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:t,concat:a});return e(Pp,bW({typed:e,equalScalar:r}),u({elop:r,SS:l,DS:o,Ss:s}))}),bW=C(Pp,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(Pp,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var uT="equalText",xW=["typed","compareText","isZero"],ub=C(uT,xW,n=>{var{typed:e,compareText:t,isZero:r}=n;return e(uT,{"any, any":function(a,o){return r(t(a,o))}})});var Bp="smaller",wW=["typed","config","matrix","DenseMatrix","concat"],lb=C(Bp,wW,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Ar({typed:e}),l=un({typed:e,DenseMatrix:i}),s=rr({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:r,concat:a}),c=qi({typed:e});return e(Bp,_W({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:l,DS:o,Ss:s}))}),_W=C(Bp,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Bp,{"number, number":function(i,a){return i<a&&!Lr(i,a,t.epsilon)}})});var Op="smallerEq",SW=["typed","config","matrix","DenseMatrix","concat"],cb=C(Op,SW,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Ar({typed:e}),l=un({typed:e,DenseMatrix:i}),s=rr({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:r,concat:a}),c=qi({typed:e});return e(Op,AW({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:l,DS:o,Ss:s}))}),AW=C(Op,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Op,{"number, number":function(i,a){return i<=a||Lr(i,a,t.epsilon)}})});var kp="larger",NW=["typed","config","matrix","DenseMatrix","concat"],fb=C(kp,NW,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Ar({typed:e}),l=un({typed:e,DenseMatrix:i}),s=rr({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:r,concat:a}),c=qi({typed:e});return e(kp,DW({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:l,DS:o,Ss:s}))}),DW=C(kp,["typed","config"],n=>{var{typed:e,config:t}=n;return e(kp,{"number, number":function(i,a){return i>a&&!Lr(i,a,t.epsilon)}})});var Rp="largerEq",EW=["typed","config","matrix","DenseMatrix","concat"],pb=C(Rp,EW,n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:a}=n,o=Ar({typed:e}),l=un({typed:e,DenseMatrix:i}),s=rr({typed:e,DenseMatrix:i}),u=At({typed:e,matrix:r,concat:a}),c=qi({typed:e});return e(Rp,MW({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||nn(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:l,DS:o,Ss:s}))}),MW=C(Rp,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Rp,{"number, number":function(i,a){return i>=a||Lr(i,a,t.epsilon)}})});var lT="deepEqual",CW=["typed","equal"],mb=C(lT,CW,n=>{var{typed:e,equal:t}=n;return e(lT,{"any, any":function(a,o){return r(a.valueOf(),o.valueOf())}});function r(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var l=0;l<o;l++)if(!r(i[l],a[l]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var Lp="unequal",TW=["typed","config","equalScalar","matrix","DenseMatrix","concat"],db=C(Lp,TW,n=>{var{typed:e,config:t,equalScalar:r,matrix:i,DenseMatrix:a,concat:o}=n,l=Ar({typed:e}),s=un({typed:e,DenseMatrix:a}),u=rr({typed:e,DenseMatrix:a}),c=At({typed:e,matrix:i,concat:o});return e(Lp,FW({typed:e,equalScalar:r}),c({elop:f,SS:s,DS:l,Ss:u}));function f(p,m){return!r(p,m)}}),FW=C(Lp,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(Lp,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var cT="partitionSelect",IW=["typed","isNumeric","isNaN","compare"],hb=C(cT,IW,n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,a=i,o=(u,c)=>-i(u,c);return e(cT,{"Array | Matrix, number":function(c,f){return l(c,f,a)},"Array | Matrix, number, string":function(c,f,p){if(p==="asc")return l(c,f,a);if(p==="desc")return l(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":l});function l(u,c,f){if(!Qe(c)||c<0)throw new Error("k must be a non-negative integer");if(rt(u)){var p=u.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return s(u.valueOf(),c,f)}if(Array.isArray(u))return s(u,c,f)}function s(u,c,f){if(c>=u.length)throw new Error("k out of bounds");for(var p=0;p<u.length;p++)if(t(u[p])&&r(u[p]))return u[p];for(var m=0,h=u.length-1;m<h;){for(var d=m,v=h,b=u[Math.floor(Math.random()*(h-m+1))+m];d<v;)if(f(u[d],b)>=0){var S=u[v];u[v]=u[d],u[d]=S,--v}else++d;f(u[d],b)>0&&--d,c<=d?h=d:m=d+1}return u[c]}});var fT="sort",PW=["typed","matrix","compare","compareNatural"],gb=C(fT,PW,n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,a=r,o=(c,f)=>-r(c,f);return e(fT,{Array:function(f){return s(f),f.sort(a)},Matrix:function(f){return u(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return s(f),f.sort(p)},"Matrix, function":function(f,p){return u(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return s(f),f.sort(l(p))},"Matrix, string":function(f,p){return u(f),t(f.toArray().sort(l(p)),f.storage())}});function l(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function s(c){if(ft(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var pT="max",BW=["typed","config","numeric","larger"],Xl=C(pT,BW,n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e(pT,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,u){return To(s,u.valueOf(),a)},"...":function(s){if(Vi(s))throw new TypeError("Scalar values expected in function max");return o(s)}});function a(l,s){try{return i(l,s)?l:s}catch(u){throw $r(u,"max",s)}}function o(l){var s;if(Rn(l,function(u){try{isNaN(u)&&typeof u=="number"?s=NaN:(s===void 0||i(u,s))&&(s=u)}catch(c){throw $r(c,"max",u)}}),s===void 0)throw new Error("Cannot calculate max of an empty array");return typeof s=="string"&&(s=r(s,t.number)),s}});var mT="min",OW=["typed","config","numeric","smaller"],Ql=C(mT,OW,n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e(mT,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,u){return To(s,u.valueOf(),a)},"...":function(s){if(Vi(s))throw new TypeError("Scalar values expected in function min");return o(s)}});function a(l,s){try{return i(l,s)?l:s}catch(u){throw $r(u,"min",s)}}function o(l){var s;if(Rn(l,function(u){try{isNaN(u)&&typeof u=="number"?s=NaN:(s===void 0||i(u,s))&&(s=u)}catch(c){throw $r(c,"min",u)}}),s===void 0)throw new Error("Cannot calculate min of an empty array");return typeof s=="string"&&(s=r(s,t.number)),s}});var kW="ImmutableDenseMatrix",RW=["smaller","DenseMatrix"],vb=C(kW,RW,n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!qr(a))throw new Error("Invalid datatype: "+a);if(rt(i)||Wt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Wt(i.data)&&Wt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+$t(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return r.prototype=new t,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return rt(a)?new r({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:lt(this._data),size:lt(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},r.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},r},{isClass:!0});var LW="Index",UW=["ImmutableDenseMatrix","getMatrixDataType"],yb=C(LW,UW,n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,l=arguments.length;o<l;o++){var s=arguments[o],u=Wt(s),c=rt(s),f=null;if(pu(s))this._dimensions.push(s),this._isScalar=!1;else if(u||c){var p=void 0;t(s)==="boolean"?(u&&(p=i(dT(s).valueOf())),c&&(p=i(dT(s._data).valueOf())),f=s.valueOf().length):p=i(s.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof s=="number")this._dimensions.push(i([s]));else if(typeof s=="string")this._dimensions.push(s);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}r.prototype.type="Index",r.prototype.isIndex=!0;function i(a){for(var o=0,l=a.length;o<l;o++)if(typeof a[o]!="number"||!Qe(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return r.prototype.clone=function(){var a=new r;return a._dimensions=lt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},r.create=function(a){var o=new r;return r.apply(o,a),o},r.prototype.size=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?1:s.size()[0]}return a},r.prototype.max=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?s:s.max()}return a},r.prototype.min=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var s=this._dimensions[o];a[o]=typeof s=="string"?s:s.min()}return a},r.prototype.forEach=function(a){for(var o=0,l=this._dimensions.length;o<l;o++)a(this._dimensions[o],o,this)},r.prototype.dimension=function(a){return this._dimensions[a]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var s=this._dimensions[o];a.push(typeof s=="string"?s:s.toArray())}return a},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var s=this._dimensions[o];typeof s=="string"?a.push(JSON.stringify(s)):a.push(s.toString())}return"["+a.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(a){return r.create(a.dimensions)},r},{isClass:!0});function dT(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var VW="FibonacciHeap",qW=["smaller","larger"],bb=C(VW,qW,n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var p={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(c,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,p=c.degree,m=c.child;p>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=u(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(c,f,m),l(c,m)),e(f.key,c.key)&&(c=f),c}function o(c,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function l(c,f){var p=f.parent;p&&(f.mark?(o(c,f,p),l(p)):f.mark=!0)}var s=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function u(c,f){var p=Math.floor(Math.log(f)*r)+1,m=new Array(p),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var v;h>0;){for(var b=d.degree,S=d.right;v=m[b],!!v;){if(t(d.key,v.key)){var y=v;v=d,d=y}s(v,d),m[b]=null,b++}m[b]=d,d=S,h--}c=null;for(var w=0;w<p;w++)v=m[w],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0});var zW="Spa",$W=["addScalar","equalScalar","FibonacciHeap"],xb=C(zW,$W,n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var l=this._heap.insert(a,o);this._values[a]=l}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var l=this._values[a];l?l.value=e(l.value,o):(l=this._heap.insert(a,o),this._values[a]=l)},i.prototype.forEach=function(a,o,l){var s=this._heap,u=this._values,c=[],f=s.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||l(f.key,f.value,this)),f=s.extractMinimum(),f&&c.push(f);for(var p=0;p<c.length;p++){var m=c[p];f=s.insert(m.key,m.value),u[f.key]=f}},i.prototype.swap=function(a,o){var l=this._values[a],s=this._values[o];if(!l&&s)l=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=l,this._values[o]=void 0;else if(l&&!s)s=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=s,this._values[a]=void 0;else if(l&&s){var u=l.value;l.value=s.value,s.value=u}},i},{isClass:!0});var hT=vs(function(n){return new n(1).exp()},{hasher:Up}),gT=vs(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:Up}),Kl=vs(function(n){return n.acos(-1)},{hasher:Up}),vT=vs(function(n){return Kl(n).times(2)},{hasher:Up});function Up(n){return n[0].precision}function yT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(t),!0).forEach(function(r){ir(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var HW="Unit",GW=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],_b=C(HW,GW,n=>{var{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:l,abs:s,fix:u,round:c,equal:f,isNumeric:p,format:m,number:h,Complex:d,BigNumber:v,Fraction:b}=n,S=h;function y(Y,K){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(Y==null||p(Y)||Xn(Y)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,K===void 0)this.units=[],this.dimensions=G.map(X=>0);else if(typeof K=="string"){var ge=y.parse(K);this.units=ge.units,this.dimensions=ge.dimensions}else if(Sn(K)&&K.value===null)this.fixPrefix=K.fixPrefix,this.skipAutomaticSimplification=K.skipAutomaticSimplification,this.dimensions=K.dimensions.slice(0),this.units=K.units.map(X=>Cr({},X));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(Y)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var w,_,x;function M(){for(;x===" "||x==="	";)E()}function D(Y){return Y>="0"&&Y<="9"||Y==="."}function N(Y){return Y>="0"&&Y<="9"}function E(){_++,x=w.charAt(_)}function P(Y){_=Y,x=w.charAt(_)}function O(){var Y="",K=_;if(x==="+"?E():x==="-"&&(Y+=x,E()),!D(x))return P(K),null;if(x==="."){if(Y+=x,E(),!N(x))return P(K),null}else{for(;N(x);)Y+=x,E();x==="."&&(Y+=x,E())}for(;N(x);)Y+=x,E();if(x==="E"||x==="e"){var ge="",X=_;if(ge+=x,E(),(x==="+"||x==="-")&&(ge+=x,E()),!N(x))return P(X),Y;for(Y=Y+ge;N(x);)Y+=x,E()}return Y}function U(){for(var Y="";N(x)||y.isValidAlpha(x);)Y+=x,E();var K=Y.charAt(0);return y.isValidAlpha(K)?Y:null}function z(Y){return x===Y?(E(),Y):null}y.parse=function(Y,K){if(K=K||{},w=Y,_=-1,x="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ge=new y;ge.units=[];var X=1,ne=!1;E(),M();var ue=O(),De=null;if(ue){if(t.number==="BigNumber")De=new v(ue);else if(t.number==="Fraction")try{De=new b(ue)}catch(ye){De=parseFloat(ue)}else De=parseFloat(ue);M(),z("*")?(X=1,ne=!0):z("/")&&(X=-1,ne=!0)}for(var Ee=[],Ze=1;;){for(M();x==="(";)Ee.push(X),Ze*=X,X=1,E(),M();var Fe=void 0;if(x){var wt=x;if(Fe=U(),Fe===null)throw new SyntaxError('Unexpected "'+wt+'" in "'+w+'" at index '+_.toString())}else break;var Ct=L(Fe);if(Ct===null)throw new SyntaxError('Unit "'+Fe+'" not found.');var Xt=X*Ze;if(M(),z("^")){M();var bt=O();if(bt===null)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');Xt*=bt}ge.units.push({unit:Ct.unit,prefix:Ct.prefix,power:Xt});for(var Q=0;Q<G.length;Q++)ge.dimensions[Q]+=(Ct.unit.dimensions[Q]||0)*Xt;for(M();x===")";){if(Ee.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+_.toString());Ze/=Ee.pop(),E(),M()}if(ne=!1,z("*")?(X=1,ne=!0):z("/")?(X=-1,ne=!0):X=1,Ct.unit.base){var ce=Ct.unit.base.key;pe.auto[ce]={unit:Ct.unit,prefix:Ct.prefix}}}if(M(),x)throw new SyntaxError('Could not parse: "'+Y+'"');if(ne)throw new SyntaxError('Trailing characters: "'+Y+'"');if(Ee.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(ge.units.length===0&&!K.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return ge.value=De!==void 0?ge._normalize(De):null,ge},y.prototype.clone=function(){var Y=new y;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=lt(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var K=0;K<this.units.length;K++){Y.units[K]={};for(var ge in this.units[K])nt(this.units[K],ge)&&(Y.units[K][ge]=this.units[K][ge])}return Y},y.prototype.valueType=function(){return $t(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(Y){if(Y==null||this.units.length===0)return Y;for(var K=Y,ge=y._getNumberConverter($t(Y)),X=0;X<this.units.length;X++){var ne=ge(this.units[X].unit.value),ue=ge(this.units[X].prefix.value),De=ge(this.units[X].power);K=a(K,l(a(ne,ue),De))}return K},y.prototype._denormalize=function(Y,K){if(Y==null||this.units.length===0)return Y;for(var ge=Y,X=y._getNumberConverter($t(Y)),ne=0;ne<this.units.length;ne++){var ue=X(this.units[ne].unit.value),De=X(this.units[ne].prefix.value),Ee=X(this.units[ne].power);ge=o(ge,l(a(ue,De),Ee))}return ge};var L=vs(Y=>{if(nt(V,Y)){var K=V[Y],ge=K.prefixes[""];return{unit:K,prefix:ge}}for(var X in V)if(nt(V,X)&&mE(Y,X)){var ne=V[X],ue=Y.length-X.length,De=Y.substring(0,ue),Ee=nt(ne.prefixes,De)?ne.prefixes[De]:void 0;if(Ee!==void 0)return{unit:ne,prefix:Ee}}return null},{hasher:Y=>Y[0],limit:100});y.isValuelessUnit=function(Y){return L(Y)!==null},y.prototype.hasBase=function(Y){if(typeof Y=="string"&&(Y=R[Y]),!Y)return!1;for(var K=0;K<G.length;K++)if(Math.abs((this.dimensions[K]||0)-(Y.dimensions[K]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(Y){for(var K=0;K<G.length;K++)if(Math.abs((this.dimensions[K]||0)-(Y.dimensions[K]||0))>1e-12)return!1;return!0},y.prototype.equals=function(Y){return this.equalBase(Y)&&f(this.value,Y.value)},y.prototype.multiply=function(Y){for(var K=this.clone(),ge=Sn(Y)?Y:new y(Y),X=0;X<G.length;X++)K.dimensions[X]=(this.dimensions[X]||0)+(ge.dimensions[X]||0);for(var ne=0;ne<ge.units.length;ne++){var ue=wb({},ge.units[ne]);K.units.push(ue)}if(this.value!==null||ge.value!==null){var De=this.value===null?this._normalize(1):this.value,Ee=ge.value===null?ge._normalize(1):ge.value;K.value=a(De,Ee)}else K.value=null;return Sn(Y)&&(K.skipAutomaticSimplification=!1),B(K)},y.prototype.divideInto=function(Y){return new y(Y).divide(this)},y.prototype.divide=function(Y){for(var K=this.clone(),ge=Sn(Y)?Y:new y(Y),X=0;X<G.length;X++)K.dimensions[X]=(this.dimensions[X]||0)-(ge.dimensions[X]||0);for(var ne=0;ne<ge.units.length;ne++){var ue=wb(wb({},ge.units[ne]),{},{power:-ge.units[ne].power});K.units.push(ue)}if(this.value!==null||ge.value!==null){var De=this.value===null?this._normalize(1):this.value,Ee=ge.value===null?ge._normalize(1):ge.value;K.value=o(De,Ee)}else K.value=null;return Sn(Y)&&(K.skipAutomaticSimplification=!1),B(K)},y.prototype.pow=function(Y){for(var K=this.clone(),ge=0;ge<G.length;ge++)K.dimensions[ge]=(this.dimensions[ge]||0)*Y;for(var X=0;X<K.units.length;X++)K.units[X].power*=Y;return K.value!==null?K.value=l(K.value,Y):K.value=null,K.skipAutomaticSimplification=!1,B(K)};function B(Y){return Y.equalBase(R.NONE)&&Y.value!==null&&!t.predictable?Y.value:Y}y.prototype.abs=function(){var Y=this.clone();if(Y.value!==null)if(Y._isDerived()||Y.units.length===0||Y.units[0].unit.offset===0)Y.value=s(Y.value);else{var K=Y._numberConverter(),ge=K(Y.units[0].unit.value),X=K(Y.units[0].unit.offset),ne=a(ge,X);Y.value=i(s(r(Y.value,ne)),ne)}for(var ue in Y.units)(Y.units[ue].unit.name==="VA"||Y.units[ue].unit.name==="VAR")&&(Y.units[ue].unit=V.W);return Y},y.prototype.to=function(Y){var K=this.value===null?this._normalize(1):this.value,ge;if(typeof Y=="string")ge=y.parse(Y);else if(Sn(Y))ge=Y.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ge))throw new Error("Units do not match ('".concat(ge.toString(),"' != '").concat(this.toString(),"')"));if(ge.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||ge.units.length===0||this.units[0].unit.offset===ge.units[0].unit.offset)ge.value=lt(K);else{var X=y._getNumberConverter($t(K)),ne=this.units[0].unit.value,ue=this.units[0].unit.offset,De=a(ne,ue),Ee=ge.units[0].unit.value,Ze=ge.units[0].unit.offset,Fe=a(Ee,Ze);ge.value=r(K,X(i(De,Fe)))}return ge.fixPrefix=!0,ge.skipAutomaticSimplification=!0,ge},y.prototype.toNumber=function(Y){return S(this.toNumeric(Y))},y.prototype.toNumeric=function(Y){var K;return Y?K=this.to(Y):K=this.clone(),K._isDerived()||K.units.length===0?K._denormalize(K.value):K._denormalize(K.value,K.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(Y){var K=new y(Y.value,Y.unit);return K.fixPrefix=Y.fixPrefix||!1,K},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var Y=this.clone(),K=[],ge;for(var X in de)if(nt(de,X)&&Y.hasBase(R[X])){ge=X;break}if(ge==="NONE")Y.units=[];else{var ne;if(ge&&nt(de,ge)&&(ne=de[ge]),ne)Y.units=[{unit:ne.unit,prefix:ne.prefix,power:1}];else{for(var ue=!1,De=0;De<G.length;De++){var Ee=G[De];Math.abs(Y.dimensions[De]||0)>1e-12&&(nt(de,Ee)?K.push({unit:de[Ee].unit,prefix:de[Ee].prefix,power:Y.dimensions[De]||0}):ue=!0)}K.length<Y.units.length&&!ue&&(Y.units=K)}}return Y},y.prototype.toSI=function(){for(var Y=this.clone(),K=[],ge=0;ge<G.length;ge++){var X=G[ge];if(Math.abs(Y.dimensions[ge]||0)>1e-12)if(nt(pe.si,X))K.push({unit:pe.si[X].unit,prefix:pe.si[X].prefix,power:Y.dimensions[ge]||0});else throw new Error("Cannot express custom unit "+X+" in SI units")}return Y.units=K,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,this.value!==null?(Y.value=null,this.to(Y)):Y},y.prototype.formatUnits=function(){for(var Y="",K="",ge=0,X=0,ne=0;ne<this.units.length;ne++)this.units[ne].power>0?(ge++,Y+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,Math.abs(this.units[ne].power-1)>1e-15&&(Y+="^"+this.units[ne].power)):this.units[ne].power<0&&X++;if(X>0)for(var ue=0;ue<this.units.length;ue++)this.units[ue].power<0&&(ge>0?(K+=" "+this.units[ue].prefix.name+this.units[ue].unit.name,Math.abs(this.units[ue].power+1)>1e-15&&(K+="^"+-this.units[ue].power)):(K+=" "+this.units[ue].prefix.name+this.units[ue].unit.name,K+="^"+this.units[ue].power));Y=Y.substr(1),K=K.substr(1),ge>1&&X>0&&(Y="("+Y+")"),X>1&&ge>0&&(K="("+K+")");var De=Y;return ge>0&&X>0&&(De+=" / "),De+=K,De},y.prototype.format=function(Y){var K=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),ge=!1;typeof K.value!="undefined"&&K.value!==null&&Xn(K.value)&&(ge=Math.abs(K.value.re)<1e-14);for(var X in K.units)nt(K.units,X)&&K.units[X].unit&&(K.units[X].unit.name==="VA"&&ge?K.units[X].unit=V.VAR:K.units[X].unit.name==="VAR"&&!ge&&(K.units[X].unit=V.VA));K.units.length===1&&!K.fixPrefix&&Math.abs(K.units[0].power-Math.round(K.units[0].power))<1e-14&&(K.units[0].prefix=K._bestPrefix());var ne=K._denormalize(K.value),ue=K.value!==null?m(ne,Y||{}):"",De=K.formatUnits();return K.value&&Xn(K.value)&&(ue="("+ue+")"),De.length>0&&ue.length>0&&(ue+=" "),ue+=De,ue},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=this.value!==null?s(this.value):0,K=s(this.units[0].unit.value),ge=this.units[0].prefix;if(Y===0)return ge;var X=this.units[0].power,ne=Math.log(Y/Math.pow(ge.value*K,X))/Math.LN10-1.2;if(ne>-2.200001&&ne<1.800001)return ge;ne=Math.abs(ne);var ue=this.units[0].unit.prefixes;for(var De in ue)if(nt(ue,De)){var Ee=ue[De];if(Ee.scientific){var Ze=Math.abs(Math.log(Y/Math.pow(Ee.value*K,X))/Math.LN10-1.2);(Ze<ne||Ze===ne&&Ee.name.length<ge.name.length)&&(ge=Ee,ne=Ze)}}return ge},y.prototype.splitUnit=function(Y){for(var K=this.clone(),ge=[],X=0;X<Y.length&&(K=K.to(Y[X]),X!==Y.length-1);X++){var ne=K.toNumeric(),ue=c(ne),De=void 0,Ee=f(ue,ne);Ee?De=ue:De=u(K.toNumeric());var Ze=new y(De,Y[X].toString());ge.push(Ze),K=i(K,Ze)}for(var Fe=0,wt=0;wt<ge.length;wt++)Fe=r(Fe,ge[wt].value);return f(Fe,this.value)&&(K.value=0),ge.push(K),ge};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=Cr({},T.SHORT,T.LONG),T.BINARY_SHORT=Cr({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=Cr({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ie in R)nt(R,ie)&&(R[ie].key=ie);var j={},H={name:"",base:j,value:1,offset:0,dimensions:G.map(Y=>0)},V={meter:{name:"meter",base:R.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:T.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:R.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:R.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:R.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:R.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:R.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:R.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:R.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:R.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:R.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:R.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:R.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:T.SHORT,value:new b(5,9),offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:T.SHORT,value:new b(5,9),offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:T.LONG,value:new b(5,9),offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:T.LONG,value:new b(5,9),offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:R.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:R.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:T.SHORT,value:d.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},fe={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function _e(Y){if(Y.number==="BigNumber"){var K=Kl(v);V.rad.value=new v(1),V.deg.value=K.div(180),V.grad.value=K.div(200),V.cycle.value=K.times(2),V.arcsec.value=K.div(648e3),V.arcmin.value=K.div(10800)}else V.rad.value=1,V.deg.value=Math.PI/180,V.grad.value=Math.PI/200,V.cycle.value=Math.PI*2,V.arcsec.value=Math.PI/648e3,V.arcmin.value=Math.PI/10800;V.radian.value=V.rad.value,V.degree.value=V.deg.value,V.gradian.value=V.grad.value}_e(t),e&&e("config",function(Y,K){Y.number!==K.number&&_e(Y)});var pe={si:{NONE:{unit:H,prefix:T.NONE[""]},LENGTH:{unit:V.m,prefix:T.SHORT[""]},MASS:{unit:V.g,prefix:T.SHORT.k},TIME:{unit:V.s,prefix:T.SHORT[""]},CURRENT:{unit:V.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:V.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:V.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:V.mol,prefix:T.SHORT[""]},ANGLE:{unit:V.rad,prefix:T.SHORT[""]},BIT:{unit:V.bits,prefix:T.SHORT[""]},FORCE:{unit:V.N,prefix:T.SHORT[""]},ENERGY:{unit:V.J,prefix:T.SHORT[""]},POWER:{unit:V.W,prefix:T.SHORT[""]},PRESSURE:{unit:V.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:V.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:V.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:V.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:V.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:V.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:V.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:V.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:V.T,prefix:T.SHORT[""]},FREQUENCY:{unit:V.Hz,prefix:T.SHORT[""]}}};pe.cgs=JSON.parse(JSON.stringify(pe.si)),pe.cgs.LENGTH={unit:V.m,prefix:T.SHORT.c},pe.cgs.MASS={unit:V.g,prefix:T.SHORT[""]},pe.cgs.FORCE={unit:V.dyn,prefix:T.SHORT[""]},pe.cgs.ENERGY={unit:V.erg,prefix:T.NONE[""]},pe.us=JSON.parse(JSON.stringify(pe.si)),pe.us.LENGTH={unit:V.ft,prefix:T.NONE[""]},pe.us.MASS={unit:V.lbm,prefix:T.NONE[""]},pe.us.TEMPERATURE={unit:V.degF,prefix:T.NONE[""]},pe.us.FORCE={unit:V.lbf,prefix:T.NONE[""]},pe.us.ENERGY={unit:V.BTU,prefix:T.BTU[""]},pe.us.POWER={unit:V.hp,prefix:T.NONE[""]},pe.us.PRESSURE={unit:V.psi,prefix:T.NONE[""]},pe.auto=JSON.parse(JSON.stringify(pe.si));var de=pe.auto;y.setUnitSystem=function(Y){if(nt(pe,Y))de=pe[Y];else throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(pe).join(", "))},y.getUnitSystem=function(){for(var Y in pe)if(nt(pe,Y)&&pe[Y]===de)return Y},y.typeConverters={BigNumber:function(K){return K!=null&&K.isFraction?new v(K.n).div(K.d).times(K.s):new v(K+"")},Fraction:function(K){return new b(K)},Complex:function(K){return K},number:function(K){return K!=null&&K.isFraction?h(K):K}},y.prototype._numberConverter=function(){var Y=y.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(Y){if(!y.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return y.typeConverters[Y]};for(var we in V)if(nt(V,we)){var he=V[we];he.dimensions=he.base.dimensions}for(var ve in fe)if(nt(fe,ve)){var xe=V[fe[ve]],Ce={};for(var ze in xe)nt(xe,ze)&&(Ce[ze]=xe[ze]);Ce.name=ve,V[ve]=Ce}y.isValidAlpha=function(K){return/^[a-zA-Z]$/.test(K)};function tt(Y){for(var K=0;K<Y.length;K++){if(x=Y.charAt(K),K===0&&!y.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(K>0&&!(y.isValidAlpha(x)||N(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}return y.createUnit=function(Y,K){if(typeof Y!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(K&&K.override){for(var ge in Y)if(nt(Y,ge)&&y.deleteUnit(ge),Y[ge].aliases)for(var X=0;X<Y[ge].aliases.length;X++)y.deleteUnit(Y[ge].aliases[X])}var ne;for(var ue in Y)nt(Y,ue)&&(ne=y.createUnitSingle(ue,Y[ue]));return ne},y.createUnitSingle=function(Y,K){if((typeof K=="undefined"||K===null)&&(K={}),typeof Y!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(nt(V,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');tt(Y);var ge=null,X=[],ne=0,ue,De,Ee;if(K&&K.type==="Unit")ge=K.clone();else if(typeof K=="string")K!==""&&(ue=K);else if(typeof K=="object")ue=K.definition,De=K.prefixes,ne=K.offset,Ee=K.baseName,K.aliases&&(X=K.aliases.valueOf());else throw new TypeError('Cannot create unit "'+Y+'" from "'+K.toString()+'": expecting "string" or "Unit" or "Object"');if(X){for(var Ze=0;Ze<X.length;Ze++)if(nt(V,X[Ze]))throw new Error('Cannot create alias "'+X[Ze]+'": a unit with that name already exists')}if(ue&&typeof ue=="string"&&!ge)try{ge=y.parse(ue,{allowNoUnits:!0})}catch(F){throw F.message='Could not create unit "'+Y+'" from "'+ue+'": '+F.message,F}else ue&&ue.type==="Unit"&&(ge=ue.clone());X=X||[],ne=ne||0,De&&De.toUpperCase?De=T[De.toUpperCase()]||T.NONE:De=T.NONE;var Fe={};if(ge){Fe={name:Y,value:ge.value,dimensions:ge.dimensions.slice(0),prefixes:De,offset:ne};var bt=!1;for(var Q in R)if(nt(R,Q)){for(var ce=!0,ye=0;ye<G.length;ye++)if(Math.abs((Fe.dimensions[ye]||0)-(R[Q].dimensions[ye]||0))>1e-12){ce=!1;break}if(ce){bt=!0,Fe.base=R[Q];break}}if(!bt){Ee=Ee||Y+"_STUFF";var ke={dimensions:ge.dimensions.slice(0)};ke.key=Ee,R[Ee]=ke,de[Ee]={unit:Fe,prefix:T.NONE[""]},Fe.base=R[Ee]}}else{if(Ee=Ee||Y+"_STUFF",G.indexOf(Ee)>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');G.push(Ee);for(var wt in R)nt(R,wt)&&(R[wt].dimensions[G.length-1]=0);for(var Ct={dimensions:[]},Xt=0;Xt<G.length;Xt++)Ct.dimensions[Xt]=0;Ct.dimensions[G.length-1]=1,Ct.key=Ee,R[Ee]=Ct,Fe={name:Y,value:1,dimensions:R[Ee].dimensions.slice(0),prefixes:De,offset:ne,base:R[Ee]},de[Ee]={unit:Fe,prefix:T.NONE[""]}}y.UNITS[Y]=Fe;for(var qe=0;qe<X.length;qe++){var Be=X[qe],Ve={};for(var He in Fe)nt(Fe,He)&&(Ve[He]=Fe[He]);Ve.name=Be,y.UNITS[Be]=Ve}return delete L.cache,new y(null,Y)},y.deleteUnit=function(Y){delete y.UNITS[Y],delete L.cache},y.PREFIXES=T,y.BASE_DIMENSIONS=G,y.BASE_UNITS=R,y.UNIT_SYSTEMS=pe,y.UNITS=V,y},{isClass:!0});var bT="unit",WW=["typed","Unit"],Sb=C(bT,WW,n=>{var{typed:e,Unit:t}=n;return e(bT,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>it(i,r))})});var xT="sparse",YW=["typed","SparseMatrix"],Ab=C(xT,YW,n=>{var{typed:e,SparseMatrix:t}=n;return e(xT,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var wT="createUnit",jW=["typed","Unit"],Nb=C(wT,jW,n=>{var{typed:e,Unit:t}=n;return e(wT,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var l={};return l[i]=a,t.createUnit(l,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var _T="acos",ZW=["typed","config","Complex"],Db=C(_T,ZW,n=>{var{typed:e,config:t,Complex:r}=n;return e(_T,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new r(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var ST="acosh",JW=["typed","config","Complex"],Eb=C(ST,JW,n=>{var{typed:e,config:t,Complex:r}=n;return e(ST,{number:function(a){return a>=1||t.predictable?Rv(a):a<=-1?new r(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new r(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var AT="acot",XW=["typed","BigNumber"],Mb=C(AT,XW,n=>{var{typed:e,BigNumber:t}=n;return e(AT,{number:Lv,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var NT="acoth",QW=["typed","config","Complex","BigNumber"],Cb=C(NT,QW,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(NT,{number:function(o){return o>=1||o<=-1||t.predictable?Uv(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var DT="acsc",KW=["typed","config","Complex","BigNumber"],Tb=C(DT,KW,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(DT,{number:function(o){return o<=-1||o>=1||t.predictable?Vv(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var ET="acsch",eY=["typed","BigNumber"],Fb=C(ET,eY,n=>{var{typed:e,BigNumber:t}=n;return e(ET,{number:qv,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var MT="asec",tY=["typed","config","Complex","BigNumber"],Ib=C(MT,tY,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(MT,{number:function(o){return o<=-1||o>=1||t.predictable?zv(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var CT="asech",rY=["typed","config","Complex","BigNumber"],Pb=C(CT,rY,n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e(CT,{number:function(o){if(o<=1&&o>=-1||t.predictable){var l=1/o;if(l>0||t.predictable)return $v(o);var s=Math.sqrt(l*l-1);return new r(Math.log(s-l),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var TT="asin",nY=["typed","config","Complex"],Bb=C(TT,nY,n=>{var{typed:e,config:t,Complex:r}=n;return e(TT,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new r(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var iY="asinh",aY=["typed"],Ob=C(iY,aY,n=>{var{typed:e}=n;return e("asinh",{number:Hv,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})});var oY="atan",sY=["typed"],kb=C(oY,sY,n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})});var FT="atan2",uY=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Rb=C(FT,uY,n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:a,concat:o}=n,l=Qr({typed:e,equalScalar:r}),s=Ar({typed:e}),u=Ep({typed:e,equalScalar:r}),c=dr({typed:e,equalScalar:r}),f=rr({typed:e,DenseMatrix:a}),p=At({typed:e,matrix:t,concat:o});return e(FT,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>i.atan2(m,h)},p({scalar:"number | BigNumber",SS:u,DS:s,SD:l,Ss:c,sS:f}))});var IT="atanh",lY=["typed","config","Complex"],Lb=C(IT,lY,n=>{var{typed:e,config:t,Complex:r}=n;return e(IT,{number:function(a){return a<=1&&a>=-1||t.predictable?Gv(a):new r(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var $i=C("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}});var PT="cos",cY=["typed"],Ub=C(PT,cY,n=>{var{typed:e}=n,t=$i({typed:e});return e(PT,{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)});var BT="cosh",fY=["typed"],Vb=C(BT,fY,n=>{var{typed:e}=n;return e(BT,{number:sp,"Complex | BigNumber":t=>t.cosh()})});var OT="cot",pY=["typed","BigNumber"],qb=C(OT,pY,n=>{var{typed:e,BigNumber:t}=n,r=$i({typed:e});return e(OT,{number:Wv,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},r)});var kT="coth",mY=["typed","BigNumber"],zb=C(kT,mY,n=>{var{typed:e,BigNumber:t}=n;return e(kT,{number:Yv,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})});var RT="csc",dY=["typed","BigNumber"],$b=C(RT,dY,n=>{var{typed:e,BigNumber:t}=n,r=$i({typed:e});return e(RT,{number:jv,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},r)});var LT="csch",hY=["typed","BigNumber"],Hb=C(LT,hY,n=>{var{typed:e,BigNumber:t}=n;return e(LT,{number:Zv,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})});var UT="sec",gY=["typed","BigNumber"],Gb=C(UT,gY,n=>{var{typed:e,BigNumber:t}=n,r=$i({typed:e});return e(UT,{number:Jv,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},r)});var VT="sech",vY=["typed","BigNumber"],Wb=C(VT,vY,n=>{var{typed:e,BigNumber:t}=n;return e(VT,{number:Xv,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})});var qT="sin",yY=["typed"],Yb=C(qT,yY,n=>{var{typed:e}=n,t=$i({typed:e});return e(qT,{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)});var zT="sinh",bY=["typed"],jb=C(zT,bY,n=>{var{typed:e}=n;return e(zT,{number:Qv,"Complex | BigNumber":t=>t.sinh()})});var $T="tan",xY=["typed"],Zb=C($T,xY,n=>{var{typed:e}=n,t=$i({typed:e});return e($T,{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)});var wY="tanh",_Y=["typed"],Jb=C(wY,_Y,n=>{var{typed:e}=n;return e("tanh",{number:up,"Complex | BigNumber":t=>t.tanh()})});var HT="setCartesian",SY=["typed","size","subset","compareNatural","Index","DenseMatrix"],Xb=C(HT,SY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(HT,{"Array | Matrix, Array | Matrix":function(s,u){var c=[];if(r(t(s),new a(0))!==0&&r(t(u),new a(0))!==0){var f=Tt(Array.isArray(s)?s:s.toArray()).sort(i),p=Tt(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)c.push([f[m],p[h]])}return Array.isArray(s)&&Array.isArray(u)?c:new o(c)}})});var GT="setDifference",AY=["typed","size","subset","compareNatural","Index","DenseMatrix"],Qb=C(GT,AY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(GT,{"Array | Matrix, Array | Matrix":function(s,u){var c;if(r(t(s),new a(0))===0)c=[];else{if(r(t(u),new a(0))===0)return Tt(s.toArray());var f=Ga(Tt(Array.isArray(s)?s:s.toArray()).sort(i)),p=Ga(Tt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var m,h=0;h<f.length;h++){m=!1;for(var d=0;d<p.length;d++)if(i(f[h].value,p[d].value)===0&&f[h].identifier===p[d].identifier){m=!0;break}m||c.push(f[h])}}return Array.isArray(s)&&Array.isArray(u)?vu(c):new o(vu(c))}})});var WT="setDistinct",NY=["typed","size","subset","compareNatural","Index","DenseMatrix"],Kb=C(WT,NY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(WT,{"Array | Matrix":function(s){var u;if(r(t(s),new a(0))===0)u=[];else{var c=Tt(Array.isArray(s)?s:s.toArray()).sort(i);u=[],u.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&u.push(c[f])}return Array.isArray(s)?u:new o(u)}})});var YT="setIntersect",DY=["typed","size","subset","compareNatural","Index","DenseMatrix"],ex=C(YT,DY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=n;return e(YT,{"Array | Matrix, Array | Matrix":function(s,u){var c;if(r(t(s),new a(0))===0||r(t(u),new a(0))===0)c=[];else{var f=Ga(Tt(Array.isArray(s)?s:s.toArray()).sort(i)),p=Ga(Tt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)if(i(f[m].value,p[h].value)===0&&f[m].identifier===p[h].identifier){c.push(f[m]);break}}return Array.isArray(s)&&Array.isArray(u)?vu(c):new o(vu(c))}})});var jT="setIsSubset",EY=["typed","size","subset","compareNatural","Index"],tx=C(jT,EY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(jT,{"Array | Matrix, Array | Matrix":function(l,s){if(r(t(l),new a(0))===0)return!0;if(r(t(s),new a(0))===0)return!1;for(var u=Ga(Tt(Array.isArray(l)?l:l.toArray()).sort(i)),c=Ga(Tt(Array.isArray(s)?s:s.toArray()).sort(i)),f,p=0;p<u.length;p++){f=!1;for(var m=0;m<c.length;m++)if(i(u[p].value,c[m].value)===0&&u[p].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var ZT="setMultiplicity",MY=["typed","size","subset","compareNatural","Index"],rx=C(ZT,MY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(ZT,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(l,s){if(r(t(s),new a(0))===0)return 0;for(var u=Tt(Array.isArray(s)?s:s.toArray()),c=0,f=0;f<u.length;f++)i(u[f],l)===0&&c++;return c}})});var JT="setPowerset",CY=["typed","size","subset","compareNatural","Index"],nx=C(JT,CY,n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:a}=n;return e(JT,{"Array | Matrix":function(u){if(r(t(u),new a(0))===0)return[];for(var c=Tt(Array.isArray(u)?u:u.toArray()).sort(i),f=[],p=0;p.toString(2).length<=c.length;)f.push(o(c,p.toString(2).split("").reverse())),p++;return l(f)}});function o(s,u){for(var c=[],f=0;f<u.length;f++)u[f]==="1"&&c.push(s[f]);return c}function l(s){for(var u=[],c=s.length-1;c>0;c--)for(var f=0;f<c;f++)s[f].length>s[f+1].length&&(u=s[f],s[f]=s[f+1],s[f+1]=u);return s}});var XT="setSize",TY=["typed","compareNatural"],ix=C(XT,TY,n=>{var{typed:e,compareNatural:t}=n;return e(XT,{"Array | Matrix":function(i){return Array.isArray(i)?Tt(i).length:Tt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Tt(i).length:Tt(i.toArray()).length;for(var o=Tt(Array.isArray(i)?i:i.toArray()).sort(t),l=1,s=1;s<o.length;s++)t(o[s],o[s-1])!==0&&l++;return l}})});var QT="setSymDifference",FY=["typed","size","concat","subset","setDifference","Index"],ax=C(QT,FY,n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:a,Index:o}=n;return e(QT,{"Array | Matrix, Array | Matrix":function(s,u){if(i(t(s),new o(0))===0)return Tt(u);if(i(t(u),new o(0))===0)return Tt(s);var c=Tt(s),f=Tt(u);return r(a(c,f),a(f,c))}})});var KT="setUnion",IY=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],ox=C(KT,IY,n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:a,setSymDifference:o,Index:l}=n;return e(KT,{"Array | Matrix, Array | Matrix":function(u,c){if(i(t(u),new l(0))===0)return Tt(c);if(i(t(c),new l(0))===0)return Tt(u);var f=Tt(u),p=Tt(c);return r(o(f,p),a(f,p))}})});var e2="add",PY=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],sx=C(e2,PY,n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:l}=n,s=Ln({typed:e}),u=Au({typed:e,equalScalar:i}),c=ui({typed:e,DenseMatrix:a}),f=At({typed:e,matrix:t,concat:l});return e(e2,{"any, any":r,"any, any, ...any":e.referToSelf(p=>(m,h,d)=>{for(var v=p(m,h),b=0;b<d.length;b++)v=p(v,d[b]);return v})},f({elop:r,DS:s,SS:u,Ss:c}))});var t2="hypot",BY=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],ux=C(t2,BY,n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:l,isPositive:s}=n;return e(t2,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Tt(c.toArray()))});function u(c){for(var f=0,p=0,m=0;m<c.length;m++){if(Xn(c[m]))throw new TypeError("Unexpected type of argument to hypot");var h=t(c[m]);l(p,h)?(f=a(f,a(i(p,h),i(p,h))),f=r(f,1),p=h):f=r(f,s(h)?a(i(h,p),i(h,p)):h)}return a(p,o(f))}});var r2="norm",OY=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],lx=C(r2,OY,n=>{var{typed:e,abs:t,add:r,pow:i,conj:a,sqrt:o,multiply:l,equalScalar:s,larger:u,smaller:c,matrix:f,ctranspose:p,eigs:m}=n;return e(r2,{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return x(f(D),2)},Matrix:function(D){return x(D,2)},"Array, number | BigNumber | string":function(D,N){return x(f(D),N)},"Matrix, number | BigNumber | string":function(D,N){return x(D,N)}});function h(M){var D=0;return M.forEach(function(N){var E=t(N);u(E,D)&&(D=E)},!0),D}function d(M){var D;return M.forEach(function(N){var E=t(N);(!D||c(E,D))&&(D=E)},!0),D||0}function v(M,D){if(D===Number.POSITIVE_INFINITY||D==="inf")return h(M);if(D===Number.NEGATIVE_INFINITY||D==="-inf")return d(M);if(D==="fro")return x(M,2);if(typeof D=="number"&&!isNaN(D)){if(!s(D,0)){var N=0;return M.forEach(function(E){N=r(i(t(E),D),N)},!0),i(N,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function b(M){var D=0;return M.forEach(function(N,E){D=r(D,l(N,a(N)))}),t(o(D))}function S(M){var D=[],N=0;return M.forEach(function(E,P){var O=P[1],U=r(D[O]||0,t(E));u(U,N)&&(N=U),D[O]=U},!0),N}function y(M){var D=M.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var N=p(M),E=l(N,M),P=m(E).values.toArray(),O=P[P.length-1];return t(o(O))}function w(M){var D=[],N=0;return M.forEach(function(E,P){var O=P[0],U=r(D[O]||0,t(E));u(U,N)&&(N=U),D[O]=U},!0),N}function _(M,D){if(D===1)return S(M);if(D===Number.POSITIVE_INFINITY||D==="inf")return w(M);if(D==="fro")return b(M);if(D===2)return y(M);throw new Error("Unsupported parameter value "+D)}function x(M,D){var N=M.size();if(N.length===1)return v(M,D);if(N.length===2){if(N[0]&&N[1])return _(M,D);throw new RangeError("Invalid matrix dimensions")}}});var n2="dot",kY=["typed","addScalar","multiplyScalar","conj","size"],cx=C(n2,kY,n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:a}=n;return e(n2,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":s});function o(c,f){var p=u(c),m=u(f),h,d;if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function l(c,f){var p=o(c,f),m=rt(c)?c._data:c,h=rt(c)?c._datatype||c.getDataType():void 0,d=rt(f)?f._data:f,v=rt(f)?f._datatype||f.getDataType():void 0,b=u(c).length===2,S=u(f).length===2,y=t,w=r;if(h&&v&&h===v&&typeof h=="string"&&h!=="mixed"){var _=h;y=e.find(t,[_,_]),w=e.find(r,[_,_])}if(!b&&!S){for(var x=w(i(m[0]),d[0]),M=1;M<p;M++)x=y(x,w(i(m[M]),d[M]));return x}if(!b&&S){for(var D=w(i(m[0]),d[0][0]),N=1;N<p;N++)D=y(D,w(i(m[N]),d[N][0]));return D}if(b&&!S){for(var E=w(i(m[0][0]),d[0]),P=1;P<p;P++)E=y(E,w(i(m[P][0]),d[P]));return E}if(b&&S){for(var O=w(i(m[0][0]),d[0][0]),U=1;U<p;U++)O=y(O,w(i(m[U][0]),d[U][0]));return O}}function s(c,f){o(c,f);for(var p=c._index,m=c._values,h=f._index,d=f._values,v=0,b=t,S=r,y=0,w=0;y<p.length&&w<h.length;){var _=p[y],x=h[w];if(_<x){y++;continue}if(_>x){w++;continue}_===x&&(v=b(v,S(m[y],d[w])),y++,w++)}return v}function u(c){return rt(c)?c.size():a(c)}});var RY="trace",LY=["typed","matrix","add"],fx=C(RY,LY,n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(l){return i(t(l))},SparseMatrix:a,DenseMatrix:i,any:lt});function i(o){var l=o._size,s=o._data;switch(l.length){case 1:if(l[0]===1)return lt(s[0]);throw new RangeError("Matrix must be square (size: "+vt(l)+")");case 2:{var u=l[0],c=l[1];if(u===c){for(var f=0,p=0;p<u;p++)f=r(f,s[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+vt(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(l)+")")}}function a(o){var l=o._values,s=o._index,u=o._ptr,c=o._size,f=c[0],p=c[1];if(f===p){var m=0;if(l.length>0)for(var h=0;h<p;h++)for(var d=u[h],v=u[h+1],b=d;b<v;b++){var S=s[b];if(S===h){m=r(m,l[b]);break}if(S>h)break}return m}throw new RangeError("Matrix must be square (size: "+vt(c)+")")}});var i2="index",UY=["typed","Index"],px=C(i2,UY,n=>{var{typed:e,Index:t}=n;return e(i2,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(l){return at(l)?l.toNumber():Wt(l)||rt(l)?l.map(function(s){return at(s)?s.toNumber():s}):l}),o=new t;return t.apply(o,a),o}})});var Vp=new Set(["end"]);var VY="Node",qY=["mathWithTransform"],mx=C(VY,qY,n=>{var{mathWithTransform:e}=n;function t(i){for(var a of[...Vp])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class r{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},l=null;function s(u){var c=Wa(u);return t(c),a(c,o,l)}return{evaluate:s}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Ut(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(l,s){l.forEach(function(u,c,f){s(u,c,f),o(u,s)})}o(this,a)}transform(a){function o(l,s,u){var c=a(l,s,u);return c!==l?c:l.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(l,s,u){a(l,s,u)&&o.push(l)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&ia(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return r},{isClass:!0,isNode:!0});function Nr(n){return n&&n.isIndexError?new Dn(n.index+1,n.min+1,n.max!==void 0?n.max+1:void 0):n}function qp(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&typeof r.subset=="function")return r.subset(i);if(typeof r=="string")return e(r,i);if(typeof r=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Tr(r,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Nr(a)}}}var zp="AccessorNode",zY=["subset","Node"],dx=C(zp,zY,n=>{var{subset:e,Node:t}=n,r=qp({subset:e});function i(o){return!(wi(o)||An(o)||Ot(o)||Qn(o)||_o(o)||Nn(o)||xr(o))}class a extends t{constructor(l,s){if(super(),!Ut(l))throw new TypeError('Node expected for parameter "object"');if(!Li(s))throw new TypeError('IndexNode expected for parameter "index"');this.object=l,this.index=s}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return zp}get isAccessorNode(){return!0}_compile(l,s){var u=this.object._compile(l,s),c=this.index._compile(l,s);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,d){return Tr(u(m,h,d),f)}}else return function(m,h,d){var v=u(m,h,d),b=c(m,h,v);return r(v,b)}}forEach(l){l(this.object,"object",this),l(this.index,"index",this)}map(l){return new a(this._ifNode(l(this.object,"object",this)),this._ifNode(l(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(l){var s=this.object.toString(l);return i(this.object)&&(s="("+s+")"),s+this.index.toString(l)}_toHTML(l){var s=this.object.toHTML(l);return i(this.object)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+this.index.toHTML(l)}_toTex(l){var s=this.object.toTex(l);return i(this.object)&&(s="\\left(' + object + '\\right)"),s+this.index.toTex(l)}toJSON(){return{mathjs:zp,object:this.object,index:this.index}}static fromJSON(l){return new a(l.object,l.index)}}return ir(a,"name",zp),a},{isClass:!0,isNode:!0});var $p="ArrayNode",$Y=["Node"],hx=C($p,$Y,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Ut))throw new TypeError("Array containing Nodes expected")}get type(){return $p}get isArrayNode(){return!0}_compile(i,a){var o=ai(this.items,function(u){return u._compile(i,a)}),l=i.config.matrix!=="Array";if(l){var s=i.matrix;return function(c,f,p){return s(ai(o,function(m){return m(c,f,p)}))}}else return function(c,f,p){return ai(o,function(m){return m(c,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:$p,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,l){var s=o.some(An)&&!o.every(An),u=l||s,c=u?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!l):p.toTex(i)}).join(c);return s||!u||u&&!l?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return ir(t,"name",$p),t},{isClass:!0,isNode:!0});function a2(n){var{subset:e,matrix:t}=n;return function(i,a,o){try{if(Array.isArray(i)){var l=t(i).subset(a,o).valueOf();return l.forEach((s,u)=>{i[u]=s}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return wa(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(s){throw Nr(s)}}}var Hi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Hp(n,e){if(!e||e!=="auto")return n;for(var t=n;Nn(t);)t=t.content;return t}function cr(n,e,t,r){var i=n;e!=="keep"&&(i=n.getContent());for(var a=i.getIdentifier(),o=null,l=0;l<Hi.length;l++)if(a in Hi[l]){o=l;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var s=Hp(i.args[0],e);!(Ot(s)&&r&&r.getIdentifier()==="OperatorNode:divide"&&El(Hp(r.args[0],e)))&&!(s.getIdentifier()==="OperatorNode:divide"&&El(Hp(s.args[0],e))&&Ot(Hp(s.args[1])))&&(o+=1)}return o}function Fu(n,e){var t=n;e!=="keep"&&(t=n.getContent());var r=t.getIdentifier(),i=cr(t,e);if(i===null)return null;var a=Hi[i][r];if(nt(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function Gp(n,e,t){var r=t!=="keep"?n.getContent():n,i=t!=="keep"?n.getContent():e,a=r.getIdentifier(),o=i.getIdentifier(),l=cr(r,t);if(l===null)return null;var s=Hi[l][a];if(nt(s,"associativeWith")&&s.associativeWith instanceof Array){for(var u=0;u<s.associativeWith.length;u++)if(s.associativeWith[u]===o)return!0;return!1}return null}function o2(n){var e="OperatorNode:"+n;for(var t of Hi)if(e in t)return t[e].op;return null}var Wp="AssignmentNode",HY=["subset","?matrix","Node"],gx=C(Wp,HY,n=>{var{subset:e,matrix:t,Node:r}=n,i=qp({subset:e}),a=a2({subset:e,matrix:t});function o(s,u,c){u||(u="keep");var f=cr(s,u,c),p=cr(s.value,u,c);return u==="all"||p!==null&&p<=f}class l extends r{constructor(u,c,f){if(super(),this.object=u,this.index=f?c:null,this.value=f||c,!xr(u)&&!wi(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(xr(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Li(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ut(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Wp}get isAssignmentNode(){return!0}_compile(u,c){var f=this.object._compile(u,c),p=this.index?this.index._compile(u,c):null,m=this.value._compile(u,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(w,_,x){var M=f(w,_,x),D=m(w,_,x);return wa(M,d,D),D}}else{if(xr(this.object))return function(w,_,x){var M=f(w,_,x),D=m(w,_,x),N=p(w,_,M);return w.set(h,a(M,N,D)),D};var v=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var b=this.object.index.getObjectProperty();return function(w,_,x){var M=v(w,_,x),D=Tr(M,b),N=p(w,_,D),E=m(w,_,x);return wa(M,b,a(D,N,E)),E}}else{var S=this.object.index._compile(u,c);return function(w,_,x){var M=v(w,_,x),D=S(w,_,M),N=i(M,D),E=p(w,_,N),P=m(w,_,x);return a(M,D,a(N,E,P)),P}}}else{if(!xr(this.object))throw new TypeError("SymbolNode expected as object");return function(w,_,x){var M=m(w,_,x);return w.set(h,M),M}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),f=this.index?this._ifNode(u(this.index,"index",this)):null,p=this._ifNode(u(this.value,"value",this));return new l(c,f,p)}clone(){return new l(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),f=this.index?this.index.toString(u):"",p=this.value.toString(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p="("+p+")"),c+f+" = "+p}toJSON(){return{mathjs:Wp,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new l(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),f=this.index?this.index.toHTML(u):"",p=this.value.toHTML(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(u){var c=this.object.toTex(u),f=this.index?this.index.toTex(u):"",p=this.value.toTex(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p="\\left(".concat(p,"\\right)")),c+f+"="+p}}return ir(l,"name",Wp),l},{isClass:!0,isNode:!0});var Yp="BlockNode",GY=["ResultSet","Node"],vx=C(Yp,GY,n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var l=o&&o.node,s=o&&o.visible!==void 0?o.visible:!0;if(!Ut(l))throw new TypeError('Property "node" must be a Node');if(typeof s!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:l,visible:s}})}get type(){return Yp}get isBlockNode(){return!0}_compile(a,o){var l=ai(this.blocks,function(s){return{evaluate:s.node._compile(a,o),visible:s.visible}});return function(u,c,f){var p=[];return So(l,function(h){var d=h.evaluate(u,c,f);h.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],l=0;l<this.blocks.length;l++){var s=this.blocks[l],u=this._ifNode(a(s.node,"blocks["+l+"].node",this));o[l]={node:u,visible:s.visible}}return new r(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
    `)}toJSON(){return{mathjs:Yp,blocks:this.blocks}}static fromJSON(a){return new r(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
    `)}}return ir(r,"name",Yp),r},{isClass:!0,isNode:!0});var jp="ConditionalNode",WY=["Node"],yx=C(jp,WY,n=>{var{Node:e}=n;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(at(i))return!i.isZero();if(Xn(i))return!!(i.re||i.im);if(Sn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+$t(i)+'"')}class r extends e{constructor(a,o,l){if(super(),!Ut(a))throw new TypeError("Parameter condition must be a Node");if(!Ut(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Ut(l))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=l}get type(){return jp}get isConditionalNode(){return!0}_compile(a,o){var l=this.condition._compile(a,o),s=this.trueExpr._compile(a,o),u=this.falseExpr._compile(a,o);return function(f,p,m){return t(l(f,p,m))?s(f,p,m):u(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new r(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=cr(this,o,a&&a.implicit),s=this.condition.toString(a),u=cr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=l)&&(s="("+s+")");var c=this.trueExpr.toString(a),f=cr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c="("+c+")");var p=this.falseExpr.toString(a),m=cr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=l)&&(p="("+p+")"),s+" ? "+c+" : "+p}toJSON(){return{mathjs:jp,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new r(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=cr(this,o,a&&a.implicit),s=this.condition.toHTML(a),u=cr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=l)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=cr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=cr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=l)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return ir(r,"name",jp),r},{isClass:!0,isNode:!0});var c2=br(u2(),1);var xx={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ar={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},wx={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ar.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ar.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ar.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ar.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ar.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ar.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ar.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ar.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ar.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ar.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ar.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ar.bitAnd,"${args[1]}\\right)")},bitNot:{1:ar.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ar.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ar.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ar.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ar.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ar.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ar.and,"${args[1]}\\right)")},not:{1:ar.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ar.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ar.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ar.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ar.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ar.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ar.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ar.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ar.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ar.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ar.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ar.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ar.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ar.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(xx.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},f2="\\mathrm{${name}}\\left(${args}\\right)",l2={deg:"^\\circ"};function Zp(n){return(0,c2.default)(n,{preserveFormatting:!0})}function Jp(n,e){return e=typeof e=="undefined"?!1:e,e?nt(l2,n)?l2[n]:"\\mathrm{"+Zp(n)+"}":nt(xx,n)?xx[n]:Zp(n)}var Xp="ConstantNode",JY=["Node"],_x=C(Xp,JY,n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return Xp}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return vt(this.value,i)}_toHTML(i){var a=this._toString(i);switch($t(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Xp,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i),o=$t(this.value);switch(o){case"string":return"\\mathtt{"+Zp(a)+"}";case"number":case"BigNumber":{var l=o==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!l)return this.value.valueOf()<0?"-\\infty":"\\infty";var s=a.toLowerCase().indexOf("e");return s!==-1?a.substring(0,s)+"\\cdot10^{"+a.substring(s+1)+"}":a}case"Fraction":return this.value.toLatex();default:return a}}}return ir(t,"name",Xp),t},{isClass:!0,isNode:!0});var Qp="FunctionAssignmentNode",XY=["typed","Node"],Sx=C(Qp,XY,n=>{var{typed:e,Node:t}=n;function r(a,o,l){var s=cr(a,o,l),u=cr(a.expr,o,l);return o==="all"||u!==null&&u<=s}class i extends t{constructor(o,l,s){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(l))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ut(s))throw new TypeError('Node expected for parameter "expr"');if(Vp.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var u=new Set;for(var c of l){var f=typeof c=="string"?c:c.name;if(u.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));u.add(f)}this.name=o,this.params=l.map(function(p){return p&&p.name||p}),this.types=l.map(function(p){return p&&p.type||"any"}),this.expr=s}get type(){return Qp}get isFunctionAssignmentNode(){return!0}_compile(o,l){var s=Object.create(l);So(this.params,function(h){s[h]=!0});var u=this.expr._compile(o,s),c=this.name,f=this.params,p=Bg(this.types,","),m=c+"("+Bg(this.params,", ")+")";return function(d,v,b){var S={};S[p]=function(){for(var w=Object.create(v),_=0;_<f.length;_++)w[f[_]]=arguments[_];return u(d,w,b)};var y=e(c,S);return y.syntax=m,d.set(c,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var l=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),l)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",s=this.expr.toString(o);return r(this,l,o&&o.implicit)&&(s="("+s+")"),this.name+"("+this.params.join(", ")+") = "+s}toJSON(){var o=this.types;return{mathjs:Qp,name:this.name,params:this.params.map(function(l,s){return{name:l,type:o[s]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",s=[],u=0;u<this.params.length;u++)s.push('<span class="math-symbol math-parameter">'+pn(this.params[u])+"</span>");var c=this.expr.toHTML(o);return r(this,l,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+pn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",s=this.expr.toTex(o);return r(this,l,o&&o.implicit)&&(s="\\left(".concat(s,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Jp).join(",")+"\\right)="+s}}return ir(i,"name",Qp),i},{isClass:!0,isNode:!0});var Kp="IndexNode",QY=["Node","size"],Ax=C(Kp,QY,n=>{var{Node:e,size:t}=n;class r extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(Ut))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Kp}get isIndexNode(){return!0}_compile(a,o){var l=ai(this.dimensions,function(u,c){var f=u.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=u._compile(a,p);return function(d,v,b){if(!rt(b)&&!Wt(b)&&!qr(b))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+$t(b));var S=t(b).valueOf(),y=Object.create(v);return y.end=S[c],m(d,y,b)}}else return u._compile(a,o)}),s=Tr(a,"index");return function(c,f,p){var m=ai(l,function(h){return h(c,f,p)});return s(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this._ifNode(a(this.dimensions[l],"dimensions["+l+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Ot(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Kp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new r(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this.dimensions[l].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+pn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(l){return l.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return ir(r,"name",Kp),r},{isClass:!0,isNode:!0});var em="ObjectNode",KY=["Node"],Nx=C(em,KY,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Ut(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return em}get isObjectNode(){return!0}_compile(i,a){var o={};for(var l in this.properties)if(nt(this.properties,l)){var s=ms(l),u=JSON.parse(s),c=Tr(this.properties,l);o[u]=c._compile(i,a)}return function(p,m,h){var d={};for(var v in o)nt(o,v)&&(d[v]=o[v](p,m,h));return d}}forEach(i){for(var a in this.properties)nt(this.properties,a)&&i(this.properties[a],"properties["+ms(a)+"]",this)}map(i){var a={};for(var o in this.properties)nt(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+ms(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)nt(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push(ms(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:em,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push('<span class="math-symbol math-property">'+pn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)nt(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var l="\\left\\{\\begin{array}{ll}"+a.join(`
    `)+"\\end{array}\\right\\}";return l}}return ir(t,"name",em),t},{isClass:!0,isNode:!0});function ws(n,e){return new yu(n,new hs(e),new Set(Object.keys(e)))}var tm="OperatorNode",ej=["Node"],Dx=C(tm,ej,n=>{var{Node:e}=n;function t(a,o){var l=a;if(o==="auto")for(;Nn(l);)l=l.content;return Ot(l)?!0:Mr(l)?t(l.args[0],o):!1}function r(a,o,l,s,u){var c=cr(a,o,l),f=Fu(a,o);if(o==="all"||s.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return s.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(s.length){case 0:p=[];break;case 1:{var m=cr(s[0],o,l,a);if(u&&m!==null){var h,d;if(o==="keep"?(h=s[0].getIdentifier(),d=a.getIdentifier()):(h=s[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),Hi[c][d].latexLeftParens===!1){p=[!1];break}if(Hi[m][h].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=c){p=[!0];break}p=[!1]}break;case 2:{var v,b=cr(s[0],o,l,a),S=Gp(a,s[0],o);b===null?v=!1:b===c&&f==="right"&&!S||b<c?v=!0:v=!1;var y,w=cr(s[1],o,l,a),_=Gp(a,s[1],o);if(w===null?y=!1:w===c&&f==="left"&&!_||w<c?y=!0:y=!1,u){var x,M,D;o==="keep"?(x=a.getIdentifier(),M=a.args[0].getIdentifier(),D=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),M=a.args[0].getContent().getIdentifier(),D=a.args[1].getContent().getIdentifier()),b!==null&&(Hi[c][x].latexLeftParens===!1&&(v=!1),Hi[b][M].latexParens===!1&&(v=!1)),w!==null&&(Hi[c][x].latexRightParens===!1&&(y=!1),Hi[w][D].latexParens===!1&&(y=!1))}p=[v,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=s.map(function(E){var P=cr(E,o,l,a),O=Gp(a,E,o),U=Fu(E,o);return P===null?!1:c===P&&f===U&&!O?!0:P<c}));break}if(s.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&l==="hide")for(var N=1;N<p.length;++N)t(s[N],o)&&!p[N-1]&&(o!=="keep"||!Nn(s[N-1]))&&(p[N]=!0);return p}class i extends e{constructor(o,l,s,u,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof l!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(s)||!s.every(Ut))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=o,this.fn=l,this.args=s||[]}get type(){return tm}get isOperatorNode(){return!0}_compile(o,l){if(typeof this.fn!="string"||!pp(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var s=Tr(o,this.fn),u=ai(this.args,function(h){return h._compile(o,l)});if(typeof s=="function"&&s.rawArgs===!0){var c=this.args;return function(d,v,b){return s(c,o,ws(d,v))}}else if(u.length===1){var f=u[0];return function(d,v,b){return s(f(d,v,b))}}else if(u.length===2){var p=u[0],m=u[1];return function(d,v,b){return s(p(d,v,b),m(d,v,b))}}else return function(d,v,b){return s.apply(null,ai(u,function(S){return S(d,v,b)}))}}forEach(o){for(var l=0;l<this.args.length;l++)o(this.args[l],"args["+l+"]",this)}map(o){for(var l=[],s=0;s<this.args.length;s++)l[s]=this._ifNode(o(this.args[s],"args["+s+"]",this));return new i(this.op,this.fn,l,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",u=this.args,c=r(this,l,s,u,!1);if(u.length===1){var f=Fu(this,l),p=u[0].toString(o);c[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(u.length===2){var h=u[0].toString(o),d=u[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=u.map(function(b,S){return b=b.toString(o),c[S]&&(b="("+b+")"),b});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:tm,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",u=this.args,c=r(this,l,s,u,!1);if(u.length===1){var f=Fu(this,l),p=u[0].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+pn(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+pn(this.op)+"</span>"}else if(u.length===2){var m=u[0].toHTML(o),h=u[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+pn(this.op)+"</span>"+h}else{var d=u.map(function(v,b){return v=v.toHTML(o),c[b]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&s==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+pn(this.op)+"</span>"):'<span class="math-function">'+pn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",s=o&&o.implicit?o.implicit:"hide",u=this.args,c=r(this,l,s,u,!0),f=ar[this.fn];if(f=typeof f=="undefined"?this.op:f,u.length===1){var p=Fu(this,l),m=u[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(u.length===2){var h=u[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var v=u[1],b=v.toTex(o);c[1]&&(b="\\left(".concat(b,"\\right)"));var S;switch(l==="keep"?S=h.getIdentifier():S=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+b+"}";case"OperatorNode:pow":switch(d="{"+d+"}",b="{"+b+"}",S){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&s==="hide")return d+"~"+b}return d+f+b}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=u.map(function(w,_){return w=w.toTex(o),c[_]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&s==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(w){return w.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return ir(i,"name",tm),i},{isClass:!0,isNode:!0});var rm="ParenthesisNode",tj=["Node"],Ex=C(rm,tj,n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!Ut(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return rm}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:rm,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return ir(t,"name",rm),t},{isClass:!0,isNode:!0});var nm="RangeNode",rj=["Node"],Mx=C(nm,rj,n=>{var{Node:e}=n;function t(i,a,o){var l=cr(i,a,o),s={},u=cr(i.start,a,o);if(s.start=u!==null&&u<=l||a==="all",i.step){var c=cr(i.step,a,o);s.step=c!==null&&c<=l||a==="all"}var f=cr(i.end,a,o);return s.end=f!==null&&f<=l||a==="all",s}class r extends e{constructor(a,o,l){if(super(),!Ut(a))throw new TypeError("Node expected");if(!Ut(o))throw new TypeError("Node expected");if(l&&!Ut(l))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=l||null}get type(){return nm}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return xr(o)&&o.name==="end"});return a.length>0}_compile(a,o){var l=a.range,s=this.start._compile(a,o),u=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(p,m,h){return l(s(p,m,h),u(p,m,h),c(p,m,h))}}else return function(p,m,h){return l(s(p,m,h),u(p,m,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new r(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),s,u=this.start.toString(a);if(l.start&&(u="("+u+")"),s=u,this.step){var c=this.step.toString(a);l.step&&(c="("+c+")"),s+=":"+c}var f=this.end.toString(a);return l.end&&(f="("+f+")"),s+=":"+f,s}toJSON(){return{mathjs:nm,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new r(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),s,u=this.start.toHTML(a);if(l.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s=u,this.step){var c=this.step.toHTML(a);l.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return l.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s+='<span class="math-operator math-range-operator">:</span>'+f,s}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),s=this.start.toTex(a);if(l.start&&(s="\\left(".concat(s,"\\right)")),this.step){var u=this.step.toTex(a);l.step&&(u="\\left(".concat(u,"\\right)")),s+=":"+u}var c=this.end.toTex(a);return l.end&&(c="\\left(".concat(c,"\\right)")),s+=":"+c,s}}return ir(r,"name",nm),r},{isClass:!0,isNode:!0});var im="RelationalNode",nj=["Node"],Cx=C(im,nj,n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return im}get isRelationalNode(){return!0}_compile(a,o){var l=this,s=this.params.map(u=>u._compile(a,o));return function(c,f,p){for(var m,h=s[0](c,f,p),d=0;d<l.conditionals.length;d++){m=h,h=s[d+1](c,f,p);var v=Tr(a,l.conditionals[d]);if(!v(m,h))return!1}return!0}}forEach(a){this.params.forEach((o,l)=>a(o,"params["+l+"]",this),this)}map(a){return new r(this.conditionals.slice(),this.params.map((o,l)=>this._ifNode(a(o,"params["+l+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=cr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=cr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?"("+f.toString(a)+")":f.toString(a)}),u=s[0],c=0;c<this.conditionals.length;c++)u+=" "+t[this.conditionals[c]],u+=" "+s[c+1];return u}toJSON(){return{mathjs:im,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new r(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=cr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=cr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),u=s[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+pn(t[this.conditionals[c]])+"</span>"+s[c+1];return u}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=cr(this,o,a&&a.implicit),s=this.params.map(function(f,p){var m=cr(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),u=s[0],c=0;c<this.conditionals.length;c++)u+=ar[this.conditionals[c]]+s[c+1];return u}}return ir(r,"name",im),r},{isClass:!0,isNode:!0});var ij="SymbolNode",aj=["math","?Unit","Node"],Tx=C(ij,aj,n=>{var{math:e,Unit:t,Node:r}=n;function i(o){return t?t.isValuelessUnit(o):!1}class a extends r{constructor(l){if(super(),typeof l!="string")throw new TypeError('String expected for parameter "name"');this.name=l}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(l,s){var u=this.name;if(s[u]===!0)return function(f,p,m){return Tr(p,u)};if(u in l)return function(f,p,m){return f.has(u)?f.get(u):Tr(l,u)};var c=i(u);return function(f,p,m){return f.has(u)?f.get(u):c?new t(null,u):a.onUndefinedSymbol(u)}}forEach(l){}map(l){return this.clone()}static onUndefinedSymbol(l){throw new Error("Undefined symbol "+l)}clone(){return new a(this.name)}_toString(l){return this.name}_toHTML(l){var s=pn(this.name);return s==="true"||s==="false"?'<span class="math-symbol math-boolean">'+s+"</span>":s==="i"?'<span class="math-symbol math-imaginary-symbol">'+s+"</span>":s==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+s+"</span>":s==="NaN"?'<span class="math-symbol math-nan-symbol">'+s+"</span>":s==="null"?'<span class="math-symbol math-null-symbol">'+s+"</span>":s==="undefined"?'<span class="math-symbol math-undefined-symbol">'+s+"</span>":'<span class="math-symbol">'+s+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(l){return new a(l.name)}_toTex(l){var s=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(s=!0);var u=Jp(this.name,s);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0});var am="FunctionNode",oj=["math","Node","SymbolNode"],Fx=C(am,oj,n=>{var e,{math:t,Node:r,SymbolNode:i}=n,a=s=>vt(s,{truncate:78});function o(s,u,c){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=p.exec(s))!==null;)if(f+=s.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var d=u[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(Ut(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(v,b){if(Ut(v))return v.toTex(c);throw new TypeError("Template: "+h[1]+"["+b+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(Ut(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=s.slice(m),f}class l extends r{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!Ut(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Ut))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return am}get isFunctionNode(){return!0}_compile(u,c){var f=this.args.map(D=>D._compile(u,c));if(xr(this.fn)){var p=this.fn.name;if(c[p]){var b=this.args;return function(N,E,P){var O=Tr(E,p);if(typeof O!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(O)));if(O.rawArgs)return O(b,u,ws(N,E));var U=f.map(z=>z(N,E,P));return O.apply(O,U)}}else{var m=p in u?Tr(u,p):void 0,h=typeof m=="function"&&m.rawArgs===!0,d=D=>{var N;if(D.has(p))N=D.get(p);else if(p in u)N=Tr(u,p);else return l.onUndefinedFunction(p);if(typeof N=="function")return N;throw new TypeError("'".concat(p,`' is not a function; its value is:
      `).concat(a(N)))};if(h){var v=this.args;return function(N,E,P){var O=d(N);return O(v,u,ws(N,E))}}else switch(f.length){case 0:return function(N,E,P){var O=d(N);return O()};case 1:return function(N,E,P){var O=d(N),U=f[0];return O(U(N,E,P))};case 2:return function(N,E,P){var O=d(N),U=f[0],z=f[1];return O(U(N,E,P),z(N,E,P))};default:return function(N,E,P){var O=d(N),U=f.map(z=>z(N,E,P));return O(...U)}}}}else if(wi(this.fn)&&Li(this.fn.index)&&this.fn.index.isObjectProperty()){var S=this.fn.object._compile(u,c),y=this.fn.index.getObjectProperty(),w=this.args;return function(N,E,P){var O=S(N,E,P),U=_E(O,y);if(U!=null&&U.rawArgs)return U(w,u,ws(N,E));var z=f.map(L=>L(N,E,P));return U.apply(O,z)}}else{var _=this.fn.toString(),x=this.fn._compile(u,c),M=this.args;return function(N,E,P){var O=x(N,E,P);if(typeof O!="function")throw new TypeError("Expression '".concat(_,"' did not evaluate to a function; value is:")+`
      `.concat(a(O)));if(O.rawArgs)return O(M,u,ws(N,E));var U=f.map(z=>z(N,E,P));return O.apply(O,U)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(u(this.args[p],"args["+p+"]",this));return new l(c,f)}clone(){return new l(this.fn,this.args.slice(0))}toString(u){var c,f=this.fn.toString(u);return u&&typeof u.handler=="object"&&nt(u.handler,f)&&(c=u.handler[f](this,u)),typeof c!="undefined"?c:super.toString(u)}_toString(u){var c=this.args.map(function(p){return p.toString(u)}),f=xa(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:am,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(f){return f.toHTML(u)});return'<span class="math-function">'+pn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&nt(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c!="undefined"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(m){return m.toTex(u)}),f;wx[this.name]&&(f=wx[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,u);break;case"string":p=o(f,this,u);break;case"object":switch(typeof f[c.length]){case"function":p=f[c.length](this,u);break;case"string":p=o(f[c.length],this,u);break}}return typeof p!="undefined"?p:o(f2,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=l,ir(l,"name",am),ir(l,"onUndefinedFunction",function(s){throw new Error("Undefined function "+s)}),ir(l,"fromJSON",function(s){return new e(s.fn,s.args)}),l},{isClass:!0,isNode:!0});var p2="parse",sj=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Ix=C(p2,sj,n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:l,ConditionalNode:s,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:h,ParenthesisNode:d,RangeNode:v,RelationalNode:b,SymbolNode:S}=n,y=e(p2,{string:function(W){return j(W,{})},"Array | Matrix":function(W){return w(W,{})},"string, Object":function(W,me){var Oe=me.nodes!==void 0?me.nodes:{};return j(W,Oe)},"Array | Matrix, Object":w});function w(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=W.nodes!==void 0?W.nodes:{};return it(F,function(Oe){if(typeof Oe!="string")throw new TypeError("String expected");return j(Oe,me)})}var _={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
    `,r:"\r",t:"	"};function P(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:_.NULL,nestingLevel:0,conditionalLevel:null}}function O(F,W){return F.expression.substr(F.index,W)}function U(F){return O(F,1)}function z(F){F.index++}function L(F){return F.expression.charAt(F.index-1)}function B(F){return F.expression.charAt(F.index+1)}function T(F){for(F.tokenType=_.NULL,F.token="",F.comment="";;){if(U(F)==="#")for(;U(F)!==`
    `&&U(F)!=="";)F.comment+=U(F),z(F);if(y.isWhitespace(U(F),F.nestingLevel))z(F);else break}if(U(F)===""){F.tokenType=_.DELIMITER;return}if(U(F)===`
    `&&!F.nestingLevel){F.tokenType=_.DELIMITER,F.token=U(F),z(F);return}var W=U(F),me=O(F,2),Oe=O(F,3);if(Oe.length===3&&x[Oe]){F.tokenType=_.DELIMITER,F.token=Oe,z(F),z(F),z(F);return}if(me.length===2&&x[me]){F.tokenType=_.DELIMITER,F.token=me,z(F),z(F);return}if(x[W]){F.tokenType=_.DELIMITER,F.token=W,z(F);return}if(y.isDigitDot(W)){F.tokenType=_.NUMBER;var ot=O(F,2);if(ot==="0b"||ot==="0o"||ot==="0x"){for(F.token+=U(F),z(F),F.token+=U(F),z(F);y.isHexDigit(U(F));)F.token+=U(F),z(F);if(U(F)===".")for(F.token+=".",z(F);y.isHexDigit(U(F));)F.token+=U(F),z(F);else if(U(F)==="i")for(F.token+="i",z(F);y.isDigit(U(F));)F.token+=U(F),z(F);return}if(U(F)==="."){if(F.token+=U(F),z(F),!y.isDigit(U(F))){F.tokenType=_.DELIMITER;return}}else{for(;y.isDigit(U(F));)F.token+=U(F),z(F);y.isDecimalMark(U(F),B(F))&&(F.token+=U(F),z(F))}for(;y.isDigit(U(F));)F.token+=U(F),z(F);if(U(F)==="E"||U(F)==="e"){if(y.isDigit(B(F))||B(F)==="-"||B(F)==="+"){if(F.token+=U(F),z(F),(U(F)==="+"||U(F)==="-")&&(F.token+=U(F),z(F)),!y.isDigit(U(F)))throw Ve(F,'Digit expected, got "'+U(F)+'"');for(;y.isDigit(U(F));)F.token+=U(F),z(F);if(y.isDecimalMark(U(F),B(F)))throw Ve(F,'Digit expected, got "'+U(F)+'"')}else if(B(F)===".")throw z(F),Ve(F,'Digit expected, got "'+U(F)+'"')}return}if(y.isAlpha(U(F),L(F),B(F))){for(;y.isAlpha(U(F),L(F),B(F))||y.isDigit(U(F));)F.token+=U(F),z(F);nt(M,F.token)?F.tokenType=_.DELIMITER:F.tokenType=_.SYMBOL;return}for(F.tokenType=_.UNKNOWN;U(F)!=="";)F.token+=U(F),z(F);throw Ve(F,'Syntax error in part "'+F.token+'"')}function G(F){do T(F);while(F.token===`
    `)}function R(F){F.nestingLevel++}function ie(F){F.nestingLevel--}y.isAlpha=function(W,me,Oe){return y.isValidLatinOrGreek(W)||y.isValidMathSymbol(W,Oe)||y.isValidMathSymbol(me,W)},y.isValidLatinOrGreek=function(W){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(W)},y.isValidMathSymbol=function(W,me){return/^[\uD835]$/.test(W)&&/^[\uDC00-\uDFFF]$/.test(me)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(me)},y.isWhitespace=function(W,me){return W===" "||W==="	"||W===`
    `&&me>0},y.isDecimalMark=function(W,me){return W==="."&&me!=="/"&&me!=="*"&&me!=="^"},y.isDigitDot=function(W){return W>="0"&&W<="9"||W==="."},y.isDigit=function(W){return W>="0"&&W<="9"},y.isHexDigit=function(W){return W>="0"&&W<="9"||W>="a"&&W<="f"||W>="A"&&W<="F"};function j(F,W){var me=P();Cr(me,{expression:F,extraNodes:W}),T(me);var Oe=H(me);if(me.token!=="")throw me.tokenType===_.DELIMITER?He(me,"Unexpected operator "+me.token):Ve(me,'Unexpected part "'+me.token+'"');return Oe}function H(F){var W,me=[],Oe;for(F.token!==""&&F.token!==`
    `&&F.token!==";"&&(W=V(F),F.comment&&(W.comment=F.comment));F.token===`
    `||F.token===";";)me.length===0&&W&&(Oe=F.token!==";",me.push({node:W,visible:Oe})),T(F),F.token!==`
    `&&F.token!==";"&&F.token!==""&&(W=V(F),F.comment&&(W.comment=F.comment),Oe=F.token!==";",me.push({node:W,visible:Oe}));return me.length>0?new l(me):(W||(W=new u(void 0),F.comment&&(W.comment=F.comment)),W)}function V(F){var W,me,Oe,ot,dt=fe(F);if(F.token==="="){if(xr(dt))return W=dt.name,G(F),Oe=V(F),new o(new S(W),Oe);if(wi(dt))return G(F),Oe=V(F),new o(dt.object,dt.index,Oe);if(Qn(dt)&&xr(dt.fn)&&(ot=!0,me=[],W=dt.name,dt.args.forEach(function(Ye,Wn){xr(Ye)?me[Wn]=Ye.name:ot=!1}),ot))return G(F),Oe=V(F),new c(W,me,Oe);throw Ve(F,"Invalid left hand side of assignment operator =")}return dt}function fe(F){for(var W=_e(F);F.token==="?";){var me=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,G(F);var Oe=W,ot=V(F);if(F.token!==":")throw Ve(F,"False part of conditional expression expected");F.conditionalLevel=null,G(F);var dt=V(F);W=new s(Oe,ot,dt),F.conditionalLevel=me}return W}function _e(F){for(var W=pe(F);F.token==="or";)G(F),W=new h("or","or",[W,pe(F)]);return W}function pe(F){for(var W=de(F);F.token==="xor";)G(F),W=new h("xor","xor",[W,de(F)]);return W}function de(F){for(var W=we(F);F.token==="and";)G(F),W=new h("and","and",[W,we(F)]);return W}function we(F){for(var W=he(F);F.token==="|";)G(F),W=new h("|","bitOr",[W,he(F)]);return W}function he(F){for(var W=ve(F);F.token==="^|";)G(F),W=new h("^|","bitXor",[W,ve(F)]);return W}function ve(F){for(var W=xe(F);F.token==="&";)G(F),W=new h("&","bitAnd",[W,xe(F)]);return W}function xe(F){for(var W=[Ce(F)],me=[],Oe={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};nt(Oe,F.token);){var ot={name:F.token,fn:Oe[F.token]};me.push(ot),G(F),W.push(Ce(F))}return W.length===1?W[0]:W.length===2?new h(me[0].name,me[0].fn,W):new b(me.map(dt=>dt.fn),W)}function Ce(F){var W,me,Oe,ot;W=ze(F);for(var dt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};nt(dt,F.token);)me=F.token,Oe=dt[me],G(F),ot=[W,ze(F)],W=new h(me,Oe,ot);return W}function ze(F){var W,me,Oe,ot;W=tt(F);for(var dt={to:"to",in:"to"};nt(dt,F.token);)me=F.token,Oe=dt[me],G(F),me==="in"&&F.token===""?W=new h("*","multiply",[W,new S("in")],!0):(ot=[W,tt(F)],W=new h(me,Oe,ot));return W}function tt(F){var W,me=[];if(F.token===":"?W=new u(1):W=Y(F),F.token===":"&&F.conditionalLevel!==F.nestingLevel){for(me.push(W);F.token===":"&&me.length<3;)G(F),F.token===")"||F.token==="]"||F.token===","||F.token===""?me.push(new S("end")):me.push(Y(F));me.length===3?W=new v(me[0],me[2],me[1]):W=new v(me[0],me[1])}return W}function Y(F){var W,me,Oe,ot;W=K(F);for(var dt={"+":"add","-":"subtract"};nt(dt,F.token);){me=F.token,Oe=dt[me],G(F);var Ye=K(F);Ye.isPercentage?ot=[W,new h("*","multiply",[W,Ye])]:ot=[W,Ye],W=new h(me,Oe,ot)}return W}function K(F){var W,me,Oe,ot;W=ge(F),me=W;for(var dt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};nt(dt,F.token);)Oe=F.token,ot=dt[Oe],G(F),me=ge(F),W=new h(Oe,ot,[W,me]);return W}function ge(F){var W,me;for(W=X(F),me=W;F.tokenType===_.SYMBOL||F.token==="in"&&Ot(W)||F.tokenType===_.NUMBER&&!Ot(me)&&(!Mr(me)||me.op==="!")||F.token==="(";)me=X(F),W=new h("*","multiply",[W,me],!0);return W}function X(F){for(var W=ne(F),me=W,Oe=[];F.token==="/"&&El(me);)if(Oe.push(Cr({},F)),G(F),F.tokenType===_.NUMBER)if(Oe.push(Cr({},F)),G(F),F.tokenType===_.SYMBOL||F.token==="(")Cr(F,Oe.pop()),Oe.pop(),me=ne(F),W=new h("/","divide",[W,me]);else{Oe.pop(),Cr(F,Oe.pop());break}else{Cr(F,Oe.pop());break}return W}function ne(F){var W,me,Oe,ot;W=ue(F);for(var dt={"%":"mod",mod:"mod"};nt(dt,F.token);)me=F.token,Oe=dt[me],G(F),me==="%"&&F.tokenType===_.DELIMITER&&F.token!=="("?W=new h("/","divide",[W,new u(100)],!1,!0):(ot=[W,ue(F)],W=new h(me,Oe,ot));return W}function ue(F){var W,me,Oe,ot={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return nt(ot,F.token)?(Oe=ot[F.token],W=F.token,G(F),me=[ue(F)],new h(W,Oe,me)):De(F)}function De(F){var W,me,Oe,ot;return W=Ee(F),(F.token==="^"||F.token===".^")&&(me=F.token,Oe=me==="^"?"pow":"dotPow",G(F),ot=[W,ue(F)],W=new h(me,Oe,ot)),W}function Ee(F){var W,me,Oe,ot;W=Ze(F);for(var dt={"!":"factorial","'":"ctranspose"};nt(dt,F.token);)me=F.token,Oe=dt[me],T(F),ot=[W],W=new h(me,Oe,ot),W=wt(F,W);return W}function Ze(F){var W=[];if(F.tokenType===_.SYMBOL&&nt(F.extraNodes,F.token)){var me=F.extraNodes[F.token];if(T(F),F.token==="("){if(W=[],R(F),T(F),F.token!==")")for(W.push(V(F));F.token===",";)T(F),W.push(V(F));if(F.token!==")")throw Ve(F,"Parenthesis ) expected");ie(F),T(F)}return new me(W)}return Fe(F)}function Fe(F){var W,me;return F.tokenType===_.SYMBOL||F.tokenType===_.DELIMITER&&F.token in M?(me=F.token,T(F),nt(D,me)?W=new u(D[me]):N.indexOf(me)!==-1?W=new u(t(me,"number")):W=new S(me),W=wt(F,W),W):Ct(F)}function wt(F,W,me){for(var Oe;(F.token==="("||F.token==="["||F.token===".")&&(!me||me.indexOf(F.token)!==-1);)if(Oe=[],F.token==="(")if(xr(W)||wi(W)){if(R(F),T(F),F.token!==")")for(Oe.push(V(F));F.token===",";)T(F),Oe.push(V(F));if(F.token!==")")throw Ve(F,"Parenthesis ) expected");ie(F),T(F),W=new f(W,Oe)}else return W;else if(F.token==="["){if(R(F),T(F),F.token!=="]")for(Oe.push(V(F));F.token===",";)T(F),Oe.push(V(F));if(F.token!=="]")throw Ve(F,"Parenthesis ] expected");ie(F),T(F),W=new i(W,new p(Oe))}else{T(F);var ot=F.tokenType===_.SYMBOL||F.tokenType===_.DELIMITER&&F.token in M;if(!ot)throw Ve(F,"Property name expected after dot");Oe.push(new u(F.token)),T(F);var dt=!0;W=new i(W,new p(Oe,dt))}return W}function Ct(F){var W,me;return F.token==='"'||F.token==="'"?(me=Xt(F,F.token),W=new u(me),W=wt(F,W),W):bt(F)}function Xt(F,W){for(var me="";U(F)!==""&&U(F)!==W;)if(U(F)==="\\"){z(F);var Oe=U(F),ot=E[Oe];if(ot!==void 0)me+=ot,F.index+=1;else if(Oe==="u"){var dt=F.expression.slice(F.index+1,F.index+5);if(/^[0-9A-Fa-f]{4}$/.test(dt))me+=String.fromCharCode(parseInt(dt,16)),F.index+=5;else throw Ve(F,"Invalid unicode character \\u".concat(dt))}else throw Ve(F,"Bad escape character \\".concat(Oe))}else me+=U(F),z(F);if(T(F),F.token!==W)throw Ve(F,"End of string ".concat(W," expected"));return T(F),me}function bt(F){var W,me,Oe,ot;if(F.token==="["){if(R(F),T(F),F.token!=="]"){var dt=Q(F);if(F.token===";"){for(Oe=1,me=[dt];F.token===";";)T(F),F.token!=="]"&&(me[Oe]=Q(F),Oe++);if(F.token!=="]")throw Ve(F,"End of matrix ] expected");ie(F),T(F),ot=me[0].items.length;for(var Ye=1;Ye<Oe;Ye++)if(me[Ye].items.length!==ot)throw He(F,"Column dimensions mismatch ("+me[Ye].items.length+" !== "+ot+")");W=new a(me)}else{if(F.token!=="]")throw Ve(F,"End of matrix ] expected");ie(F),T(F),W=dt}}else ie(F),T(F),W=new a([]);return wt(F,W)}return ce(F)}function Q(F){for(var W=[V(F)],me=1;F.token===",";)T(F),F.token!=="]"&&F.token!==";"&&(W[me]=V(F),me++);return new a(W)}function ce(F){if(F.token==="{"){R(F);var W,me={};do if(T(F),F.token!=="}"){if(F.token==='"'||F.token==="'")W=Xt(F,F.token);else if(F.tokenType===_.SYMBOL||F.tokenType===_.DELIMITER&&F.token in M)W=F.token,T(F);else throw Ve(F,"Symbol or string expected as object key");if(F.token!==":")throw Ve(F,"Colon : expected after object key");T(F),me[W]=V(F)}while(F.token===",");if(F.token!=="}")throw Ve(F,"Comma , or bracket } expected after object value");ie(F),T(F);var Oe=new m(me);return Oe=wt(F,Oe),Oe}return ye(F)}function ye(F){var W;return F.tokenType===_.NUMBER?(W=F.token,T(F),new u(t(W,r.number))):ke(F)}function ke(F){var W;if(F.token==="("){if(R(F),T(F),W=V(F),F.token!==")")throw Ve(F,"Parenthesis ) expected");return ie(F),T(F),W=new d(W),W=wt(F,W),W}return qe(F)}function qe(F){throw F.token===""?Ve(F,"Unexpected end of expression"):Ve(F,"Value expected")}function Be(F){return F.index-F.token.length+1}function Ve(F,W){var me=Be(F),Oe=new SyntaxError(W+" (char "+me+")");return Oe.char=me,Oe}function He(F,W){var me=Be(F),Oe=new SyntaxError(W+" (char "+me+")");return Oe.char=me,Oe}return e.addConversion({from:"string",to:"Node",convert:y}),y});var m2="compile",uj=["typed","parse"],Px=C(m2,uj,n=>{var{typed:e,parse:t}=n;return e(m2,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return it(i,function(a){return t(a).compile()})}})});var d2="evaluate",lj=["typed","parse"],Bx=C(d2,lj,n=>{var{typed:e,parse:t}=n;return e(d2,{string:function(i){var a=No();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=No();return it(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return it(i,function(o){return t(o).compile().evaluate(a)})}})});var cj="Parser",fj=["evaluate"],Ox=C(cj,fj,n=>{var{evaluate:e}=n;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:No(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(r){return e(r,this.scope)},t.prototype.get=function(r){if(this.scope.has(r))return this.scope.get(r)},t.prototype.getAll=function(){return NE(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(r,i){return this.scope.set(r,i),i},t.prototype.remove=function(r){this.scope.delete(r)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var h2="parser",pj=["typed","Parser"],kx=C(h2,pj,n=>{var{typed:e,Parser:t}=n;return e(h2,{"":function(){return new t}})});var g2="lup",mj=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Rx=C(g2,mj,n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:l,larger:s,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:p,Spa:m}=n;return e(g2,{DenseMatrix:function(b){return h(b)},SparseMatrix:function(b){return d(b)},Array:function(b){var S=t(b),y=h(S);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function h(v){var b=v._size[0],S=v._size[1],y=Math.min(b,S),w=lt(v._data),_=[],x=[b,y],M=[],D=[y,S],N,E,P,O=[];for(N=0;N<b;N++)O[N]=N;for(E=0;E<S;E++){if(E>0)for(N=0;N<b;N++){var U=Math.min(N,E),z=0;for(P=0;P<U;P++)z=i(z,o(w[N][P],w[P][E]));w[N][E]=l(w[N][E],z)}var L=E,B=0,T=0;for(N=E;N<b;N++){var G=w[N][E],R=r(G);s(R,B)&&(L=N,B=R,T=G)}if(E!==L&&(O[E]=[O[L],O[L]=O[E]][0],f._swapRows(E,L,w)),E<b)for(N=E+1;N<b;N++){var ie=w[N][E];u(ie,0)||(w[N][E]=a(w[N][E],T))}}for(E=0;E<S;E++)for(N=0;N<b;N++){if(E===0&&(N<S&&(M[N]=[]),_[N]=[]),N<E){N<S&&(M[N][E]=w[N][E]),E<b&&(_[N][E]=0);continue}if(N===E){N<S&&(M[N][E]=w[N][E]),E<b&&(_[N][E]=1);continue}N<S&&(M[N][E]=0),E<b&&(_[N][E]=w[N][E])}var j=new f({data:_,size:x}),H=new f({data:M,size:D}),V=[];for(N=0,y=O.length;N<y;N++)V[O[N]]=N;return{L:j,U:H,p:V,toString:function(){return"L: "+this.L.toString()+`
    U: `+this.U.toString()+`
    P: `+this.p}}}function d(v){var b=v._size[0],S=v._size[1],y=Math.min(b,S),w=v._values,_=v._index,x=v._ptr,M=[],D=[],N=[],E=[b,y],P=[],O=[],U=[],z=[y,S],L,B,T,G=[],R=[];for(L=0;L<b;L++)G[L]=L,R[L]=L;var ie=function(V,fe){var _e=R[V],pe=R[fe];G[_e]=fe,G[pe]=V,R[V]=pe,R[fe]=_e},j=function(){var V=new m;B<b&&(N.push(M.length),M.push(1),D.push(B)),U.push(P.length);var fe=x[B],_e=x[B+1];for(T=fe;T<_e;T++)L=_[T],V.set(G[L],w[T]);B>0&&V.forEach(0,B-1,function(he,ve){p._forEachRow(he,M,D,N,function(xe,Ce){xe>he&&V.accumulate(xe,c(o(Ce,ve)))})});var pe=B,de=V.get(B),we=r(de);V.forEach(B+1,b-1,function(he,ve){var xe=r(ve);s(xe,we)&&(pe=he,we=xe,de=ve)}),B!==pe&&(p._swapRows(B,pe,E[1],M,D,N),p._swapRows(B,pe,z[1],P,O,U),V.swap(B,pe),ie(B,pe)),V.forEach(0,b-1,function(he,ve){he<=B?(P.push(ve),O.push(he)):(ve=a(ve,de),u(ve,0)||(M.push(ve),D.push(he)))})};for(B=0;B<S;B++)j();return U.push(P.length),N.push(M.length),{L:new p({values:M,index:D,ptr:N,size:E}),U:new p({values:P,index:O,ptr:U,size:z}),p:G,toString:function(){return"L: "+this.L.toString()+`
    U: `+this.U.toString()+`
    P: `+this.p}}}});var v2="qr",dj=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Lx=C(v2,dj,n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:a,equal:o,sign:l,sqrt:s,conj:u,unaryMinus:c,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:h,complex:d}=n;return Cr(e(v2,{DenseMatrix:function(w){return b(w)},SparseMatrix:function(w){return S(w)},Array:function(w){var _=t(w),x=b(_);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:v});function v(y){var w=y._size[0],_=y._size[1],x=i([w],"dense"),M=x._data,D=y.clone(),N=D._data,E,P,O,U=r([w],"");for(O=0;O<Math.min(_,w);++O){var z=N[O][O],L=c(o(z,0)?1:l(z)),B=u(L),T=0;for(E=O;E<w;E++)T=f(T,m(N[E][O],u(N[E][O])));var G=m(L,s(T));if(!a(G)){var R=h(z,G);for(U[O]=1,E=O+1;E<w;E++)U[E]=p(N[E][O],R);var ie=c(u(p(R,G))),j=void 0;for(P=O;P<_;P++){for(j=0,E=O;E<w;E++)j=f(j,m(u(U[E]),N[E][P]));for(j=m(j,ie),E=O;E<w;E++)N[E][P]=m(h(N[E][P],m(U[E],j)),B)}for(E=0;E<w;E++){for(j=0,P=O;P<w;P++)j=f(j,m(M[E][P],U[P]));for(j=m(j,ie),P=O;P<w;++P)M[E][P]=p(h(M[E][P],m(j,u(U[P]))),B)}}}return{Q:x,R:D,toString:function(){return"Q: "+this.Q.toString()+`
    R: `+this.R.toString()}}}function b(y){var w=v(y),_=w.R._data;if(y._data.length>0)for(var x=_[0][0].type==="Complex"?d(0):0,M=0;M<_.length;++M)for(var D=0;D<M&&D<(_[0]||[]).length;++D)_[M][D]=x;return w}function S(y){throw new Error("qr not implemented for sparse matrices yet")}});function y2(n,e,t,r){for(var i=n._values,a=n._index,o=n._ptr,l=n._size,s=n._datatype,u=l[0],c=l[1],f=r&&n._values?[]:null,p=[],m=[],h=0,d=0;d<c;d++){m[d]=h;for(var v=t?t[d]:d,b=o[v],S=o[v+1],y=b;y<S;y++){var w=e?e[a[y]]:a[y];p[h]=w,f&&(f[h]=i[y]),h++}}return m[c]=h,n.createSparseMatrix({values:f,index:p,ptr:m,size:[u,c],datatype:s})}function om(n,e,t,r,i,a,o){var l=0;for(t[o]=n;l>=0;){var s=t[o+l],u=t[r+s];u===-1?(l--,a[e++]=s):(t[r+s]=t[i+u],++l,t[o+l]=u)}return e}function b2(n,e){if(!n)return null;var t=0,r,i=[],a=[],o=0,l=e,s=2*e;for(r=0;r<e;r++)a[o+r]=-1;for(r=e-1;r>=0;r--)n[r]!==-1&&(a[l+r]=a[o+n[r]],a[o+n[r]]=r);for(r=0;r<e;r++)n[r]===-1&&(t=om(r,t,a,o,l,i,s));return i}function x2(n,e){if(!n)return null;var t=n._index,r=n._ptr,i=n._size,a=i[0],o=i[1],l=[],s=[],u=0,c=o,f,p;if(e)for(f=0;f<a;f++)s[c+f]=-1;for(var m=0;m<o;m++){l[m]=-1,s[u+m]=-1;for(var h=r[m],d=r[m+1],v=h;v<d;v++){var b=t[v];for(f=e?s[c+b]:b;f!==-1&&f<m;f=p)p=s[u+f],s[u+f]=m,p===-1&&(l[f]=m);e&&(s[c+b]=m)}}return l}function w2(n,e,t){for(var r=n._values,i=n._index,a=n._ptr,o=n._size,l=o[1],s=0,u=0;u<l;u++){var c=a[u];for(a[u]=s;c<a[u+1];c++)e(i[c],u,r?r[c]:1,t)&&(i[s]=i[c],r&&(r[s]=r[c]),s++)}return a[l]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s),s}function la(n){return-n-2}var hj="csAmd",gj=["add","multiply","transpose"],_2=C(hj,gj,n=>{var{add:e,multiply:t,transpose:r}=n;return function(c,f){if(!f||c<=0||c>3)return null;var p=f._size,m=p[0],h=p[1],d=0,v=Math.max(16,10*Math.sqrt(h));v=Math.min(h-2,v);var b=i(c,f,m,h,v);w2(b,s,null);for(var S=b._index,y=b._ptr,w=y[h],_=[],x=[],M=0,D=h+1,N=2*(h+1),E=3*(h+1),P=4*(h+1),O=5*(h+1),U=6*(h+1),z=7*(h+1),L=_,B=a(h,y,x,M,E,L,N,z,D,U,P,O),T=o(h,y,x,O,P,U,v,D,E,L,N),G=0,R,ie,j,H,V,fe,_e,pe,de,we,he,ve,xe,Ce,ze,tt;T<h;){for(j=-1;G<h&&(j=x[E+G])===-1;G++);x[N+j]!==-1&&(L[x[N+j]]=-1),x[E+G]=x[N+j];var Y=x[P+j],K=x[D+j];T+=K;var ge=0;x[D+j]=-K;var X=y[j],ne=Y===0?X:w,ue=ne;for(H=1;H<=Y+1;H++){for(H>Y?(fe=j,_e=X,pe=x[M+j]-Y):(fe=S[X++],_e=y[fe],pe=x[M+fe]),V=1;V<=pe;V++)R=S[_e++],!((de=x[D+R])<=0)&&(ge+=de,x[D+R]=-de,S[ue++]=R,x[N+R]!==-1&&(L[x[N+R]]=L[R]),L[R]!==-1?x[N+L[R]]=x[N+R]:x[E+x[O+R]]=x[N+R]);fe!==j&&(y[fe]=la(j),x[U+fe]=0)}for(Y!==0&&(w=ue),x[O+j]=ge,y[j]=ne,x[M+j]=ue-ne,x[P+j]=-2,B=l(B,d,x,U,h),we=ne;we<ue;we++)if(R=S[we],!((he=x[P+R])<=0)){de=-x[D+R];var De=B-de;for(X=y[R],ve=y[R]+he-1;X<=ve;X++)fe=S[X],x[U+fe]>=B?x[U+fe]-=de:x[U+fe]!==0&&(x[U+fe]=x[O+fe]+De)}for(we=ne;we<ue;we++){for(R=S[we],ve=y[R],xe=ve+x[P+R]-1,Ce=ve,ze=0,tt=0,X=ve;X<=xe;X++)if(fe=S[X],x[U+fe]!==0){var Ee=x[U+fe]-B;Ee>0?(tt+=Ee,S[Ce++]=fe,ze+=fe):(y[fe]=la(j),x[U+fe]=0)}x[P+R]=Ce-ve+1;var Ze=Ce,Fe=ve+x[M+R];for(X=xe+1;X<Fe;X++){ie=S[X];var wt=x[D+ie];wt<=0||(tt+=wt,S[Ce++]=ie,ze+=ie)}tt===0?(y[R]=la(j),de=-x[D+R],ge-=de,K+=de,T+=de,x[D+R]=0,x[P+R]=-1):(x[O+R]=Math.min(x[O+R],tt),S[Ce]=S[Ze],S[Ze]=S[ve],S[ve]=j,x[M+R]=Ce-ve+1,ze=(ze<0?-ze:ze)%h,x[N+R]=x[z+ze],x[z+ze]=R,L[R]=ze)}for(x[O+j]=ge,d=Math.max(d,ge),B=l(B+d,d,x,U,h),we=ne;we<ue;we++)if(R=S[we],!(x[D+R]>=0))for(ze=L[R],R=x[z+ze],x[z+ze]=-1;R!==-1&&x[N+R]!==-1;R=x[N+R],B++){for(pe=x[M+R],he=x[P+R],X=y[R]+1;X<=y[R]+pe-1;X++)x[U+S[X]]=B;var Ct=R;for(ie=x[N+R];ie!==-1;){var Xt=x[M+ie]===pe&&x[P+ie]===he;for(X=y[ie]+1;Xt&&X<=y[ie]+pe-1;X++)x[U+S[X]]!==B&&(Xt=0);Xt?(y[ie]=la(R),x[D+R]+=x[D+ie],x[D+ie]=0,x[P+ie]=-1,ie=x[N+ie],x[N+Ct]=ie):(Ct=ie,ie=x[N+ie])}}for(X=ne,we=ne;we<ue;we++)R=S[we],!((de=-x[D+R])<=0)&&(x[D+R]=de,tt=x[O+R]+ge-de,tt=Math.min(tt,h-T-de),x[E+tt]!==-1&&(L[x[E+tt]]=R),x[N+R]=x[E+tt],L[R]=-1,x[E+tt]=R,G=Math.min(G,tt),x[O+R]=tt,S[X++]=R);x[D+j]=K,(x[M+j]=X-ne)===0&&(y[j]=-1,x[U+j]=0),Y!==0&&(w=X)}for(R=0;R<h;R++)y[R]=la(y[R]);for(ie=0;ie<=h;ie++)x[E+ie]=-1;for(ie=h;ie>=0;ie--)x[D+ie]>0||(x[N+ie]=x[E+y[ie]],x[E+y[ie]]=ie);for(fe=h;fe>=0;fe--)x[D+fe]<=0||y[fe]!==-1&&(x[N+fe]=x[E+y[fe]],x[E+y[fe]]=fe);for(j=0,R=0;R<=h;R++)y[R]===-1&&(j=om(R,j,x,E,N,_,U));return _.splice(_.length-1,1),_};function i(u,c,f,p,m){var h=r(c);if(u===1&&p===f)return e(c,h);if(u===2){for(var d=h._index,v=h._ptr,b=0,S=0;S<f;S++){var y=v[S];if(v[S]=b,!(v[S+1]-y>m))for(var w=v[S+1];y<w;y++)d[b++]=d[y]}return v[f]=b,c=r(h),t(h,c)}return t(h,c)}function a(u,c,f,p,m,h,d,v,b,S,y,w){for(var _=0;_<u;_++)f[p+_]=c[_+1]-c[_];f[p+u]=0;for(var x=0;x<=u;x++)f[m+x]=-1,h[x]=-1,f[d+x]=-1,f[v+x]=-1,f[b+x]=1,f[S+x]=1,f[y+x]=0,f[w+x]=f[p+x];var M=l(0,0,f,S,u);return f[y+u]=-2,c[u]=-1,f[S+u]=0,M}function o(u,c,f,p,m,h,d,v,b,S,y){for(var w=0,_=0;_<u;_++){var x=f[p+_];if(x===0)f[m+_]=-2,w++,c[_]=-1,f[h+_]=0;else if(x>d)f[v+_]=0,f[m+_]=-1,w++,c[_]=la(u),f[v+u]++;else{var M=f[b+x];M!==-1&&(S[M]=_),f[y+_]=f[b+x],f[b+x]=_}}return w}function l(u,c,f,p,m){if(u<2||u+c<0){for(var h=0;h<m;h++)f[p+h]!==0&&(f[p+h]=1);u=2}return u}function s(u,c){return u!==c}});function S2(n,e,t,r,i,a,o){var l,s,u=0,c;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var f=t[a+n];if(t[a+n]=e,f===-1)u=1,c=n;else{for(u=2,c=f;c!==t[o+c];c=t[o+c]);for(l=f;l!==c;l=s)s=t[o+l],t[o+l]=c}return{jleaf:u,q:c}}var vj="csCounts",yj=["transpose"],A2=C(vj,yj,n=>{var{transpose:e}=n;return function(t,r,i,a){if(!t||!r||!i)return null;var o=t._size,l=o[0],s=o[1],u,c,f,p,m,h,d,v=4*s+(a?s+l+1:0),b=[],S=0,y=s,w=2*s,_=3*s,x=4*s,M=5*s+1;for(f=0;f<v;f++)b[f]=-1;var D=[],N=e(t),E=N._index,P=N._ptr;for(f=0;f<s;f++)for(c=i[f],D[c]=b[_+c]===-1?1:0;c!==-1&&b[_+c]===-1;c=r[c])b[_+c]=f;if(a){for(f=0;f<s;f++)b[i[f]]=f;for(u=0;u<l;u++){for(f=s,h=P[u],d=P[u+1],m=h;m<d;m++)f=Math.min(f,b[E[m]]);b[M+u]=b[x+f],b[x+f]=u}}for(u=0;u<s;u++)b[S+u]=u;for(f=0;f<s;f++){for(c=i[f],r[c]!==-1&&D[r[c]]--,p=a?b[x+f]:c;p!==-1;p=a?b[M+p]:-1)for(m=P[p];m<P[p+1];m++){u=E[m];var O=S2(u,c,b,_,y,w,S);O.jleaf>=1&&D[c]++,O.jleaf===2&&D[O.q]--}r[c]!==-1&&(b[S+c]=r[c])}for(c=0;c<s;c++)r[c]!==-1&&(D[r[c]]+=D[c]);return D}});var bj="csSqr",xj=["add","multiply","transpose"],N2=C(bj,xj,n=>{var{add:e,multiply:t,transpose:r}=n,i=_2({add:e,multiply:t,transpose:r}),a=A2({transpose:r});return function(s,u,c){var f=u._ptr,p=u._size,m=p[1],h,d={};if(d.q=i(s,u),s&&!d.q)return null;if(c){var v=s?y2(u,null,d.q,0):u;d.parent=x2(v,1);var b=b2(d.parent,m);if(d.cp=a(v,d.parent,b,1),v&&d.parent&&d.cp&&o(v,d))for(d.unz=0,h=0;h<m;h++)d.unz+=d.cp[h]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(l,s){var u=l._ptr,c=l._index,f=l._size,p=f[0],m=f[1];s.pinv=[],s.leftmost=[];var h=s.parent,d=s.pinv,v=s.leftmost,b=[],S=0,y=p,w=p+m,_=p+2*m,x,M,D,N,E;for(M=0;M<m;M++)b[y+M]=-1,b[w+M]=-1,b[_+M]=0;for(x=0;x<p;x++)v[x]=-1;for(M=m-1;M>=0;M--)for(N=u[M],E=u[M+1],D=N;D<E;D++)v[c[D]]=M;for(x=p-1;x>=0;x--)d[x]=-1,M=v[x],M!==-1&&(b[_+M]++===0&&(b[w+M]=x),b[S+x]=b[y+M],b[y+M]=x);for(s.lnz=0,s.m2=p,M=0;M<m;M++)if(x=b[y+M],s.lnz++,x<0&&(x=s.m2++),d[x]=M,!(--_[M]<=0)){s.lnz+=b[_+M];var P=h[M];P!==-1&&(b[_+P]===0&&(b[w+P]=b[w+M]),b[S+b[w+M]]=b[y+P],b[y+P]=b[S+x],b[_+P]+=b[_+M])}for(x=0;x<p;x++)d[x]<0&&(d[x]=M++);return!0}});function ec(n,e){return n[e]<0}function sm(n,e){n[e]=la(n[e])}function Ux(n){return n<0?la(n):n}function D2(n,e,t,r,i){var a=e._index,o=e._ptr,l=e._size,s=l[1],u,c,f,p=0;for(r[0]=n;p>=0;){n=r[p];var m=i?i[n]:n;ec(o,n)||(sm(o,n),r[s+p]=m<0?0:Ux(o[m]));var h=1;for(c=r[s+p],f=m<0?0:Ux(o[m+1]);c<f;c++)if(u=a[c],!ec(o,u)){r[s+p]=c,r[++p]=u,h=0;break}h&&(p--,r[--t]=n)}return t}function E2(n,e,t,r,i){var a=n._ptr,o=n._size,l=e._index,s=e._ptr,u=o[1],c,f,p,m=u;for(f=s[t],p=s[t+1],c=f;c<p;c++){var h=l[c];ec(a,h)||(m=D2(h,n,m,r,i))}for(c=m;c<u;c++)sm(a,r[c]);return m}var wj="csSpsolve",_j=["divideScalar","multiply","subtract"],M2=C(wj,_j,n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(a,o,l,s,u,c,f){var p=a._values,m=a._index,h=a._ptr,d=a._size,v=d[1],b=o._values,S=o._index,y=o._ptr,w,_,x,M,D=E2(a,o,l,s,c);for(w=D;w<v;w++)u[s[w]]=0;for(_=y[l],x=y[l+1],w=_;w<x;w++)u[S[w]]=b[w];for(var N=D;N<v;N++){var E=s[N],P=c?c[E]:E;if(!(P<0))for(_=h[P],x=h[P+1],u[E]=e(u[E],p[f?_:x-1]),w=f?_+1:_,M=f?x:x-1;w<M;w++){var O=m[w];u[O]=r(u[O],t(p[w],u[E]))}}return D}});var Sj="csLu",Aj=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],C2=C(Sj,Aj,n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:a,largerEq:o,SparseMatrix:l}=n,s=M2({divideScalar:t,multiply:r,subtract:i});return function(c,f,p){if(!c)return null;var m=c._size,h=m[1],d,v=100,b=100;f&&(d=f.q,v=f.lnz||v,b=f.unz||b);var S=[],y=[],w=[],_=new l({values:S,index:y,ptr:w,size:[h,h]}),x=[],M=[],D=[],N=new l({values:x,index:M,ptr:D,size:[h,h]}),E=[],P,O,U=[],z=[];for(P=0;P<h;P++)U[P]=0,E[P]=-1,w[P+1]=0;v=0,b=0;for(var L=0;L<h;L++){w[L]=v,D[L]=b;var B=d?d[L]:L,T=s(_,c,B,z,U,E,1),G=-1,R=-1;for(O=T;O<h;O++)if(P=z[O],E[P]<0){var ie=e(U[P]);a(ie,R)&&(R=ie,G=P)}else M[b]=E[P],x[b++]=U[P];if(G===-1||R<=0)return null;E[B]<0&&o(e(U[B]),r(R,p))&&(G=B);var j=U[G];for(M[b]=L,x[b++]=j,E[G]=L,y[v]=G,S[v++]=1,O=T;O<h;O++)P=z[O],E[P]<0&&(y[v]=P,S[v++]=t(U[P],j)),U[P]=0}for(w[h]=v,D[h]=b,O=0;O<v;O++)y[O]=E[y[O]];return S.splice(v,S.length-v),y.splice(v,y.length-v),x.splice(b,x.length-b),M.splice(b,M.length-b),{L:_,U:N,pinv:E}}});var T2="slu",Nj=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Vx=C(T2,Nj,n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:a,divideScalar:o,subtract:l,larger:s,largerEq:u,SparseMatrix:c}=n,f=N2({add:r,multiply:i,transpose:a}),p=C2({abs:t,divideScalar:o,multiply:i,subtract:l,larger:s,largerEq:u,SparseMatrix:c});return e(T2,{"SparseMatrix, number, number":function(h,d,v){if(!Qe(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var b=f(d,h,!1),S=p(h,b,v);return{L:S.L,U:S.U,p:S.pinv,q:b.q,toString:function(){return"L: "+this.L.toString()+`
    U: `+this.U.toString()+`
    p: `+this.p.toString()+(this.q?`
    q: `+this.q.toString():"")+`
    `}}}})});function qx(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var F2="lusolve",Dj=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],zx=C(F2,Dj,n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:a,lsolve:o,DenseMatrix:l}=n,s=Aa({DenseMatrix:l});return e(F2,{"Array, Array | Matrix":function(p,m){p=t(p);var h=r(p),d=c(h.L,h.U,h.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var h=r(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var h=r(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,h,d){var v=i(p,h,d);return c(v.L,v.U,v.p,v.q,m)},"Object, Array | Matrix":function(p,m){return c(p.L,p.U,p.p,p.q,m)}});function u(f){if(rt(f))return f;if(Wt(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,p,m,h,d){f=u(f),p=u(p),m&&(d=s(f,d,!0),d._data=qx(m,d._data));var v=o(f,d),b=a(p,v);return h&&(b._data=qx(h,b._data)),b}});var I2="polynomialRoot",Ej=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],$x=C(I2,Ej,n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:a,multiply:o,divide:l,sqrt:s,unaryMinus:u,cbrt:c,typeOf:f,im:p,re:m}=n;return e(I2,{"number|Complex, ...number|Complex":(h,d)=>{for(var v=[h,...d];v.length>0&&t(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[u(l(v[0],v[1]))];case 3:{var[b,S,y]=v,w=o(2,y),_=o(S,S),x=o(4,y,b);if(r(_,x))return[l(u(S),w)];var M=s(a(_,x));return[l(a(M,S),w),l(a(u(M),S),w)]}case 4:{var[D,N,E,P]=v,O=u(o(3,P)),U=o(E,E),z=o(3,P,N),L=i(o(2,E,E,E),o(27,P,P,D)),B=o(9,P,E,N);if(r(U,z)&&r(L,B))return[l(E,O)];var T=a(U,z),G=a(L,B),R=i(o(18,P,E,N,D),o(E,E,N,N)),ie=i(o(4,E,E,E,D),o(4,P,N,N,N),o(27,P,P,D,D));if(r(R,ie))return[l(a(o(4,P,E,N),i(o(9,P,P,D),o(E,E,E))),o(P,T)),l(a(o(9,P,D),o(E,N)),o(2,T))];var j;r(U,z)?j=G:j=l(i(G,s(a(o(G,G),o(4,T,T,T)))),2);var H=!0,V=c(j,H).toArray().map(fe=>l(i(E,fe,l(T,fe)),O));return V.map(fe=>f(fe)==="Complex"&&r(m(fe),m(fe)+p(fe))?m(fe):fe)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})});var Mj="Help",Cj=["evaluate"],Hx=C(Mj,Cj,n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i=`
    `;if(r.name&&(i+="Name: "+r.name+`
    
    `),r.category&&(i+="Category: "+r.category+`
    
    `),r.description&&(i+=`Description:
        `+r.description+`
    
    `),r.syntax&&(i+=`Syntax:
        `+r.syntax.join(`
        `)+`
    
    `),r.examples){i+=`Examples:
    `;for(var a=!1,o=e("config()"),l={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},s=0;s<r.examples.length;s++){var u=r.examples[s];i+="    "+u+`
    `;var c=void 0;try{c=e(u,l)}catch(f){c=f}c!==void 0&&!rp(c)&&(i+="        "+vt(c,{precision:14})+`
    `)}i+=`
    `,a&&e("config(originalConfig)",{originalConfig:o})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+`
    
    `),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+`
    `),i},t.prototype.toJSON=function(){var r=lt(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(a=>a!=="mathjs").forEach(a=>{i[a]=r[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var Tj="Chain",Fj=["?on","math","typed"],Gx=C(Tj,Fj,n=>{var{on:e,math:t,typed:r}=n;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");np(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return vt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,c){typeof c=="function"&&(i.prototype[u]=l(c))}function o(u,c){WD(i.prototype,u,function(){var p=c();if(typeof p=="function")return l(p)})}function l(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(r.isTypedFunction(u)){var p=r.resolve(u,c);if(p.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var f=function(h){nt(u,h)&&s[h]===void 0&&o(h,()=>u[h])};for(var p in u)f(p)}};var s={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(u,c,f){f||o(u,c)}),i},{isClass:!0});var Wx={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var P2={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var B2={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var O2={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var k2={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var R2={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var L2={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var U2={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var V2={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var q2={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var z2={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var Yx={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var $2={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var H2={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var G2={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var W2={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var Y2={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var j2={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var Z2={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var J2={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var X2={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var Q2={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var K2={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var eF={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var tF={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var rF={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var nF={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var iF={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var aF={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var oF={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var sF={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var uF={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var lF={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var cF={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var fF={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var pF={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var mF={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var dF={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var hF={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var gF={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var vF={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var yF={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var bF={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var xF={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var wF={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var _F={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var SF={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var AF={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var NF={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var DF={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var EF={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var MF={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var CF={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var TF={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var FF={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var IF={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var PF={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var BF={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var OF={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var kF={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var RF={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var LF={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var UF={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var VF={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var qF={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var zF={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var $F={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var HF={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var GF={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var WF={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var YF={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var jF={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var ZF={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var JF={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var XF={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var QF={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var KF={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var eI={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var tI={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var rI={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var nI={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var iI={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var aI={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var oI={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var sI={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var uI={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var lI={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var cI={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var fI={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var pI={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var mI={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var dI={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var hI={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var gI={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var vI={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var yI={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var bI={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var xI={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var wI={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var _I={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var SI={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var AI={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var NI={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var DI={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var EI={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var MI={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var CI={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var TI={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var FI={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var II={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var PI={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var BI={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var OI={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var kI={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var RI={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var LI={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var UI={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var VI={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var qI={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var zI={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var $I={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var HI={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var GI={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var WI={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var YI={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var jI={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var ZI={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var JI={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var XI={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var QI={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var KI={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var eP={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var tP={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var rP={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var nP={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var iP={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var aP={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var oP={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var sP={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var uP={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var lP={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var cP={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var fP={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var pP={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var mP={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var dP={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var hP={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var gP={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var vP={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var yP={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var bP={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var xP={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var wP={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var _P={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var SP={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var AP={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var NP={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var DP={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var EP={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var MP={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var CP={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var TP={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var FP={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var IP={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var PP={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var BP={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var OP={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var kP={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var RP={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var LP={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var UP={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var VP={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var qP={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var zP={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var $P={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var HP={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var GP={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var WP={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var YP={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var jP={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var ZP={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var JP={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var XP={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var QP={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var KP={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var eB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var tB={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var rB={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var nB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var iB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var aB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var oB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var sB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var uB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var lB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 
    
    In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var cB={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var fB={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var pB={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var mB={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var dB={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var hB={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var gB={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var vB={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var yB={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var bB={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var xB={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var wB={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var _B={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var SB={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var AB={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var NB={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var DB={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var EB={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var MB={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var CB={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var TB={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var FB={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var IB={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var PB={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var BB={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var OB={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var kB={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var RB={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var LB={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var UB={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var VB={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var qB={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var zB={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var $B={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var HB={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var GB={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var WB={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var YB={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var jB={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var ZB={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var JB={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var XB={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var QB={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var KB={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var eO={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var tO={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var rO={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var nO={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var iO={bignumber:j2,boolean:Z2,complex:J2,createUnit:X2,fraction:Q2,index:K2,matrix:eF,number:tF,sparse:rF,splitUnit:nF,string:iF,unit:aF,e:Wx,E:Wx,false:P2,i:B2,Infinity:O2,LN2:R2,LN10:k2,LOG2E:U2,LOG10E:L2,NaN:V2,null:q2,pi:Yx,PI:Yx,phi:z2,SQRT1_2:$2,SQRT2:H2,tau:G2,true:W2,version:Y2,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:lF,lsolve:fF,lsolveAll:pF,lup:mF,lusolve:dF,leafCount:cF,polynomialRoot:hF,resolve:yF,simplify:bF,simplifyConstant:xF,simplifyCore:wF,symbolicEqual:SF,rationalize:vF,slu:_F,usolve:AF,usolveAll:NF,qr:gF,abs:DF,add:EF,cbrt:MF,ceil:CF,cube:TF,divide:FF,dotDivide:IF,dotMultiply:PF,dotPow:BF,exp:OF,expm:kF,expm1:RF,fix:LF,floor:UF,gcd:VF,hypot:qF,lcm:$F,log:HF,log2:YF,log1p:WF,log10:GF,mod:jF,multiply:ZF,norm:JF,nthRoot:XF,nthRoots:QF,pow:KF,round:eI,sign:tI,sqrt:rI,sqrtm:nI,square:sI,subtract:uI,unaryMinus:lI,unaryPlus:cI,xgcd:fI,invmod:zF,bitAnd:pI,bitNot:mI,bitOr:dI,bitXor:hI,leftShift:gI,rightArithShift:vI,rightLogShift:yI,bellNumbers:bI,catalan:xI,composition:wI,stirlingS2:_I,config:oF,import:sF,typed:uF,arg:SI,conj:AI,re:DI,im:NI,evaluate:EI,help:MI,distance:CI,intersect:TI,and:FI,not:II,or:PI,xor:BI,concat:kI,count:RI,cross:LI,column:OI,ctranspose:UI,det:VI,diag:qI,diff:zI,dot:$I,getMatrixDataType:jI,identity:ZI,filter:GI,flatten:WI,forEach:YI,inv:JI,pinv:XI,eigs:HI,kron:QI,matrixFromFunction:tP,matrixFromRows:rP,matrixFromColumns:eP,map:KI,ones:nP,partitionSelect:iP,range:aP,resize:sP,reshape:oP,rotate:uP,rotationMatrix:lP,row:cP,size:fP,sort:pP,squeeze:mP,subset:dP,trace:hP,transpose:gP,zeros:vP,fft:yP,ifft:bP,sylvester:iI,schur:aI,lyap:oI,solveODE:nO,combinations:xP,combinationsWithRep:wP,factorial:_P,gamma:SP,kldivergence:NP,lgamma:AP,multinomial:DP,permutations:EP,pickRandom:MP,random:CP,randomInt:TP,compare:FP,compareNatural:IP,compareText:PP,deepEqual:BP,equal:OP,equalText:kP,larger:RP,largerEq:LP,smaller:UP,smallerEq:VP,unequal:qP,setCartesian:zP,setDifference:$P,setDistinct:HP,setIntersect:GP,setIsSubset:WP,setMultiplicity:YP,setPowerset:jP,setSize:ZP,setSymDifference:JP,setUnion:XP,zpk2tf:QP,freqz:KP,erf:eB,zeta:tB,cumsum:fB,mad:rB,max:nB,mean:iB,median:aB,min:oB,mode:sB,prod:uB,quantileSeq:lB,std:cB,sum:pB,variance:mB,corr:dB,acos:hB,acosh:gB,acot:vB,acoth:yB,acsc:bB,acsch:xB,asec:wB,asech:_B,asin:SB,asinh:AB,atan:NB,atanh:EB,atan2:DB,cos:MB,cosh:CB,cot:TB,coth:FB,csc:IB,csch:PB,sec:BB,sech:OB,sin:kB,sinh:RB,tan:LB,tanh:UB,to:VB,clone:zB,format:$B,bin:qB,oct:eO,hex:GB,isNaN:YB,isInteger:WB,isNegative:jB,isNumeric:ZB,hasNumericValue:HB,isPositive:JB,isPrime:XB,isZero:QB,print:tO,typeOf:rO,numeric:KB};var aO="help",Ij=["typed","mathWithTransform","Help"],jx=C(aO,Ij,n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e(aO,{any:function(a){var o,l=a;if(typeof a!="string"){for(o in t)if(nt(t,o)&&a===t[o]){l=o;break}}var s=Tr(iO,l);if(!s){var u=typeof l=="function"?l.name:l;throw new Error('No documentation found on "'+u+'"')}return new r(s)}})});var oO="chain",Pj=["typed","Chain"],Zx=C(oO,Pj,n=>{var{typed:e,Chain:t}=n;return e(oO,{"":function(){return new t},any:function(i){return new t(i)}})});var sO="det",Bj=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Jx=C(sO,Bj,n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:a,isZero:o,unaryMinus:l}=n;return e(sO,{any:function(c){return lt(c)},"Array | Matrix":function(c){var f;switch(rt(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return lt(c);case 1:if(f[0]===1)return lt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+vt(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return s(c.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+vt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(f)+")")}}});function s(u,c,f){if(c===1)return lt(u[0][0]);if(c===2)return r(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var p=!1,m=new Array(c).fill(0).map((M,D)=>D),h=0;h<c;h++){var d=m[h];if(o(u[d][h])){var v=void 0;for(v=h+1;v<c;v++)if(!o(u[m[v]][h])){d=m[v],m[v]=m[h],m[h]=d,p=!p;break}if(v===c)return u[d][h]}for(var b=u[d][h],S=h===0?1:u[m[h-1]][h-1],y=h+1;y<c;y++)for(var w=m[y],_=h+1;_<c;_++)u[w][_]=a(r(i(u[w][_],b),i(u[w][h],u[d][_])),S)}var x=u[m[c-1]][c-1];return p?l(x):x}});var uO="inv",Oj=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Xx=C(uO,Oj,n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:a,unaryMinus:o,det:l,identity:s,abs:u}=n;return e(uO,{"Array | Matrix":function(p){var m=rt(p)?p.size():ft(p);switch(m.length){case 1:if(m[0]===1)return rt(p)?t([r(1,p.valueOf()[0])]):[r(1,p[0])];throw new RangeError("Matrix must be square (size: "+vt(m)+")");case 2:{var h=m[0],d=m[1];if(h===d)return rt(p)?t(c(p.valueOf(),h,d),p.storage()):c(p,h,d);throw new RangeError("Matrix must be square (size: "+vt(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(m)+")")}},any:function(p){return r(1,p)}});function c(f,p,m){var h,d,v,b,S;if(p===1){if(b=f[0][0],b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,b)]]}else if(p===2){var y=l(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(f[1][1],y),r(o(f[0][1]),y)],[r(o(f[1][0]),y),r(f[0][0],y)]]}else{var w=f.concat();for(h=0;h<p;h++)w[h]=w[h].concat();for(var _=s(p).valueOf(),x=0;x<m;x++){var M=u(w[x][x]),D=x;for(h=x+1;h<p;)u(w[h][x])>M&&(M=u(w[h][x]),D=h),h++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");h=D,h!==x&&(S=w[x],w[x]=w[h],w[h]=S,S=_[x],_[x]=_[h],_[h]=S);var N=w[x],E=_[x];for(h=0;h<p;h++){var P=w[h],O=_[h];if(h!==x){if(P[x]!==0){for(v=r(o(P[x]),N[x]),d=x;d<m;d++)P[d]=i(P[d],a(v,N[d]));for(d=0;d<m;d++)O[d]=i(O[d],a(v,E[d]))}}else{for(v=N[x],d=x;d<m;d++)P[d]=r(P[d],v);for(d=0;d<m;d++)O[d]=r(O[d],v)}}}return _}}});var lO="pinv",kj=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Qx=C(lO,kj,n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:a,dotDivide:o,dot:l,ctranspose:s,divideScalar:u,multiply:c,add:f,Complex:p}=n;return e(lO,{"Array | Matrix":function(y){var w=rt(y)?y.size():ft(y);switch(w.length){case 1:return b(y)?s(y):w[0]===1?r(y):o(s(y),l(y,y));case 2:{if(b(y))return s(y);var _=w[0],x=w[1];if(_===x)try{return r(y)}catch(M){if(!(M instanceof Error&&M.message.match(/Cannot calculate inverse, determinant is zero/)))throw M}return rt(y)?t(m(y.valueOf(),_,x),y.storage()):m(y,_,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+vt(w)+")")}},any:function(y){return a(y,0)?lt(y):u(1,y)}});function m(S,y,w){var{C:_,F:x}=d(S,y,w),M=c(r(c(s(_),_)),s(_)),D=c(s(x),r(c(x,s(x))));return c(D,M)}function h(S,y,w){for(var _=lt(S),x=0,M=0;M<y;M++){if(w<=x)return _;for(var D=M;v(_[D][x]);)if(D++,y===D&&(D=M,x++,w===x))return _;[_[D],_[M]]=[_[M],_[D]];for(var N=_[M][x],E=0;E<w;E++)_[M][E]=o(_[M][E],N);for(var P=0;P<y;P++)if(P!==M){N=_[P][x];for(var O=0;O<w;O++)_[P][O]=f(_[P][O],c(-1,c(N,_[M][O])))}x++}return _}function d(S,y,w){var _=h(S,y,w),x=S.map((D,N)=>D.filter((E,P)=>P<y&&!v(l(_[P],_[P])))),M=_.filter((D,N)=>!v(l(_[N],_[N])));return{C:x,F:M}}function v(S){return a(f(S,p(1,1)),f(0,p(1,1)))}function b(S){return i(f(S,p(1,1)),f(c(S,0),p(1,1)))}});function cO(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:l,abs:s,bignumber:u,diag:c,size:f,reshape:p,inv:m,qr:h,usolve:d,usolveAll:v,equal:b,complex:S,larger:y,smaller:w,matrixFromColumns:_,dot:x}=n;function M(H,V,fe,_e){var pe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,de=D(H,V,fe,_e,pe);N(H,V,fe,_e,pe,de);var{values:we,C:he}=E(H,V,fe,_e,pe);if(pe){var ve=P(H,V,he,de,we,fe,_e);return{values:we,eigenvectors:ve}}return{values:we}}function D(H,V,fe,_e,pe){var de=_e==="BigNumber",we=_e==="Complex",he=de?u(0):0,ve=de?u(1):we?S(1):1,xe=de?u(1):1,Ce=de?u(10):2,ze=a(Ce,Ce),tt;pe&&(tt=Array(V).fill(ve));for(var Y=!1;!Y;){Y=!0;for(var K=0;K<V;K++){for(var ge=he,X=he,ne=0;ne<V;ne++)K!==ne&&(ge=e(ge,s(H[ne][K])),X=e(X,s(H[K][ne])));if(!b(ge,0)&&!b(X,0)){for(var ue=xe,De=ge,Ee=o(X,Ce),Ze=a(X,Ce);w(De,Ee);)De=a(De,ze),ue=a(ue,Ce);for(;y(De,Ze);)De=o(De,ze),ue=o(ue,Ce);var Fe=w(o(e(De,X),ue),a(e(ge,X),.95));if(Fe){Y=!1;for(var wt=o(1,ue),Ct=0;Ct<V;Ct++)K!==Ct&&(H[K][Ct]=a(H[K][Ct],wt),H[Ct][K]=a(H[Ct][K],ue));pe&&(tt[K]=a(tt[K],wt))}}}}return pe?c(tt):null}function N(H,V,fe,_e,pe,de){var we=_e==="BigNumber",he=_e==="Complex",ve=we?u(0):he?S(0):0;we&&(fe=u(fe));for(var xe=0;xe<V-2;xe++){for(var Ce=0,ze=ve,tt=xe+1;tt<V;tt++){var Y=H[tt][xe];w(s(ze),s(Y))&&(ze=Y,Ce=tt)}if(!w(s(ze),fe)){if(Ce!==xe+1){var K=H[Ce];H[Ce]=H[xe+1],H[xe+1]=K;for(var ge=0;ge<V;ge++){var X=H[ge][Ce];H[ge][Ce]=H[ge][xe+1],H[ge][xe+1]=X}if(pe){var ne=de[Ce];de[Ce]=de[xe+1],de[xe+1]=ne}}for(var ue=xe+2;ue<V;ue++){var De=o(H[ue][xe],ze);if(De!==0){for(var Ee=0;Ee<V;Ee++)H[ue][Ee]=t(H[ue][Ee],a(De,H[xe+1][Ee]));for(var Ze=0;Ze<V;Ze++)H[Ze][xe+1]=e(H[Ze][xe+1],a(De,H[Ze][ue]));if(pe)for(var Fe=0;Fe<V;Fe++)de[ue][Fe]=t(de[ue][Fe],a(De,de[xe+1][Fe]))}}}}return de}function E(H,V,fe,_e,pe){var de=_e==="BigNumber",we=_e==="Complex",he=de?u(1):we?S(1):1;de&&(fe=u(fe));for(var ve=lt(H),xe=[],Ce=V,ze=[],tt=pe?c(Array(V).fill(he)):void 0,Y=pe?c(Array(Ce).fill(he)):void 0,K=0;K<=100;){K+=1;for(var ge=ve[Ce-1][Ce-1],X=0;X<Ce;X++)ve[X][X]=t(ve[X][X],ge);var{Q:ne,R:ue}=h(ve);ve=i(ue,ne);for(var De=0;De<Ce;De++)ve[De][De]=e(ve[De][De],ge);if(pe&&(Y=i(Y,ne)),Ce===1||w(s(ve[Ce-1][Ce-2]),fe)){K=0,xe.push(ve[Ce-1][Ce-1]),pe&&(ze.unshift([[1]]),z(Y,V),tt=i(tt,Y),Ce>1&&(Y=c(Array(Ce-1).fill(he)))),Ce-=1,ve.pop();for(var Ee=0;Ee<Ce;Ee++)ve[Ee].pop()}else if(Ce===2||w(s(ve[Ce-2][Ce-3]),fe)){K=0;var Ze=O(ve[Ce-2][Ce-2],ve[Ce-2][Ce-1],ve[Ce-1][Ce-2],ve[Ce-1][Ce-1]);xe.push(...Ze),pe&&(ze.unshift(U(ve[Ce-2][Ce-2],ve[Ce-2][Ce-1],ve[Ce-1][Ce-2],ve[Ce-1][Ce-1],Ze[0],Ze[1],fe,_e)),z(Y,V),tt=i(tt,Y),Ce>2&&(Y=c(Array(Ce-2).fill(he)))),Ce-=2,ve.pop(),ve.pop();for(var Fe=0;Fe<Ce;Fe++)ve[Fe].pop(),ve[Fe].pop()}if(Ce===0)break}if(xe.sort((Xt,bt)=>+t(s(Xt),s(bt))),K>100){var wt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+xe.join(", "));throw wt.values=xe,wt.vectors=[],wt}var Ct=pe?i(tt,L(ze,V)):void 0;return{values:xe,C:Ct}}function P(H,V,fe,_e,pe,de,we){var he=m(fe),ve=i(he,H,fe),xe=we==="BigNumber",Ce=we==="Complex",ze=xe?u(0):Ce?S(0):0,tt=xe?u(1):Ce?S(1):1,Y=[],K=[];for(var ge of pe){var X=B(Y,ge,b);X===-1?(Y.push(ge),K.push(1)):K[X]+=1}for(var ne=[],ue=Y.length,De=Array(V).fill(ze),Ee=c(Array(V).fill(tt)),Ze=function(){var Ct=Y[Fe],Xt=t(ve,i(Ct,Ee)),bt=v(Xt,De);for(bt.shift();bt.length<K[Fe];){var Q=T(Xt,V,bt,de,we);if(Q===null)break;bt.push(Q)}var ce=i(m(_e),fe);bt=bt.map(ye=>i(ce,ye)),ne.push(...bt.map(ye=>({value:Ct,vector:r(ye)})))},Fe=0;Fe<ue;Fe++)Ze();return ne}function O(H,V,fe,_e){var pe=e(H,_e),de=t(a(H,_e),a(V,fe)),we=a(pe,.5),he=a(l(t(a(pe,pe),a(4,de))),.5);return[e(we,he),t(we,he)]}function U(H,V,fe,_e,pe,de,we,he){var ve=he==="BigNumber",xe=he==="Complex",Ce=ve?u(0):xe?S(0):0,ze=ve?u(1):xe?S(1):1;if(w(s(fe),we))return[[ze,Ce],[Ce,ze]];if(y(s(t(pe,de)),we))return[[t(pe,_e),t(de,_e)],[fe,fe]];var tt=t(H,pe),Y=t(_e,pe);return w(s(V),we)&&w(s(Y),we)?[[tt,ze],[fe,Ce]]:[[V,Ce],[Y,ze]]}function z(H,V){for(var fe=0;fe<H.length;fe++)H[fe].push(...Array(V-H[fe].length).fill(0));for(var _e=H.length;_e<V;_e++)H.push(Array(V).fill(0)),H[_e][_e]=1;return H}function L(H,V){for(var fe=[],_e=0;_e<V;_e++)fe[_e]=Array(V).fill(0);var pe=0;for(var de of H){for(var we=de.length,he=0;he<we;he++)for(var ve=0;ve<we;ve++)fe[pe+he][pe+ve]=de[he][ve];pe+=we}return fe}function B(H,V,fe){for(var _e=0;_e<H.length;_e++)if(fe(H[_e],V))return _e;return-1}function T(H,V,fe,_e,pe){for(var de=pe==="BigNumber"?u(1e3):1e3,we,he=0;he<5;++he){we=G(V,fe,pe);try{we=d(H,we)}catch(xe){continue}if(y(ie(we),de))break}if(he>=5)return null;for(he=0;;){var ve=d(H,we);if(w(ie(R(we,[ve])),_e))break;if(++he>=10)return null;we=j(ve)}return we}function G(H,V,fe){var _e=fe==="BigNumber",pe=fe==="Complex",de=Array(H).fill(0).map(we=>2*Math.random()-1);return _e&&(de=de.map(we=>u(we))),pe&&(de=de.map(we=>S(we))),de=R(de,V),j(de,fe)}function R(H,V){var fe=f(H);for(var _e of V)_e=p(_e,fe),H=t(H,i(o(x(_e,H),x(_e,_e)),_e));return H}function ie(H){return s(l(x(H,H)))}function j(H,V){var fe=V==="BigNumber",_e=V==="Complex",pe=fe?u(1):_e?S(1):1;return i(o(pe,ie(H)),H)}return M}function fO(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:a,cos:o,sin:l,multiplyScalar:s,inv:u,bignumber:c,multiply:f,add:p}=n;function m(N,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,O=arguments.length>3?arguments[3]:void 0,U=arguments.length>4?arguments[4]:void 0;if(O==="number")return h(N,P,U);if(O==="BigNumber")return d(N,P,U);throw TypeError("Unsupported data type: "+O)}function h(N,E,P){var O=N.length,U=Math.abs(E/O),z,L;if(P){L=new Array(O);for(var B=0;B<O;B++)L[B]=Array(O).fill(0),L[B][B]=1}for(var T=x(N);Math.abs(T[1])>=Math.abs(U);){var G=T[0][0],R=T[0][1];z=v(N[G][G],N[R][R],N[G][R]),N=_(N,z,G,R),P&&(L=S(L,z,G,R)),T=x(N)}for(var ie=Array(O).fill(0),j=0;j<O;j++)ie[j]=N[j][j];return D(lt(ie),L,P)}function d(N,E,P){var O=N.length,U=i(E/O),z,L;if(P){L=new Array(O);for(var B=0;B<O;B++)L[B]=Array(O).fill(0),L[B][B]=1}for(var T=M(N);i(T[1])>=i(U);){var G=T[0][0],R=T[0][1];z=b(N[G][G],N[R][R],N[G][R]),N=w(N,z,G,R),P&&(L=y(L,z,G,R)),T=M(N)}for(var ie=Array(O).fill(0),j=0;j<O;j++)ie[j]=N[j][j];return D(lt(ie),L,P)}function v(N,E,P){var O=E-N;return Math.abs(O)<=e.epsilon?Math.PI/4:.5*Math.atan(2*P/(E-N))}function b(N,E,P){var O=r(E,N);return i(O)<=e.epsilon?c(-1).acos().div(4):s(.5,a(f(2,P,u(O))))}function S(N,E,P,O){for(var U=N.length,z=Math.cos(E),L=Math.sin(E),B=Array(U).fill(0),T=Array(U).fill(0),G=0;G<U;G++)B[G]=z*N[G][P]-L*N[G][O],T[G]=L*N[G][P]+z*N[G][O];for(var R=0;R<U;R++)N[R][P]=B[R],N[R][O]=T[R];return N}function y(N,E,P,O){for(var U=N.length,z=o(E),L=l(E),B=Array(U).fill(c(0)),T=Array(U).fill(c(0)),G=0;G<U;G++)B[G]=r(s(z,N[G][P]),s(L,N[G][O])),T[G]=t(s(L,N[G][P]),s(z,N[G][O]));for(var R=0;R<U;R++)N[R][P]=B[R],N[R][O]=T[R];return N}function w(N,E,P,O){for(var U=N.length,z=c(o(E)),L=c(l(E)),B=s(z,z),T=s(L,L),G=Array(U).fill(c(0)),R=Array(U).fill(c(0)),ie=f(c(2),z,L,N[P][O]),j=t(r(s(B,N[P][P]),ie),s(T,N[O][O])),H=p(s(T,N[P][P]),ie,s(B,N[O][O])),V=0;V<U;V++)G[V]=r(s(z,N[P][V]),s(L,N[O][V])),R[V]=t(s(L,N[P][V]),s(z,N[O][V]));N[P][P]=j,N[O][O]=H,N[P][O]=c(0),N[O][P]=c(0);for(var fe=0;fe<U;fe++)fe!==P&&fe!==O&&(N[P][fe]=G[fe],N[fe][P]=G[fe],N[O][fe]=R[fe],N[fe][O]=R[fe]);return N}function _(N,E,P,O){for(var U=N.length,z=Math.cos(E),L=Math.sin(E),B=z*z,T=L*L,G=Array(U).fill(0),R=Array(U).fill(0),ie=B*N[P][P]-2*z*L*N[P][O]+T*N[O][O],j=T*N[P][P]+2*z*L*N[P][O]+B*N[O][O],H=0;H<U;H++)G[H]=z*N[P][H]-L*N[O][H],R[H]=L*N[P][H]+z*N[O][H];N[P][P]=ie,N[O][O]=j,N[P][O]=0,N[O][P]=0;for(var V=0;V<U;V++)V!==P&&V!==O&&(N[P][V]=G[V],N[V][P]=G[V],N[O][V]=R[V],N[V][O]=R[V]);return N}function x(N){for(var E=N.length,P=0,O=[0,1],U=0;U<E;U++)for(var z=U+1;z<E;z++)Math.abs(P)<Math.abs(N[U][z])&&(P=Math.abs(N[U][z]),O=[U,z]);return[O,P]}function M(N){for(var E=N.length,P=0,O=[0,1],U=0;U<E;U++)for(var z=U+1;z<E;z++)i(P)<i(N[U][z])&&(P=i(N[U][z]),O=[U,z]);return[O,P]}function D(N,E,P){var O=N.length,U=Array(O),z;if(P){z=Array(O);for(var L=0;L<O;L++)z[L]=Array(O)}for(var B=0;B<O;B++){for(var T=0,G=N[0],R=0;R<N.length;R++)i(N[R])<i(G)&&(T=R,G=N[T]);if(U[B]=N.splice(T,1)[0],P)for(var ie=0;ie<O;ie++)z[B][ie]=E[ie][T],E[ie].splice(T,1)}if(!P)return{values:U};var j=z.map((H,V)=>({value:U[V],vector:H}));return{values:U,eigenvectors:j}}return m}var Rj="eigs",Lj=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Kx=C(Rj,Lj,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:a,equal:o,abs:l,atan:s,cos:u,sin:c,multiplyScalar:f,divideScalar:p,inv:m,bignumber:h,multiply:d,add:v,larger:b,column:S,flatten:y,number:w,complex:_,sqrt:x,diag:M,size:D,reshape:N,qr:E,usolve:P,usolveAll:O,im:U,re:z,smaller:L,matrixFromColumns:B,dot:T}=n,G=fO({config:e,addScalar:i,subtract:a,column:S,flatten:y,equal:o,abs:l,atan:s,cos:u,sin:c,multiplyScalar:f,inv:m,bignumber:h,complex:_,multiply:d,add:v}),R=cO({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:p,sqrt:x,abs:l,bignumber:h,diag:M,size:D,reshape:N,qr:E,inv:m,usolve:P,usolveAll:O,equal:o,complex:_,larger:b,smaller:L,matrixFromColumns:B,dot:T});return t("eigs",{Array:function(de){return ie(r(de))},"Array, number|BigNumber":function(de,we){return ie(r(de),{precision:we})},"Array, Object"(pe,de){return ie(r(pe),de)},Matrix:function(de){return ie(de,{matricize:!0})},"Matrix, number|BigNumber":function(de,we){return ie(de,{precision:we,matricize:!0})},"Matrix, Object":function(de,we){var he={matricize:!0};return Cr(he,we),ie(de,he)}});function ie(pe){var de,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he="eigenvectors"in we?we.eigenvectors:!0,ve=(de=we.precision)!==null&&de!==void 0?de:e.epsilon,xe=j(pe,ve,he);return we.matricize&&(xe.values=r(xe.values),he&&(xe.eigenvectors=xe.eigenvectors.map(Ce=>{var{value:ze,vector:tt}=Ce;return{value:ze,vector:r(tt)}}))),he&&Object.defineProperty(xe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),xe}function j(pe,de,we){var he=pe.toArray(),ve=pe.size();if(ve.length!==2||ve[0]!==ve[1])throw new RangeError("Matrix must be square (size: ".concat(vt(ve),")"));var xe=ve[0];if(V(he,xe,de)&&(fe(he,xe),H(he,xe,de))){var Ce=_e(pe,he,xe);return G(he,xe,de,Ce,we)}var ze=_e(pe,he,xe);return R(he,xe,de,ze,we)}function H(pe,de,we){for(var he=0;he<de;he++)for(var ve=he;ve<de;ve++)if(b(h(l(a(pe[he][ve],pe[ve][he]))),we))return!1;return!0}function V(pe,de,we){for(var he=0;he<de;he++)for(var ve=0;ve<de;ve++)if(b(h(l(U(pe[he][ve]))),we))return!1;return!0}function fe(pe,de){for(var we=0;we<de;we++)for(var he=0;he<de;he++)pe[we][he]=z(pe[we][he])}function _e(pe,de,we){var he=pe.datatype();if(he==="number"||he==="BigNumber"||he==="Complex")return he;for(var ve=!1,xe=!1,Ce=!1,ze=0;ze<we;ze++)for(var tt=0;tt<we;tt++){var Y=de[ze][tt];if(mt(Y)||Ha(Y))ve=!0;else if(at(Y))xe=!0;else if(Xn(Y))Ce=!0;else throw TypeError("Unsupported type in Matrix: "+$t(Y))}if(xe&&Ce&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Ce){for(var K=0;K<we;K++)for(var ge=0;ge<we;ge++)de[K][ge]=_(de[K][ge]);return"Complex"}if(xe){for(var X=0;X<we;X++)for(var ne=0;ne<we;ne++)de[X][ne]=h(de[X][ne]);return"BigNumber"}if(ve){for(var ue=0;ue<we;ue++)for(var De=0;De<we;De++)de[ue][De]=w(de[ue][De]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var pO="expm",Uj=["typed","abs","add","identity","inv","multiply"],e1=C(pO,Uj,n=>{var{typed:e,abs:t,add:r,identity:i,inv:a,multiply:o}=n;return e(pO,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+vt(p)+")");for(var m=p[0],h=1e-15,d=l(f),v=s(d,h),b=v.q,S=v.j,y=o(f,Math.pow(2,-S)),w=i(m),_=i(m),x=1,M=y,D=-1,N=1;N<=b;N++)N>1&&(M=o(M,y),D=-D),x=x*(b-N+1)/((2*b-N+1)*N),w=r(w,o(x,M)),_=r(_,o(x*D,M));for(var E=o(a(_),w),P=0;P<S;P++)E=o(E,E);return na(f)?f.createSparseMatrix(E):E}});function l(c){for(var f=c.size()[0],p=0,m=0;m<f;m++){for(var h=0,d=0;d<f;d++)h+=t(c.get([m,d]));p=Math.max(h,p)}return p}function s(c,f){for(var p=30,m=0;m<p;m++)for(var h=0;h<=m;h++){var d=m-h;if(u(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,f,p){for(var m=1,h=2;h<=f;h++)m*=h;for(var d=m,v=f+1;v<=2*f;v++)d*=v;var b=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,p),2*f)*m*m/(d*b)}});var mO="sqrtm",Vj=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],t1=C(mO,Vj,n=>{var{typed:e,abs:t,add:r,multiply:i,map:a,sqrt:o,subtract:l,inv:s,size:u,max:c,identity:f}=n,p=1e3,m=1e-6;function h(d){var v,b=0,S=d,y=f(u(d));do{var w=S;if(S=i(.5,r(w,s(y))),y=i(.5,r(y,s(w))),v=c(t(l(S,w))),v>m&&++b>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>m);return S}return e(mO,{"Array | Matrix":function(v){var b=rt(v)?v.size():ft(v);switch(b.length){case 1:if(b[0]===1)return a(v,o);throw new RangeError("Matrix must be square (size: "+vt(b)+")");case 2:{var S=b[0],y=b[1];if(S===y)return h(v);throw new RangeError("Matrix must be square (size: "+vt(b)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+vt(b)+")")}}})});var dO="sylvester",qj=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],r1=C(dO,qj,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:a,range:o,concat:l,transpose:s,index:u,subset:c,add:f,subtract:p,identity:m,lusolve:h,abs:d}=n;return e(dO,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(S,y,w){return v(i(S),y,w)},"Array, Array, Matrix":function(S,y,w){return v(i(S),i(y),w)},"Array, Matrix, Array":function(S,y,w){return v(i(S),y,i(w))},"Matrix, Array, Matrix":function(S,y,w){return v(S,i(y),w)},"Matrix, Array, Array":function(S,y,w){return v(S,i(y),i(w))},"Matrix, Matrix, Array":function(S,y,w){return v(S,y,i(w))},"Array, Array, Array":function(S,y,w){return v(i(S),i(y),i(w)).toArray()}});function v(b,S,y){for(var w=S.size()[0],_=b.size()[0],x=t(b),M=x.T,D=x.U,N=t(a(-1,S)),E=N.T,P=N.U,O=a(a(s(D),y),P),U=o(0,_),z=[],L=(Ce,ze)=>l(Ce,ze,1),B=(Ce,ze)=>l(Ce,ze,0),T=0;T<w;T++)if(T<w-1&&d(c(E,u(T+1,T)))>1e-5){for(var G=B(c(O,u(U,T)),c(O,u(U,T+1))),R=0;R<T;R++)G=f(G,B(a(z[R],c(E,u(R,T))),a(z[R],c(E,u(R,T+1)))));var ie=a(m(_),a(-1,c(E,u(T,T)))),j=a(m(_),a(-1,c(E,u(T+1,T)))),H=a(m(_),a(-1,c(E,u(T,T+1)))),V=a(m(_),a(-1,c(E,u(T+1,T+1)))),fe=B(L(f(M,ie),j),L(H,f(M,V))),_e=h(fe,G);z[T]=_e.subset(u(o(0,_),0)),z[T+1]=_e.subset(u(o(_,2*_),0)),T++}else{for(var pe=c(O,u(U,T)),de=0;de<T;de++)pe=f(pe,a(z[de],c(E,u(de,T))));var we=c(E,u(T,T)),he=p(M,a(we,m(_)));z[T]=h(he,pe)}var ve=i(r(...z)),xe=a(D,a(ve,s(P)));return xe}});var hO="schur",zj=["typed","matrix","identity","multiply","qr","norm","subtract"],n1=C(hO,zj,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:a,norm:o,subtract:l}=n;return e(hO,{Array:function(c){var f=s(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return s(c)}});function s(u){var c=u.size()[0],f=u,p=r(c),m=0,h;do{h=f;var d=a(f),v=d.Q,b=d.R;if(f=i(b,v),p=i(p,v),m++>100)break}while(o(l(f,h))>1e-4);return{U:p,T:f}}});var gO="lyap",$j=["typed","matrix","sylvester","multiply","transpose"],i1=C(gO,$j,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:a}=n;return e(gO,{"Matrix, Matrix":function(l,s){return r(l,a(l),i(-1,s))},"Array, Matrix":function(l,s){return r(t(l),a(t(l)),i(-1,s))},"Matrix, Array":function(l,s){return r(l,a(t(l)),t(i(-1,s)))},"Array, Array":function(l,s){return r(t(l),a(t(l)),t(i(-1,s))).toArray()}})});var Hj="divide",Gj=["typed","matrix","multiply","equalScalar","divideScalar","inv"],a1=C(Hj,Gj,n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:a,inv:o}=n,l=dr({typed:e,equalScalar:i}),s=Xr({typed:e});return e("divide",ip({"Array | Matrix, Array | Matrix":function(c,f){return r(c,o(f))},"DenseMatrix, any":function(c,f){return s(c,f,a,!1)},"SparseMatrix, any":function(c,f){return l(c,f,a,!1)},"Array, any":function(c,f){return s(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return r(c,o(f))}},a.signatures))});var vO="distance",Wj=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],o1=C(vO,Wj,n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:l,abs:s}=n;return e(vO,{"Array, Array, Array":function(_,x,M){if(_.length===2&&x.length===2&&M.length===2){if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,M))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=r(M[1],x[1]),N=r(x[0],M[0]),E=r(i(M[0],x[1]),i(x[0],M[1]));return v(_[0],_[1],D,N,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(_,x,M){if(Object.keys(_).length===2&&Object.keys(x).length===2&&Object.keys(M).length===2){if(!c(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(M))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(M)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in _&&"pointY"in _&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in M&&"lineTwoPtY"in M){var D=r(M.lineTwoPtY,x.lineOnePtY),N=r(x.lineOnePtX,M.lineTwoPtX),E=r(i(M.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,M.lineTwoPtY));return v(_.pointX,_.pointY,D,N,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(_,x){if(_.length===2&&x.length===3){if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(_[0],_[1],x[0],x[1],x[2])}else if(_.length===3&&x.length===6){if(!f(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return b(_[0],_[1],_[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(_.length===x.length&&_.length>0){if(!p(_))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return S(_,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(_,x){if(Object.keys(_).length===2&&Object.keys(x).length===3){if(!c(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return v(_.pointX,_.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(x).length===6){if(!f(_))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return b(_.pointX,_.pointY,_.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===2&&Object.keys(x).length===2){if(!c(_))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointTwoX"in x&&"pointTwoY"in x)return S([_.pointOneX,_.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(x).length===3){if(!f(_))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointOneZ"in _&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return S([_.pointOneX,_.pointOneY,_.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(_){if(!d(_))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(_)}});function u(w){return typeof w=="number"||at(w)}function c(w){return w.constructor!==Array&&(w=h(w)),u(w[0])&&u(w[1])}function f(w){return w.constructor!==Array&&(w=h(w)),u(w[0])&&u(w[1])&&u(w[2])}function p(w){return Array.isArray(w)||(w=h(w)),w.every(u)}function m(w){return w.constructor!==Array&&(w=h(w)),u(w[0])&&u(w[1])&&u(w[2])&&u(w[3])&&u(w[4])&&u(w[5])}function h(w){for(var _=Object.keys(w),x=[],M=0;M<_.length;M++)x.push(w[_[M]]);return x}function d(w){if(w[0].length===2&&u(w[0][0])&&u(w[0][1])){if(w.some(_=>_.length!==2||!u(_[0])||!u(_[1])))return!1}else if(w[0].length===3&&u(w[0][0])&&u(w[0][1])&&u(w[0][2])){if(w.some(_=>_.length!==3||!u(_[0])||!u(_[1])||!u(_[2])))return!1}else return!1;return!0}function v(w,_,x,M,D){var N=s(t(t(i(x,w),i(M,_)),D)),E=l(t(i(x,x),i(M,M)));return a(N,E)}function b(w,_,x,M,D,N,E,P,O){var U=[r(i(r(D,_),O),i(r(N,x),P)),r(i(r(N,x),E),i(r(M,w),O)),r(i(r(M,w),P),i(r(D,_),E))];U=l(t(t(i(U[0],U[0]),i(U[1],U[1])),i(U[2],U[2])));var z=l(t(t(i(E,E),i(P,P)),i(O,O)));return a(U,z)}function S(w,_){for(var x=w.length,M=0,D=0,N=0;N<x;N++)D=r(w[N],_[N]),M=t(i(D,D),M);return l(M)}function y(w){for(var _=[],x=[],M=[],D=0;D<w.length-1;D++)for(var N=D+1;N<w.length;N++)w[0].length===2?(x=[w[D][0],w[D][1]],M=[w[N][0],w[N][1]]):w[0].length===3&&(x=[w[D][0],w[D][1],w[D][2]],M=[w[N][0],w[N][1],w[N][2]]),_.push(S(x,M));return _}});var Yj="intersect",jj=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],s1=C(Yj,jj,n=>{var{typed:e,config:t,abs:r,add:i,addScalar:a,matrix:o,multiply:l,multiplyScalar:s,divideScalar:u,subtract:c,smaller:f,equalScalar:p,flatten:m,isZero:h,isNumeric:d}=n;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":b,"Matrix, Matrix, Matrix":function(P,O,U){var z=v(P.valueOf(),O.valueOf(),U.valueOf());return z===null?null:o(z)},"Matrix, Matrix, Matrix, Matrix":function(P,O,U,z){var L=b(P.valueOf(),O.valueOf(),U.valueOf(),z.valueOf());return L===null?null:o(L)}});function v(E,P,O){if(E=S(E),P=S(P),O=S(O),!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(O))throw new TypeError("Array with 4 numbers expected as third argument");return N(E[0],E[1],E[2],P[0],P[1],P[2],O[0],O[1],O[2],O[3])}function b(E,P,O,U){if(E=S(E),P=S(P),O=S(O),U=S(U),E.length===2){if(!y(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(E,P,O,U)}else if(E.length===3){if(!w(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return D(E[0],E[1],E[2],P[0],P[1],P[2],O[0],O[1],O[2],U[0],U[1],U[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function S(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(P=>Array.isArray(P)&&P.length===1)?m(E):E}function y(E){return E.length===2&&d(E[0])&&d(E[1])}function w(E){return E.length===3&&d(E[0])&&d(E[1])&&d(E[2])}function _(E){return E.length===4&&d(E[0])&&d(E[1])&&d(E[2])&&d(E[3])}function x(E,P,O,U){var z=E,L=O,B=c(z,P),T=c(L,U),G=c(s(B[0],T[1]),s(T[0],B[1]));if(h(G)||f(r(G),t.epsilon))return null;var R=s(T[0],z[1]),ie=s(T[1],z[0]),j=s(T[0],L[1]),H=s(T[1],L[0]),V=u(a(c(c(R,ie),j),H),G);return i(l(B,V),z)}function M(E,P,O,U,z,L,B,T,G,R,ie,j){var H=s(c(E,P),c(O,U)),V=s(c(z,L),c(B,T)),fe=s(c(G,R),c(ie,j));return a(a(H,V),fe)}function D(E,P,O,U,z,L,B,T,G,R,ie,j){var H=M(E,B,R,B,P,T,ie,T,O,G,j,G),V=M(R,B,U,E,ie,T,z,P,j,G,L,O),fe=M(E,B,U,E,P,T,z,P,O,G,L,O),_e=M(R,B,R,B,ie,T,ie,T,j,G,j,G),pe=M(U,E,U,E,z,P,z,P,L,O,L,O),de=c(s(H,V),s(fe,_e)),we=c(s(pe,_e),s(V,V));if(h(we))return null;var he=u(de,we),ve=u(a(H,s(he,V)),_e),xe=a(E,s(he,c(U,E))),Ce=a(P,s(he,c(z,P))),ze=a(O,s(he,c(L,O))),tt=a(B,s(ve,c(R,B))),Y=a(T,s(ve,c(ie,T))),K=a(G,s(ve,c(j,G)));return p(xe,tt)&&p(Ce,Y)&&p(ze,K)?[xe,Ce,ze]:null}function N(E,P,O,U,z,L,B,T,G,R){var ie=s(E,B),j=s(U,B),H=s(P,T),V=s(z,T),fe=s(O,G),_e=s(L,G),pe=c(c(c(R,ie),H),fe),de=c(c(c(a(a(j,V),_e),ie),H),fe),we=u(pe,de),he=a(E,s(we,c(U,E))),ve=a(P,s(we,c(z,P))),xe=a(O,s(we,c(L,O)));return[he,ve,xe]}});var yO="sum",Zj=["typed","config","add","numeric"],tc=C(yO,Zj,n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e(yO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(s){if(Vi(s))throw new TypeError("Scalar values expected in function sum");return a(s)}});function a(l){var s;return Rn(l,function(u){try{s=s===void 0?u:r(s,u)}catch(c){throw $r(c,"sum",u)}}),s===void 0&&(s=i(0,t.number)),typeof s=="string"&&(s=i(s,t.number)),s}function o(l,s){try{var u=To(l,s,r);return u}catch(c){throw $r(c,"sum")}}});var um="cumsum",Jj=["typed","add","unaryPlus"],rc=C(um,Jj,n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(um,{Array:i,Matrix:function(u){return u.create(i(u.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(u,c){return u.create(o(u.valueOf(),c))},"...":function(u){if(Vi(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(s){try{return a(s)}catch(u){throw $r(u,um)}}function a(s){if(s.length===0)return[];for(var u=[r(s[0])],c=1;c<s.length;++c)u.push(t(u[c-1],s[c]));return u}function o(s,u){var c=ft(s);if(u<0||u>=c.length)throw new Dn(u,c.length);try{return l(s,u)}catch(f){throw $r(f,um)}}function l(s,u){var c,f,p;if(u<=0){var m=s[0][0];if(Array.isArray(m)){for(p=_p(s),f=[],c=0;c<p.length;c++)f[c]=l(p[c],u-1);return f}else return a(s)}else{for(f=[],c=0;c<s.length;c++)f[c]=l(s[c],u-1);return f}}});var bO="mean",Xj=["typed","add","divide"],nc=C(bO,Xj,n=>{var{typed:e,add:t,divide:r}=n;return e(bO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(l){if(Vi(l))throw new TypeError("Scalar values expected in function mean");return a(l)}});function i(o,l){try{var s=To(o,l,t),u=Array.isArray(o)?ft(o):o.size();return r(s,u[l])}catch(c){throw $r(c,"mean")}}function a(o){var l,s=0;if(Rn(o,function(u){try{l=l===void 0?u:t(l,u),s++}catch(c){throw $r(c,"mean",u)}}),s===0)throw new Error("Cannot calculate the mean of an empty array");return r(l,s)}});var xO="median",Qj=["typed","add","divide","compare","partitionSelect"],u1=C(xO,Qj,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:a}=n;function o(u){try{u=Tt(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,p=a(u,f+1),m=u[f],h=0;h<f;++h)i(u[h],m)>0&&(m=u[h]);return s(m,p)}else{var d=a(u,(c-1)/2);return l(d)}}catch(v){throw $r(v,"median")}}var l=e({"number | BigNumber | Complex | Unit":function(c){return c}}),s=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return r(t(c,f),2)}});return e(xO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(Vi(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var wO="mad",Kj=["typed","abs","map","median","subtract"],l1=C(wO,Kj,n=>{var{typed:e,abs:t,map:r,median:i,subtract:a}=n;return e(wO,{"Array | Matrix":o,"...":function(s){return o(s)}});function o(l){if(l=Tt(l.valueOf()),l.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var s=i(l);return i(r(l,function(u){return t(a(u,s))}))}catch(u){throw u instanceof TypeError&&u.message.indexOf("median")!==-1?new TypeError(u.message.replace("median","mad")):$r(u,"mad")}}});var c1="unbiased",_O="variance",eZ=["typed","add","subtract","multiply","divide","apply","isNaN"],ic=C(_O,eZ,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,apply:o,isNaN:l}=n;return e(_O,{"Array | Matrix":function(f){return s(f,c1)},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(f,p){return u(f,p,c1)},"Array | Matrix, number | BigNumber, string":u,"...":function(f){return s(f,c1)}});function s(c,f){var p,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Rn(c,function(v){try{p=p===void 0?v:t(p,v),m++}catch(b){throw $r(b,"variance",v)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=a(p,m);if(p=void 0,Rn(c,function(v){var b=r(v,h);p=p===void 0?i(b,b):t(p,i(b,b))}),l(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=at(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,f,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,m=>s(m,p))}catch(m){throw $r(m,"variance")}}});var SO="quantileSeq",tZ=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],ac=C(SO,tZ,n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:s,isInteger:u,smaller:c,smallerEq:f,larger:p}=n,m=bs({typed:e,isInteger:u});return e(SO,{"Array | Matrix, number | BigNumber":(S,y)=>d(S,y,!1),"Array | Matrix, number | BigNumber, number":(S,y,w)=>h(S,y,!1,w,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(S,y,w,_)=>h(S,y,w,_,d),"Array | Matrix, Array | Matrix":(S,y)=>v(S,y,!1),"Array | Matrix, Array | Matrix, number":(S,y,w)=>h(S,y,!1,w,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(S,y,w,_)=>h(S,y,w,_,v)});function h(S,y,w,_,x){return m(S,_,M=>x(M,y,w))}function d(S,y,w){var _,x=S.valueOf();if(c(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return mt(y)?b(x,y,w):t(b(x,y,w));if(p(y,1)){if(!u(y))throw new Error("N must be a positive integer");if(p(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var M=r(y,1);_=[];for(var D=0;c(D,y);D++){var N=a(D+1,M);_.push(b(x,N,w))}return mt(y)?_:t(_)}}function v(S,y,w){for(var _=S.valueOf(),x=y.valueOf(),M=[],D=0;D<x.length;++D)M.push(b(_,x[D],w));return M}function b(S,y,w){var _=Tt(S),x=_.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var M=mt(y)?y*(x-1):y.times(x-1),D=mt(y)?Math.floor(M):M.floor().toNumber(),N=mt(y)?M%1:M.minus(D);if(u(M))return w?_[M]:l(_,mt(y)?M:M.valueOf());var E,P;if(w)E=_[D],P=_[D+1];else{P=l(_,D+1),E=_[D];for(var O=0;O<D;++O)s(_[O],E)>0&&(E=_[O])}return r(o(E,i(1,N)),o(P,N))}});var AO="std",rZ=["typed","map","sqrt","variance"],oc=C(AO,rZ,n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e(AO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(l){return a(l)}});function a(o,l){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var s=i.apply(null,arguments);return Yr(s)?t(s,r):r(s)}catch(u){throw u instanceof TypeError&&u.message.indexOf(" variance")!==-1?new TypeError(u.message.replace(" variance"," std")):u}}});var NO="corr",nZ=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],f1=C(NO,nZ,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:a,subtract:o,multiply:l,pow:s,divide:u}=n;return e(NO,{"Array, Array":function(m,h){return c(m,h)},"Matrix, Matrix":function(m,h){var d=c(m.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function c(p,m){var h=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(p[d],m[d]))}return h}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var h=p.length,d=i(p),v=i(m),b=p.reduce((x,M,D)=>a(x,l(M,m[D])),0),S=i(p.map(x=>s(x,2))),y=i(m.map(x=>s(x,2))),w=o(l(h,b),l(d,v)),_=r(l(o(l(h,S),s(d,2)),o(l(h,y),s(v,2))));return u(w,_)}});var DO="combinations",iZ=["typed"],p1=C(DO,iZ,n=>{var{typed:e}=n;return e(DO,{"number, number":Cv,"BigNumber, BigNumber":function(r,i){var a=r.constructor,o,l,s=r.minus(i),u=new a(1);if(!EO(r)||!EO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=u,i.lt(s))for(l=u;l.lte(s);l=l.plus(u))o=o.times(i.plus(l)).dividedBy(l);else for(l=u;l.lte(i);l=l.plus(u))o=o.times(s.plus(l)).dividedBy(l);return o}})});function EO(n){return n.isInteger()&&n.gte(0)}var MO="combinationsWithRep",aZ=["typed"],m1=C(MO,aZ,n=>{var{typed:e}=n;return e(MO,{"number, number":function(r,i){if(!Qe(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Qe(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<r-1){var a=_i(r,r+i-1);return a/_i(1,i)}var o=_i(i+1,r+i-1);return o/_i(1,r-1)},"BigNumber, BigNumber":function(r,i){var a=r.constructor,o,l,s=new a(1),u=r.minus(s);if(!CO(r)||!CO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(s))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=s,i.lt(u))for(l=s;l.lte(u);l=l.plus(s))o=o.times(i.plus(l)).dividedBy(l);else for(l=s;l.lte(i);l=l.plus(s))o=o.times(u.plus(l)).dividedBy(l);return o}})});function CO(n){return n.isInteger()&&n.gte(0)}var TO="gamma",oZ=["typed","config","multiplyScalar","pow","BigNumber","Complex"],d1=C(TO,oZ,n=>{var{typed:e,config:t,multiplyScalar:r,pow:i,BigNumber:a,Complex:o}=n;function l(u){if(u.im===0)return Bl(u.re);if(u.re<.5){var c=new o(1-u.re,-u.im),f=new o(Math.PI*u.re,Math.PI*u.im);return new o(Math.PI).div(f.sin()).div(l(c))}u=new o(u.re-1,u.im);for(var p=new o(ys[0],0),m=1;m<ys.length;++m){var h=new o(ys[m],0);p=p.add(h.div(u.add(m)))}var d=new o(u.re+Ov+.5,u.im),v=Math.sqrt(2*Math.PI),b=d.pow(u.add(.5)),S=d.neg().exp();return p.mul(v).mul(b).mul(S)}return e(TO,{number:Bl,Complex:l,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):s(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function s(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=t.precision+(Math.log(u.toNumber())|0),f=a.clone({precision:c});if(u%2===1)return u.times(s(new a(u-1)));for(var p=u,m=new f(u),h=u.toNumber();p>2;)p-=2,h+=p,m=m.times(h);return new a(m.toPrecision(a.precision))}});var FO="lgamma",sZ=["Complex","typed"],h1=C(FO,sZ,n=>{var{Complex:e,typed:t}=n,r=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(FO,{number:Ol,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(u){var c=6.283185307179586,f=1.1447298858494002,p=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(Ol(u.re),0);if(u.re>=r||Math.abs(u.im)>=i)return l(u);if(u.re<=p){var m=uE(c,u.im)*Math.floor(.5*u.re+.25),h=u.mul(Math.PI).sin().log(),d=o(new e(1-u.re,-u.im));return new e(f,m).sub(h).sub(d)}else return u.im>=0?s(u):s(u.conjugate()).conjugate()}function l(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(kv),f=new e(1,0).div(u),p=f.div(u),m=a[0],h=a[1],d=2*p.re,v=p.re*p.re+p.im*p.im,b=2;b<8;b++){var S=h;h=-v*m+a[b],m=d*m+S}var y=f.mul(p.mul(m).add(h));return c.add(y)}function s(u){var c=0,f=0,p=u;for(u=u.add(1);u.re<=r;){p=p.mul(u);var m=p.im<0?1:0;m!==0&&f===0&&c++,f=m,u=u.add(1)}return l(u).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}});var IO="factorial",uZ=["typed","gamma"],g1=C(IO,uZ,n=>{var{typed:e,gamma:t}=n;return e(IO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>it(i,r))})});var PO="kldivergence",lZ=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],v1=C(PO,lZ,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:a,map:o,dotDivide:l,log:s,isNumeric:u}=n;return e(PO,{"Array, Array":function(p,m){return c(t(p),t(m))},"Matrix, Array":function(p,m){return c(p,t(m))},"Array, Matrix":function(p,m){return c(t(p),m)},"Matrix, Matrix":function(p,m){return c(p,m)}});function c(f,p){var m=p.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var v=i(p);if(v===0)throw new Error("Sum of elements in second object must be non zero");var b=r(f,i(f)),S=r(p,i(p)),y=i(a(b,o(l(b,S),w=>s(w))));return u(y)?y:Number.NaN}});var BO="multinomial",cZ=["typed","add","divide","multiply","factorial","isInteger","isPositive"],y1=C(BO,cZ,n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:a,isInteger:o,isPositive:l}=n;return e(BO,{"Array | Matrix":function(u){var c=0,f=1;return Rn(u,function(p){if(!o(p)||!l(p))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,p),f=i(f,a(p))}),r(a(c),f)}})});var OO="permutations",fZ=["typed","factorial"],b1=C(OO,fZ,n=>{var{typed:e,factorial:t}=n;return e(OO,{"number | BigNumber":t,"number, number":function(i,a){if(!Qe(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Qe(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return _i(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,l;if(!kO(i)||!kO(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var s=i.mul(0).add(1);for(o=s,l=i.minus(a).plus(1);l.lte(i);l=l.plus(1))o=o.times(l);return o}})});function kO(n){return n.isInteger()&&n.gte(0)}var D1=br(QO(),1),yZ=(0,D1.default)(Date.now());function Xa(n){var e;function t(i){e=i===null?yZ:(0,D1.default)(String(i))}t(n);function r(){return e()}return r}var KO="pickRandom",bZ=["typed","config","?on"],E1=C(KO,bZ,n=>{var{typed:e,config:t,on:r}=n,i=Xa(t.randomSeed);return r&&r("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=Xa(o.randomSeed))}),e(KO,{"Array | Matrix":function(l){return a(l,{})},"Array | Matrix, Object":function(l,s){return a(l,s)},"Array | Matrix, number":function(l,s){return a(l,{number:s})},"Array | Matrix, Array | Matrix":function(l,s){return a(l,{weights:s})},"Array | Matrix, Array | Matrix, number":function(l,s,u){return a(l,{number:u,weights:s})},"Array | Matrix, number, Array | Matrix":function(l,s,u){return a(l,{number:s,weights:u})}});function a(o,l){var{number:s,weights:u,elementWise:c=!0}=l,f=typeof s=="undefined";f&&(s=1);var p=rt(o)?o.create:rt(u)?u.create:null;o=o.valueOf(),u&&(u=u.valueOf()),c===!0&&(o=Tt(o),u=Tt(u));var m=0;if(typeof u!="undefined"){if(u.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=u.length;h<d;h++){if(!mt(u[h])||u[h]<0)throw new Error("Weights must be an array of positive numbers");m+=u[h]}}for(var v=o.length,b=[],S;b.length<s;){if(typeof u=="undefined")S=o[Math.floor(i()*v)];else for(var y=i()*m,w=0,_=o.length;w<_;w++)if(y-=u[w],y<0){S=o[w];break}b.push(S)}return f?b[0]:p?p(b):b}});function sc(n,e){var t=[];if(n=n.slice(0),n.length>1)for(var r=0,i=n.shift();r<i;r++)t.push(sc(n,e));else for(var a=0,o=n.shift();a<o;a++)t.push(e());return t}var ek="random",xZ=["typed","config","?on"],M1=C(ek,xZ,n=>{var{typed:e,config:t,on:r}=n,i=Xa(t.randomSeed);return r&&r("config",function(l,s){l.randomSeed!==s.randomSeed&&(i=Xa(l.randomSeed))}),e(ek,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,s)=>o(l,s),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,s)=>a(l,0,s),"Array | Matrix, number, number":(l,s,u)=>a(l,s,u)});function a(l,s,u){var c=sc(l.valueOf(),()=>o(s,u));return rt(l)?l.create(c):c}function o(l,s){return l+i()*(s-l)}});var tk="randomInt",wZ=["typed","config","?on"],C1=C(tk,wZ,n=>{var{typed:e,config:t,on:r}=n,i=Xa(t.randomSeed);return r&&r("config",function(l,s){l.randomSeed!==s.randomSeed&&(i=Xa(l.randomSeed))}),e(tk,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,s)=>o(l,s),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,s)=>a(l,0,s),"Array | Matrix, number, number":(l,s,u)=>a(l,s,u)});function a(l,s,u){var c=sc(l.valueOf(),()=>o(s,u));return rt(l)?l.create(c):c}function o(l,s){return Math.floor(l+i()*(s-l))}});var rk="stirlingS2",_Z=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],T1=C(rk,_Z,n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:a,pow:o,factorial:l,combinations:s,isNegative:u,isInteger:c,number:f,bignumber:p,larger:m}=n,h=[],d=[];return e(rk,{"number | BigNumber, number | BigNumber":function(b,S){if(!c(b)||u(b)||!c(S)||u(S))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(S,b))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(mt(b)&&mt(S)),w=y?d:h,_=y?p:f,x=f(b),M=f(S);if(w[x]&&w[x].length>M)return w[x][M];for(var D=0;D<=x;++D)if(w[D]||(w[D]=[_(D===0?1:0)]),D!==0)for(var N=w[D],E=w[D-1],P=N.length;P<=D&&P<=M;++P)P===D?N[P]=1:N[P]=t(i(_(P),E[P]),E[P-1]);return w[x][M]}})});var nk="bellNumbers",SZ=["typed","addScalar","isNegative","isInteger","stirlingS2"],F1=C(nk,SZ,n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:a}=n;return e(nk,{"number | BigNumber":function(l){if(!i(l)||r(l))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var s=0,u=0;u<=l;u++)s=t(s,a(l,u));return s}})});var ik="catalan",AZ=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],I1=C(ik,AZ,n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:a,isNegative:o,isInteger:l}=n;return e(ik,{"number | BigNumber":function(u){if(!l(u)||o(u))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(u,2),u),t(u,1))}})});var ak="composition",NZ=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],P1=C(ak,NZ,n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isNegative:a,isInteger:o,larger:l}=n;return e(ak,{"number | BigNumber, number | BigNumber":function(u,c){if(!o(u)||!i(u)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(l(c,u))throw new TypeError("k must be less than or equal to n in function composition");return r(t(u,-1),t(c,-1))}})});var ok="leafCount",DZ=["parse","typed"],B1=C(ok,DZ,n=>{var{parse:e,typed:t}=n;function r(i){var a=0;return i.forEach(o=>{a+=r(o)}),a||1}return t(ok,{Node:function(a){return r(a)}})});function O1(n){return Ot(n)||Mr(n)&&n.isUnary()&&Ot(n.args[0])}function uc(n){return!!(Ot(n)||(Qn(n)||Mr(n))&&n.args.every(uc)||Nn(n)&&uc(n.content))}function sk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function k1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(t),!0).forEach(function(r){ir(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var EZ="simplifyUtil",MZ=["FunctionNode","OperatorNode","SymbolNode"],Iu=C(EZ,MZ,n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,a=!1,o="defaultF",l={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},s={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(y,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,x=o;if(typeof y=="string"?x=y:Mr(y)?x=y.fn.toString():Qn(y)?x=y.name:Nn(y)&&(x="paren"),nt(_,x)){var M=_[x];if(nt(M,w))return M[w];if(nt(l,x))return l[x][w]}if(nt(_,o)){var D=_[o];return nt(D,w)?D[w]:l[o][w]}if(nt(l,x)){var N=l[x];if(nt(N,w))return N[w]}return l[o][w]}function f(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"commutative",w)}function p(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"associative",w)}function m(y,w){var _=k1({},y);for(var x in w)nt(y,x)?_[x]=k1(k1({},w[x]),y[x]):_[x]=w[x];return _}function h(y,w){if(!y.args||y.args.length===0)return y;y.args=d(y,w);for(var _=0;_<y.args.length;_++)h(y.args[_],w)}function d(y,w){var _,x=[],M=function D(N){for(var E=0;E<N.args.length;E++){var P=N.args[E];Mr(P)&&_===P.op?D(P):x.push(P)}};return p(y,w)?(_=y.op,M(y),x):y.args}function v(y,w){if(!(!y.args||y.args.length===0)){for(var _=S(y),x=y.args.length,M=0;M<x;M++)v(y.args[M],w);if(x>2&&p(y,w)){for(var D=y.args.pop();y.args.length>0;)D=_([y.args.pop(),D]);y.args=D.args}}}function b(y,w){if(!(!y.args||y.args.length===0)){for(var _=S(y),x=y.args.length,M=0;M<x;M++)b(y.args[M],w);if(x>2&&p(y,w)){for(var D=y.args.shift();y.args.length>0;)D=_([D,y.args.shift()]);y.args=D.args}}}function S(y){return Mr(y)?function(w){try{return new t(y.op,y.fn,w,y.implicit)}catch(_){return console.error(_),[]}}:function(w){return new e(new r(y.name),w)}}return{createMakeNodeFunction:S,hasProperty:c,isCommutative:f,isAssociative:p,mergeContext:m,flatten:h,allChildren:d,unflattenr:v,unflattenl:b,defaultContext:l,realContext:s,positiveContext:u}});var CZ="simplify",TZ=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],R1=C(CZ,TZ,n=>{var{config:e,typed:t,parse:r,add:i,subtract:a,multiply:o,divide:l,pow:s,isZero:u,equal:c,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:h,bignumber:d,mathWithTransform:v,matrix:b,AccessorNode:S,ArrayNode:y,ConstantNode:w,FunctionNode:_,IndexNode:x,ObjectNode:M,OperatorNode:D,ParenthesisNode:N,SymbolNode:E}=n,{hasProperty:P,isCommutative:O,isAssociative:U,mergeContext:z,flatten:L,unflattenr:B,unflattenl:T,createMakeNodeFunction:G,defaultContext:R,realContext:ie,positiveContext:j}=Iu({FunctionNode:_,OperatorNode:D,SymbolNode:E});t.addConversion({from:"Object",to:"Map",convert:Wa});var H=t("simplify",{Node:he,"Node, Map":(X,ne)=>he(X,!1,ne),"Node, Map, Object":(X,ne,ue)=>he(X,!1,ne,ue),"Node, Array":he,"Node, Array, Map":he,"Node, Array, Map, Object":he});t.removeConversion({from:"Object",to:"Map",convert:Wa}),H.defaultContext=R,H.realContext=ie,H.positiveContext=j;function V(X){return X.transform(function(ne,ue,De){return Nn(ne)?V(ne.content):ne})}var fe={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};H.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function _e(X,ne){var ue={};if(X.s){var De=X.s.split("->");if(De.length===2)ue.l=De[0],ue.r=De[1];else throw SyntaxError("Could not parse rule: "+X.s)}else ue.l=X.l,ue.r=X.r;ue.l=V(r(ue.l)),ue.r=V(r(ue.r));for(var Ee of["imposeContext","repeat","assuming"])Ee in X&&(ue[Ee]=X[Ee]);if(X.evaluate&&(ue.evaluate=r(X.evaluate)),U(ue.l,ne)){var Ze=!O(ue.l,ne),Fe;Ze&&(Fe=we());var wt=G(ue.l),Ct=we();ue.expanded={},ue.expanded.l=wt([ue.l,Ct]),L(ue.expanded.l,ne),B(ue.expanded.l,ne),ue.expanded.r=wt([ue.r,Ct]),Ze&&(ue.expandedNC1={},ue.expandedNC1.l=wt([Fe,ue.l]),ue.expandedNC1.r=wt([Fe,ue.r]),ue.expandedNC2={},ue.expandedNC2.l=wt([Fe,ue.expanded.l]),ue.expandedNC2.r=wt([Fe,ue.expanded.r]))}return ue}function pe(X,ne){for(var ue=[],De=0;De<X.length;De++){var Ee=X[De],Ze=void 0,Fe=typeof Ee;switch(Fe){case"string":Ee={s:Ee};case"object":Ze=_e(Ee,ne);break;case"function":Ze=Ee;break;default:throw TypeError("Unsupported type of rule: "+Fe)}ue.push(Ze)}return ue}var de=0;function we(){return new E("_p"+de++)}function he(X,ne){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:No(),De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ee=De.consoleDebug;ne=pe(ne||H.rules,De.context);var Ze=f(X,ue);Ze=V(Ze);for(var Fe={},wt=Ze.toString({parenthesis:"all"});!Fe[wt];){Fe[wt]=!0,de=0;var Ct=wt;Ee&&console.log("Working on: ",wt);for(var Xt=0;Xt<ne.length;Xt++){var bt="";if(typeof ne[Xt]=="function"?(Ze=ne[Xt](Ze,De),Ee&&(bt=ne[Xt].name)):(L(Ze,De.context),Ze=xe(Ze,ne[Xt],De.context),Ee&&(bt="".concat(ne[Xt].l.toString()," -> ").concat(ne[Xt].r.toString()))),Ee){var Q=Ze.toString({parenthesis:"all"});Q!==Ct&&(console.log("Applying",bt,"produced",Q),Ct=Q)}T(Ze,De.context)}wt=Ze.toString({parenthesis:"all"})}return Ze}function ve(X,ne,ue){var De=X;if(X)for(var Ee=0;Ee<X.length;++Ee){var Ze=xe(X[Ee],ne,ue);Ze!==X[Ee]&&(De===X&&(De=X.slice()),De[Ee]=Ze)}return De}function xe(X,ne,ue){if(ne.assuming){for(var De in ne.assuming)for(var Ee in ne.assuming[De])if(P(De,Ee,ue)!==ne.assuming[De][Ee])return X}var Ze=z(ne.imposeContext,ue),Fe=X;if(Fe instanceof D||Fe instanceof _){var wt=ve(Fe.args,ne,ue);wt!==Fe.args&&(Fe=Fe.clone(),Fe.args=wt)}else if(Fe instanceof N){if(Fe.content){var Ct=xe(Fe.content,ne,ue);Ct!==Fe.content&&(Fe=new N(Ct))}}else if(Fe instanceof y){var Xt=ve(Fe.items,ne,ue);Xt!==Fe.items&&(Fe=new y(Xt))}else if(Fe instanceof S){var bt=Fe.object;Fe.object&&(bt=xe(Fe.object,ne,ue));var Q=Fe.index;Fe.index&&(Q=xe(Fe.index,ne,ue)),(bt!==Fe.object||Q!==Fe.index)&&(Fe=new S(bt,Q))}else if(Fe instanceof x){var ce=ve(Fe.dimensions,ne,ue);ce!==Fe.dimensions&&(Fe=new x(ce))}else if(Fe instanceof M){var ye=!1,ke={};for(var qe in Fe.properties)ke[qe]=xe(Fe.properties[qe],ne,ue),ke[qe]!==Fe.properties[qe]&&(ye=!0);ye&&(Fe=new M(ke))}var Be=ne.r,Ve=K(ne.l,Fe,Ze)[0];if(!Ve&&ne.expanded&&(Be=ne.expanded.r,Ve=K(ne.expanded.l,Fe,Ze)[0]),!Ve&&ne.expandedNC1&&(Be=ne.expandedNC1.r,Ve=K(ne.expandedNC1.l,Fe,Ze)[0],Ve||(Be=ne.expandedNC2.r,Ve=K(ne.expandedNC2.l,Fe,Ze)[0])),Ve){var He=Fe.implicit;Fe=Be.clone(),He&&"implicit"in Be&&(Fe.implicit=!0),Fe=Fe.transform(function(F){return F.isSymbolNode&&nt(Ve.placeholders,F.name)?Ve.placeholders[F.name].clone():F})}return ne.repeat&&Fe!==X&&(Fe=xe(Fe,ne,ue)),Fe}function Ce(X,ne){var ue=[],De,Ee,Ze=G(X);if(O(X,ne))for(var Fe=0;Fe<X.args.length;Fe++)Ee=X.args.slice(0),Ee.splice(Fe,1),De=Ee.length===1?Ee[0]:Ze(Ee),ue.push(Ze([X.args[Fe],De]));else for(var wt=1;wt<X.args.length;wt++){var Ct=X.args[0];wt>1&&(Ct=Ze(X.args.slice(0,wt))),Ee=X.args.slice(wt),De=Ee.length===1?Ee[0]:Ze(Ee),ue.push(Ze([Ct,De]))}return ue}function ze(X,ne){var ue={placeholders:{}};if(!X.placeholders&&!ne.placeholders)return ue;if(X.placeholders){if(!ne.placeholders)return X}else return ne;for(var De in X.placeholders)if(nt(X.placeholders,De)&&(ue.placeholders[De]=X.placeholders[De],nt(ne.placeholders,De)&&!ge(X.placeholders[De],ne.placeholders[De])))return null;for(var Ee in ne.placeholders)nt(ne.placeholders,Ee)&&(ue.placeholders[Ee]=ne.placeholders[Ee]);return ue}function tt(X,ne){var ue=[];if(X.length===0||ne.length===0)return ue;for(var De,Ee=0;Ee<X.length;Ee++)for(var Ze=0;Ze<ne.length;Ze++)De=ze(X[Ee],ne[Ze]),De&&ue.push(De);return ue}function Y(X){if(X.length===0)return X;for(var ne=X.reduce(tt),ue=[],De={},Ee=0;Ee<ne.length;Ee++){var Ze=JSON.stringify(ne[Ee]);De[Ze]||(De[Ze]=!0,ue.push(ne[Ee]))}return ue}function K(X,ne,ue,De){var Ee=[{placeholders:{}}];if(X instanceof D&&ne instanceof D||X instanceof _&&ne instanceof _){if(X instanceof D){if(X.op!==ne.op||X.fn!==ne.fn)return[]}else if(X instanceof _&&X.name!==ne.name)return[];if(ne.args.length===1&&X.args.length===1||!U(ne,ue)&&ne.args.length===X.args.length||De){for(var Ze=[],Fe=0;Fe<X.args.length;Fe++){var wt=K(X.args[Fe],ne.args[Fe],ue);if(wt.length===0)break;Ze.push(wt)}if(Ze.length!==X.args.length){if(!O(ne,ue)||X.args.length===1)return[];if(X.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Ct=K(X.args[0],ne.args[1],ue);if(Ct.length===0)return[];var Xt=K(X.args[1],ne.args[0],ue);if(Xt.length===0)return[];Ze=[Ct,Xt]}Ee=Y(Ze)}else if(ne.args.length>=2&&X.args.length===2){for(var bt=Ce(ne,ue),Q=[],ce=0;ce<bt.length;ce++){var ye=K(X,bt[ce],ue,!0);Q=Q.concat(ye)}return Q}else{if(X.args.length>2)throw Error("Unexpected non-binary associative function: "+X.toString());return[]}}else if(X instanceof E){if(X.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(fe[X.name]){if(X.name!==ne.name)return[]}else switch(X.name[1]>="a"&&X.name[1]<="z"?X.name.substring(0,2):X.name[0]){case"n":case"_p":Ee[0].placeholders[X.name]=ne;break;case"c":case"cl":if(Ot(ne))Ee[0].placeholders[X.name]=ne;else return[];break;case"v":if(!Ot(ne))Ee[0].placeholders[X.name]=ne;else return[];break;case"vl":if(xr(ne))Ee[0].placeholders[X.name]=ne;else return[];break;case"cd":if(O1(ne))Ee[0].placeholders[X.name]=ne;else return[];break;case"vd":if(!O1(ne))Ee[0].placeholders[X.name]=ne;else return[];break;case"ce":if(uc(ne))Ee[0].placeholders[X.name]=ne;else return[];break;case"ve":if(!uc(ne))Ee[0].placeholders[X.name]=ne;else return[];break;default:throw new Error("Invalid symbol in rule: "+X.name)}}else if(X instanceof w){if(!c(X.value,ne.value))return[]}else return[];return Ee}function ge(X,ne){if(X instanceof w&&ne instanceof w){if(!c(X.value,ne.value))return!1}else if(X instanceof E&&ne instanceof E){if(X.name!==ne.name)return!1}else if(X instanceof D&&ne instanceof D||X instanceof _&&ne instanceof _){if(X instanceof D){if(X.op!==ne.op||X.fn!==ne.fn)return!1}else if(X instanceof _&&X.name!==ne.name)return!1;if(X.args.length!==ne.args.length)return!1;for(var ue=0;ue<X.args.length;ue++)if(!ge(X.args[ue],ne.args[ue]))return!1}else return!1;return!0}return H});var FZ="simplifyConstant",IZ=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],L1=C(FZ,IZ,n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:a,bignumber:o,AccessorNode:l,ArrayNode:s,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:h}=n,{isCommutative:d,isAssociative:v,allChildren:b,createMakeNodeFunction:S}=Iu({FunctionNode:c,OperatorNode:m,SymbolNode:h}),y=e("simplifyConstant",{Node:L=>M(z(L,{})),"Node, Object":function(B,T){return M(z(B,T))}});function w(L){return Ha(L)?L.valueOf():L instanceof Array?L.map(w):rt(L)?i(w(L.valueOf())):L}function _(L,B,T){try{return r[L].apply(null,B)}catch(G){return B=B.map(w),N(r[L].apply(null,B),T)}}var x=e({Fraction:P,number:function(B){return B<0?E(new u(-B)):new u(B)},BigNumber:function(B){return B<0?E(new u(-B)):new u(B)},Complex:function(B){throw new Error("Cannot convert Complex number to Node")},string:function(B){return new u(B)},Matrix:function(B){return new s(B.valueOf().map(T=>x(T)))}});function M(L){return Ut(L)?L:x(L)}function D(L,B){var T=B&&B.exactFractions!==!1;if(T&&isFinite(L)&&a){var G=a(L),R=B&&typeof B.fractionsLimit=="number"?B.fractionsLimit:1/0;if(G.valueOf()===L&&G.n<R&&G.d<R)return G}return L}var N=e({"string, Object":function(B,T){if(t.number==="BigNumber")return o===void 0&&Du(),o(B);if(t.number==="Fraction")return a===void 0&&Cp(),a(B);var G=parseFloat(B);return D(G,T)},"Fraction, Object":function(B,T){return B},"BigNumber, Object":function(B,T){return B},"number, Object":function(B,T){return D(B,T)},"Complex, Object":function(B,T){return B.im!==0?B:D(B.re,T)},"Matrix, Object":function(B,T){return i(D(B.valueOf()))},"Array, Object":function(B,T){return B.map(D)}});function E(L){return new m("-","unaryMinus",[L])}function P(L){var B,T=L.s*L.n;return T<0?B=new m("-","unaryMinus",[new u(-T)]):B=new u(T),L.d===1?B:new m("/","divide",[B,new u(L.d)])}function O(L,B,T){if(!Li(B))return new l(M(L),M(B));if(An(L)||rt(L)){for(var G=Array.from(B.dimensions);G.length>0;)if(Ot(G[0])&&typeof G[0].value!="string"){var R=N(G.shift().value,T);An(L)?L=L.items[R-1]:(L=L.valueOf()[R-1],L instanceof Array&&(L=i(L)))}else if(G.length>1&&Ot(G[1])&&typeof G[1].value!="string"){var ie=N(G[1].value,T),j=[],H=An(L)?L.items:L.valueOf();for(var V of H)if(An(V))j.push(V.items[ie-1]);else if(rt(L))j.push(V[ie-1]);else break;if(j.length===H.length)An(L)?L=new s(j):L=i(j),G.splice(1,1);else break}else break;return G.length===B.dimensions.length?new l(M(L),B):G.length>0?(B=new f(G),new l(M(L),B)):L}if(_o(L)&&B.dimensions.length===1&&Ot(B.dimensions[0])){var fe=B.dimensions[0].value;return fe in L.properties?L.properties[fe]:new u}return new l(M(L),B)}function U(L,B,T,G){var R=B.shift(),ie=B.reduce((j,H)=>{if(!Ut(H)){var V=j.pop();if(Ut(V))return[V,H];try{return j.push(_(L,[V,H],G)),j}catch(_e){j.push(V)}}j.push(M(j.pop()));var fe=j.length===1?j[0]:T(j);return[T([fe,M(H)])]},[R]);return ie.length===1?ie[0]:T([ie[0],x(ie[1])])}function z(L,B){switch(L.type){case"SymbolNode":return L;case"ConstantNode":switch(typeof L.value){case"number":return N(L.value,B);case"string":return L.value;default:if(!isNaN(L.value))return N(L.value,B)}return L;case"FunctionNode":if(r[L.name]&&r[L.name].rawArgs)return L;{var T=["add","multiply"];if(T.indexOf(L.name)===-1){var G=L.args.map(xe=>z(xe,B));if(!G.some(Ut))try{return _(L.name,G,B)}catch(xe){}if(L.name==="size"&&G.length===1&&An(G[0])){for(var R=[],ie=G[0];An(ie);)R.push(ie.items.length),ie=ie.items[0];return i(R)}return new c(L.name,G.map(M))}}case"OperatorNode":{var j=L.fn.toString(),H,V,fe=S(L);if(Mr(L)&&L.isUnary())H=[z(L.args[0],B)],Ut(H[0])?V=fe(H):V=_(j,H,B);else if(v(L,B.context))if(H=b(L,B.context),H=H.map(xe=>z(xe,B)),d(j,B.context)){for(var _e=[],pe=[],de=0;de<H.length;de++)Ut(H[de])?pe.push(H[de]):_e.push(H[de]);_e.length>1?(V=U(j,_e,fe,B),pe.unshift(V),V=U(j,pe,fe,B)):V=U(j,H,fe,B)}else V=U(j,H,fe,B);else H=L.args.map(xe=>z(xe,B)),V=U(j,H,fe,B);return V}case"ParenthesisNode":return z(L.content,B);case"AccessorNode":return O(z(L.object,B),z(L.index,B),B);case"ArrayNode":{var we=L.items.map(xe=>z(xe,B));return we.some(Ut)?new s(we.map(M)):i(we)}case"IndexNode":return new f(L.dimensions.map(xe=>y(xe,B)));case"ObjectNode":{var he={};for(var ve in L.properties)he[ve]=y(L.properties[ve],B);return new p(he)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(L.type))}}return y});var uk="simplifyCore",PZ=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],U1=C(uk,PZ,n=>{var{typed:e,parse:t,equal:r,isZero:i,add:a,subtract:o,multiply:l,divide:s,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:h,ObjectNode:d,OperatorNode:v,ParenthesisNode:b,SymbolNode:S}=n,y=new p(0),w=new p(1),_=new p(!0),x=new p(!1);function M(P){return Mr(P)&&["and","not","or"].includes(P.op)}var{hasProperty:D,isCommutative:N}=Iu({FunctionNode:m,OperatorNode:v,SymbolNode:S});function E(P){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=O?O.context:void 0;if(D(P,"trivial",U)){if(Qn(P)&&P.args.length===1)return E(P.args[0],O);var z=!1,L=0;if(P.forEach(pe=>{++L,L===1&&(z=E(pe,O))}),L===1)return z}var B=P;if(Qn(B)){var T=o2(B.name);if(T){if(B.args.length>2&&D(B,"associative",U))for(;B.args.length>2;){var G=B.args.pop(),R=B.args.pop();B.args.push(new v(T,B.name,[G,R]))}B=new v(T,B.name,B.args)}else return new m(E(B.fn),B.args.map(pe=>E(pe,O)))}if(Mr(B)&&B.isUnary()){var ie=E(B.args[0],O);if(B.op==="~"&&Mr(ie)&&ie.isUnary()&&ie.op==="~"||B.op==="not"&&Mr(ie)&&ie.isUnary()&&ie.op==="not"&&M(ie.args[0]))return ie.args[0];var j=!0;if(B.op==="-"&&Mr(ie)&&(ie.isBinary()&&ie.fn==="subtract"&&(B=new v("-","subtract",[ie.args[1],ie.args[0]]),j=!1),ie.isUnary()&&ie.op==="-"))return ie.args[0];if(j)return new v(B.op,B.fn,[ie])}if(Mr(B)&&B.isBinary()){var H=E(B.args[0],O),V=E(B.args[1],O);if(B.op==="+"){if(Ot(H)&&i(H.value))return V;if(Ot(V)&&i(V.value))return H;Mr(V)&&V.isUnary()&&V.op==="-"&&(V=V.args[0],B=new v("-","subtract",[H,V]))}if(B.op==="-")return Mr(V)&&V.isUnary()&&V.op==="-"?E(new v("+","add",[H,V.args[0]]),O):Ot(H)&&i(H.value)?E(new v("-","unaryMinus",[V])):Ot(V)&&i(V.value)?H:new v(B.op,B.fn,[H,V]);if(B.op==="*"){if(Ot(H)){if(i(H.value))return y;if(r(H.value,1))return V}if(Ot(V)){if(i(V.value))return y;if(r(V.value,1))return H;if(N(B,U))return new v(B.op,B.fn,[V,H],B.implicit)}return new v(B.op,B.fn,[H,V],B.implicit)}if(B.op==="/")return Ot(H)&&i(H.value)?y:Ot(V)&&r(V.value,1)?H:new v(B.op,B.fn,[H,V]);if(B.op==="^"&&Ot(V)){if(i(V.value))return w;if(r(V.value,1))return H}if(B.op==="and"){if(Ot(H))if(H.value){if(M(V))return V;if(Ot(V))return V.value?_:x}else return x;if(Ot(V))if(V.value){if(M(H))return H}else return x}if(B.op==="or"){if(Ot(H)){if(H.value)return _;if(M(V))return V}if(Ot(V)){if(V.value)return _;if(M(H))return H}}return new v(B.op,B.fn,[H,V])}if(Mr(B))return new v(B.op,B.fn,B.args.map(pe=>E(pe,O)));if(An(B))return new f(B.items.map(pe=>E(pe,O)));if(wi(B))return new c(E(B.object,O),E(B.index,O));if(Li(B))return new h(B.dimensions.map(pe=>E(pe,O)));if(_o(B)){var fe={};for(var _e in B.properties)fe[_e]=E(B.properties[_e],O);return new d(fe)}return B}return e(uk,{Node:E,"Node,Object":E})});var BZ="resolve",OZ=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],V1=C(BZ,OZ,n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=n;function l(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return s;if(xr(s)){if(c.has(s.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=u.get(s.name);if(Ut(p)){var m=new Set(c);return m.add(s.name),l(p,u,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new r(p):s}else if(Mr(s)){var h=s.args.map(function(v){return l(v,u,c)});return new a(s.op,s.fn,h,s.implicit)}else{if(Nn(s))return new o(l(s.content,u,c));if(Qn(s)){var d=s.args.map(function(v){return l(v,u,c)});return new i(s.name,d)}}return s.map(v=>l(v,u,c))}return e("resolve",{Node:l,"Node, Map | null | undefined":l,"Node, Object":(s,u)=>l(s,Wa(u)),"Array | Matrix":e.referToSelf(s=>u=>u.map(c=>s(c))),"Array | Matrix, null | undefined":e.referToSelf(s=>u=>u.map(c=>s(c))),"Array, Object":e.referTo("Array,Map",s=>(u,c)=>s(u,Wa(c))),"Matrix, Object":e.referTo("Matrix,Map",s=>(u,c)=>s(u,Wa(c))),"Array | Matrix, Map":e.referToSelf(s=>(u,c)=>u.map(f=>s(f,c)))})});var lk="symbolicEqual",kZ=["parse","simplify","typed","OperatorNode"],q1=C(lk,kZ,n=>{var{parse:e,simplify:t,typed:r,OperatorNode:i}=n;function a(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[o,l]),c=t(u,{},s);return Ot(c)&&!c.value}return r(lk,{"Node, Node":a,"Node, Node, Object":a})});var ck="derivative",RZ=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],z1=C(ck,RZ,n=>{var{typed:e,config:t,parse:r,simplify:i,equal:a,isZero:o,numeric:l,ConstantNode:s,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:p}=n;function m(y,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},x={};v(x,y,w.name);var M=b(y,x);return _.simplify?i(M):M}e.addConversion({from:"identifier",to:"SymbolNode",convert:r});var h=e(ck,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),h._simplify=!0,h.toTex=function(y){return d.apply(null,y.args)};var d=e("_derivTex",{"Node, SymbolNode":function(w,_){return Ot(w)&&$t(w.value)==="string"?d(r(w.value).toString(),_.toString(),1):d(w.toTex(),_.toString(),1)},"Node, ConstantNode":function(w,_){if($t(_.value)==="string")return d(w,r(_.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,_,x){return d(w.toString(),_.name,x.value)},"string, string, number":function(w,_,x){var M;return x===1?M="{d\\over d"+_+"}":M="{d^{"+x+"}\\over d"+_+"^{"+x+"}}",M+"\\left[".concat(w,"\\right]")}}),v=e("constTag",{"Object, ConstantNode, string":function(w,_){return w[_]=!0,!0},"Object, SymbolNode, string":function(w,_,x){return _.name!==x?(w[_]=!0,!0):!1},"Object, ParenthesisNode, string":function(w,_,x){return v(w,_.content,x)},"Object, FunctionAssignmentNode, string":function(w,_,x){return _.params.indexOf(x)===-1?(w[_]=!0,!0):v(w,_.expr,x)},"Object, FunctionNode | OperatorNode, string":function(w,_,x){if(_.args.length>0){for(var M=v(w,_.args[0],x),D=1;D<_.args.length;++D)M=v(w,_.args[D],x)&&M;if(M)return w[_]=!0,!0}return!1}}),b=e("_derivative",{"ConstantNode, Object":function(w){return S(0)},"SymbolNode, Object":function(w,_){return _[w]!==void 0?S(0):S(1)},"ParenthesisNode, Object":function(w,_){return new f(b(w.content,_))},"FunctionAssignmentNode, Object":function(w,_){return _[w]!==void 0?S(0):b(w.expr,_)},"FunctionNode, Object":function(w,_){if(_[w]!==void 0)return S(0);var x=w.args[0],M,D=!1,N=!1,E;switch(w.name){case"cbrt":D=!0,E=new c("*","multiply",[S(3),new c("^","pow",[x,new c("/","divide",[S(2),S(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)D=!0,E=new c("*","multiply",[S(2),new u("sqrt",[x])]);else if(w.args.length===2)return M=new c("/","divide",[S(1),w.args[1]]),_[M]=_[w.args[1]],b(new c("^","pow",[x,M]),_);break;case"log10":M=S(10);case"log":if(!M&&w.args.length===1)E=x.clone(),D=!0;else if(w.args.length===1&&M||w.args.length===2&&_[w.args[1]]!==void 0)E=new c("*","multiply",[x.clone(),new u("log",[M||w.args[1]])]),D=!0;else if(w.args.length===2)return b(new c("/","divide",[new u("log",[x]),new u("log",[w.args[1]])]),_);break;case"pow":if(w.args.length===2)return _[M]=_[w.args[1]],b(new c("^","pow",[x,w.args[1]]),_);break;case"exp":E=new u("exp",[x.clone()]);break;case"sin":E=new u("cos",[x.clone()]);break;case"cos":E=new c("-","unaryMinus",[new u("sin",[x.clone()])]);break;case"tan":E=new c("^","pow",[new u("sec",[x.clone()]),S(2)]);break;case"sec":E=new c("*","multiply",[w,new u("tan",[x.clone()])]);break;case"csc":N=!0,E=new c("*","multiply",[w,new u("cot",[x.clone()])]);break;case"cot":N=!0,E=new c("^","pow",[new u("csc",[x.clone()]),S(2)]);break;case"asin":D=!0,E=new u("sqrt",[new c("-","subtract",[S(1),new c("^","pow",[x.clone(),S(2)])])]);break;case"acos":D=!0,N=!0,E=new u("sqrt",[new c("-","subtract",[S(1),new c("^","pow",[x.clone(),S(2)])])]);break;case"atan":D=!0,E=new c("+","add",[new c("^","pow",[x.clone(),S(2)]),S(1)]);break;case"asec":D=!0,E=new c("*","multiply",[new u("abs",[x.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),S(2)]),S(1)])])]);break;case"acsc":D=!0,N=!0,E=new c("*","multiply",[new u("abs",[x.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),S(2)]),S(1)])])]);break;case"acot":D=!0,N=!0,E=new c("+","add",[new c("^","pow",[x.clone(),S(2)]),S(1)]);break;case"sinh":E=new u("cosh",[x.clone()]);break;case"cosh":E=new u("sinh",[x.clone()]);break;case"tanh":E=new c("^","pow",[new u("sech",[x.clone()]),S(2)]);break;case"sech":N=!0,E=new c("*","multiply",[w,new u("tanh",[x.clone()])]);break;case"csch":N=!0,E=new c("*","multiply",[w,new u("coth",[x.clone()])]);break;case"coth":N=!0,E=new c("^","pow",[new u("csch",[x.clone()]),S(2)]);break;case"asinh":D=!0,E=new u("sqrt",[new c("+","add",[new c("^","pow",[x.clone(),S(2)]),S(1)])]);break;case"acosh":D=!0,E=new u("sqrt",[new c("-","subtract",[new c("^","pow",[x.clone(),S(2)]),S(1)])]);break;case"atanh":D=!0,E=new c("-","subtract",[S(1),new c("^","pow",[x.clone(),S(2)])]);break;case"asech":D=!0,N=!0,E=new c("*","multiply",[x.clone(),new u("sqrt",[new c("-","subtract",[S(1),new c("^","pow",[x.clone(),S(2)])])])]);break;case"acsch":D=!0,N=!0,E=new c("*","multiply",[new u("abs",[x.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[x.clone(),S(2)]),S(1)])])]);break;case"acoth":D=!0,N=!0,E=new c("-","subtract",[S(1),new c("^","pow",[x.clone(),S(2)])]);break;case"abs":E=new c("/","divide",[new u(new p("abs"),[x.clone()]),x.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var P,O;D?(P="/",O="divide"):(P="*",O="multiply");var U=b(x,_);return N&&(U=new c("-","unaryMinus",[U])),new c(P,O,[U,E])},"OperatorNode, Object":function(w,_){if(_[w]!==void 0)return S(0);if(w.op==="+")return new c(w.op,w.fn,w.args.map(function(L){return b(L,_)}));if(w.op==="-"){if(w.isUnary())return new c(w.op,w.fn,[b(w.args[0],_)]);if(w.isBinary())return new c(w.op,w.fn,[b(w.args[0],_),b(w.args[1],_)])}if(w.op==="*"){var x=w.args.filter(function(L){return _[L]!==void 0});if(x.length>0){var M=w.args.filter(function(L){return _[L]===void 0}),D=M.length===1?M[0]:new c("*","multiply",M),N=x.concat(b(D,_));return new c("*","multiply",N)}return new c("+","add",w.args.map(function(L){return new c("*","multiply",w.args.map(function(B){return B===L?b(B,_):B.clone()}))}))}if(w.op==="/"&&w.isBinary()){var E=w.args[0],P=w.args[1];return _[P]!==void 0?new c("/","divide",[b(E,_),P]):_[E]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[E]),new c("/","divide",[b(P,_),new c("^","pow",[P.clone(),S(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[b(E,_),P.clone()]),new c("*","multiply",[E.clone(),b(P,_)])]),new c("^","pow",[P.clone(),S(2)])])}if(w.op==="^"&&w.isBinary()){var O=w.args[0],U=w.args[1];if(_[O]!==void 0)return Ot(O)&&(o(O.value)||a(O.value,1))?S(0):new c("*","multiply",[w,new c("*","multiply",[new u("log",[O.clone()]),b(U.clone(),_)])]);if(_[U]!==void 0){if(Ot(U)){if(o(U.value))return S(0);if(a(U.value,1))return b(O,_)}var z=new c("^","pow",[O.clone(),new c("-","subtract",[U,S(1)])]);return new c("*","multiply",[U.clone(),new c("*","multiply",[b(O,_),z])])}return new c("*","multiply",[new c("^","pow",[O.clone(),U.clone()]),new c("+","add",[new c("*","multiply",[b(O,_),new c("/","divide",[U.clone(),O.clone()])]),new c("*","multiply",[b(U,_),new u("log",[O.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function S(y,w){return new s(l(y,w||t.number))}return h});var fk="rationalize",LZ=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],$1=C(fk,LZ,n=>{var{config:e,typed:t,equal:r,isZero:i,add:a,subtract:o,multiply:l,divide:s,pow:u,parse:c,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:h,bignumber:d,mathWithTransform:v,matrix:b,AccessorNode:S,ArrayNode:y,ConstantNode:w,FunctionNode:_,IndexNode:x,ObjectNode:M,OperatorNode:D,SymbolNode:N,ParenthesisNode:E}=n;function P(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,R=U(),ie=O(B,T,!0,R.firstRules),j=ie.variables.length,H={exactFractions:!1},V={exactFractions:!0};if(B=ie.expression,j>=1){B=z(B);var fe,_e,pe=!0,de=!1;B=m(B,R.firstRules,{},H);for(var we;_e=pe?R.distrDivRules:R.sucDivRules,B=m(B,_e,{},V),pe=!pe,we=B.toString(),we!==fe;)de=!0,fe=we;de&&(B=m(B,R.firstRulesAgain,{},H)),B=m(B,R.finalRules,{},H)}var he=[],ve={};return B.type==="OperatorNode"&&B.isBinary()&&B.op==="/"?(j===1&&(B.args[0]=L(B.args[0],he),B.args[1]=L(B.args[1])),G&&(ve.numerator=B.args[0],ve.denominator=B.args[1])):(j===1&&(B=L(B,he)),G&&(ve.numerator=B,ve.denominator=null)),G?(ve.coefficients=he,ve.variables=ie.variables,ve.expression=B,ve):B}return t(fk,{Node:P,"Node, boolean":(B,T)=>P(B,{},T),"Node, Object":P,"Node, Object, boolean":P});function O(B,T,G,R){var ie=[],j=m(B,R,T,{exactFractions:!1});G=!!G;var H="+-*"+(G?"/":"");fe(j);var V={};return V.expression=j,V.variables=ie,V;function fe(_e){var pe=_e.type;if(pe==="FunctionNode")throw new Error("There is an unsolved function call");if(pe==="OperatorNode")if(_e.op==="^"){if(_e.args[1].type!=="ConstantNode"||!Qe(parseFloat(_e.args[1].value)))throw new Error("There is a non-integer exponent");fe(_e.args[0])}else{if(H.indexOf(_e.op)===-1)throw new Error("Operator "+_e.op+" invalid in polynomial expression");for(var de=0;de<_e.args.length;de++)fe(_e.args[de])}else if(pe==="SymbolNode"){var we=_e.name,he=ie.indexOf(we);he===-1&&ie.push(we)}else if(pe==="ParenthesisNode")fe(_e.content);else if(pe!=="ConstantNode")throw new Error("type "+pe+" is not allowed in polynomial expression")}}function U(){var B=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],T=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],G=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],R=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ie={};return ie.firstRules=B.concat(T,R),ie.distrDivRules=G,ie.sucDivRules=R,ie.firstRulesAgain=B.concat(T),ie.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ie}function z(B,T,G){var R=B.type,ie=arguments.length>1;if(R==="OperatorNode"&&B.isBinary()){var j=!1,H;if(B.op==="^"&&(B.args[0].type==="ParenthesisNode"||B.args[0].type==="OperatorNode")&&B.args[1].type==="ConstantNode"&&(H=parseFloat(B.args[1].value),j=H>=2&&Qe(H)),j){if(H>2){var V=B.args[0],fe=new D("^","pow",[B.args[0].cloneDeep(),new w(H-1)]);B=new D("*","multiply",[V,fe])}else B=new D("*","multiply",[B.args[0],B.args[0].cloneDeep()]);ie&&(G==="content"?T.content=B:T.args[G]=B)}}if(R==="ParenthesisNode")z(B.content,B,"content");else if(R!=="ConstantNode"&&R!=="SymbolNode")for(var _e=0;_e<B.args.length;_e++)z(B.args[_e],B,_e);if(!ie)return B}function L(B,T){T===void 0&&(T=[]),T[0]=0;var G={};G.cte=1,G.oper="+",G.fire="";var R=0,ie="";we(B,null,G),R=T.length-1;for(var j=!0,H,V=R;V>=0;V--)if(T[V]!==0){var fe=new w(j?T[V]:Math.abs(T[V])),_e=T[V]<0?"-":"+";if(V>0){var pe=new N(ie);if(V>1){var de=new w(V);pe=new D("^","pow",[pe,de])}T[V]===-1&&j?fe=new D("-","unaryMinus",[pe]):Math.abs(T[V])===1?fe=pe:fe=new D("*","multiply",[fe,pe])}j?H=fe:_e==="+"?H=new D("+","add",[H,fe]):H=new D("-","subtract",[H,fe]),j=!1}if(j)return new w(0);return H;function we(he,ve,xe){var Ce=he.type;if(Ce==="FunctionNode")throw new Error("There is an unsolved function call");if(Ce==="OperatorNode"){if("+-*^".indexOf(he.op)===-1)throw new Error("Operator "+he.op+" invalid");if(ve!==null){if((he.fn==="unaryMinus"||he.fn==="pow")&&ve.fn!=="add"&&ve.fn!=="subtract"&&ve.fn!=="multiply")throw new Error("Invalid "+he.op+" placing");if((he.fn==="subtract"||he.fn==="add"||he.fn==="multiply")&&ve.fn!=="add"&&ve.fn!=="subtract")throw new Error("Invalid "+he.op+" placing");if((he.fn==="subtract"||he.fn==="add"||he.fn==="unaryMinus")&&xe.noFil!==0)throw new Error("Invalid "+he.op+" placing")}(he.op==="^"||he.op==="*")&&(xe.fire=he.op);for(var ze=0;ze<he.args.length;ze++)he.fn==="unaryMinus"&&(xe.oper="-"),(he.op==="+"||he.fn==="subtract")&&(xe.fire="",xe.cte=1,xe.oper=ze===0?"+":he.op),xe.noFil=ze,we(he.args[ze],he,xe)}else if(Ce==="SymbolNode"){if(he.name!==ie&&ie!=="")throw new Error("There is more than one variable");if(ie=he.name,ve===null){T[1]=1;return}if(ve.op==="^"&&xe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ve.op==="*"&&xe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(xe.fire===""||xe.fire==="*")&&(R<1&&(T[1]=0),T[1]+=xe.cte*(xe.oper==="+"?1:-1),R=Math.max(1,R))}else if(Ce==="ConstantNode"){var tt=parseFloat(he.value);if(ve===null){T[0]=tt;return}if(ve.op==="^"){if(xe.noFil!==1)throw new Error("Constant cannot be powered");if(!Qe(tt)||tt<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=R+1;Y<tt;Y++)T[Y]=0;tt>R&&(T[tt]=0),T[tt]+=xe.cte*(xe.oper==="+"?1:-1),R=Math.max(tt,R);return}xe.cte=tt,xe.fire===""&&(T[0]+=xe.cte*(xe.oper==="+"?1:-1))}else throw new Error("Type "+Ce+" is not allowed")}}});var pk="zpk2tf",UZ=["typed","add","multiply","Complex","number"],H1=C(pk,UZ,n=>{var{typed:e,add:t,multiply:r,Complex:i,number:a}=n;return e(pk,{"Array,Array,number":function(u,c,f){return o(u,c,f)},"Array,Array":function(u,c){return o(u,c,1)},"Matrix,Matrix,number":function(u,c,f){return o(u.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(u,c){return o(u.valueOf(),c.valueOf(),1)}});function o(s,u,c){s.some(S=>S.type==="BigNumber")&&(s=s.map(S=>a(S))),u.some(S=>S.type==="BigNumber")&&(u=u.map(S=>a(S)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<s.length;m++){var h=s[m];typeof h=="number"&&(h=i(h,0)),f=l(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<u.length;d++){var v=u[d];typeof v=="number"&&(v=i(v,0)),p=l(p,[i(1,0),i(-v.re,-v.im)])}for(var b=0;b<f.length;b++)f[b]=r(f[b],c);return[f,p]}function l(s,u){for(var c=[],f=0;f<s.length+u.length-1;f++){c[f]=i(0,0);for(var p=0;p<s.length;p++)f-p>=0&&f-p<u.length&&(c[f]=t(c[f],r(s[p],u[f-p])))}return c}});var mk="freqz",VZ=["typed","add","multiply","Complex","divide","matrix"],G1=C(mk,VZ,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:a,matrix:o}=n;return e(mk,{"Array, Array":function(c,f){var p=s(512);return l(c,f,p)},"Array, Array, Array":function(c,f,p){return l(c,f,p)},"Array, Array, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=s(p);return l(c,f,m)},"Matrix, Matrix":function(c,f){var p=s(512),{w:m,h}=l(c.valueOf(),f.valueOf(),p);return{w:o(m),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,p){var{h:m}=l(c.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=s(p),{h}=l(c.valueOf(),f.valueOf(),m);return{h:o(h),w:o(m)}}});function l(u,c,f){for(var p=[],m=[],h=0;h<f.length;h++){for(var d=i(0,0),v=i(0,0),b=0;b<u.length;b++)d=t(d,r(u[b],i(Math.cos(-b*f[h]),Math.sin(-b*f[h]))));for(var S=0;S<c.length;S++)v=t(v,r(c[S],i(Math.cos(-S*f[h]),Math.sin(-S*f[h]))));p.push(d),m.push(v)}for(var y=[],w=0;w<p.length;w++)y.push(a(p[w],m[w]));return{h:y,w:f}}function s(u){for(var c=[],f=0;f<u;f++)c.push(f/u*Math.PI);return c}});var qZ="reviver",zZ=["classes"],W1=C(qZ,zZ,n=>{var{classes:e}=n;return function(r,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var $Z="replacer",HZ=[],Y1=C($Z,HZ,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var dk="12.4.1";var j1=C("true",[],()=>!0),Z1=C("false",[],()=>!1),J1=C("null",[],()=>null),X1=Si("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1/0):1/0}),Q1=Si("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(NaN):NaN}),K1=Si("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?Kl(t):ZE}),ew=Si("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?vT(t):JE}),tw=Si("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?hT(t):XE}),rw=Si("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?gT(t):QE}),nw=Si("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),iw=Si("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),aw=Si("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),ow=Si("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),sw=Si("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),uw=Si("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),lw=Si("i",["Complex"],n=>{var{Complex:e}=n;return e.I});var cw=C("version",[],()=>dk);function Si(n,e,t){return C(n,e,t,{recreateOnConfigChange:!0})}var fw=qt("speedOfLight","299792458","m s^-1"),pw=qt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),mw=qt("planckConstant","6.62607015e-34","J s"),dw=qt("reducedPlanckConstant","1.0545718176461565e-34","J s"),hw=qt("magneticConstant","1.25663706212e-6","N A^-2"),gw=qt("electricConstant","8.8541878128e-12","F m^-1"),vw=qt("vacuumImpedance","376.730313667","ohm"),yw=qt("coulomb","8.987551792261171e9","N m^2 C^-2"),bw=qt("elementaryCharge","1.602176634e-19","C"),xw=qt("bohrMagneton","9.2740100783e-24","J T^-1"),ww=qt("conductanceQuantum","7.748091729863649e-5","S"),_w=qt("inverseConductanceQuantum","12906.403729652257","ohm"),Sw=qt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Aw=qt("nuclearMagneton","5.0507837461e-27","J T^-1"),Nw=qt("klitzing","25812.807459304513","ohm");var Dw=qt("bohrRadius","5.29177210903e-11","m"),Ew=qt("classicalElectronRadius","2.8179403262e-15","m"),Mw=qt("electronMass","9.1093837015e-31","kg"),Cw=qt("fermiCoupling","1.1663787e-5","GeV^-2"),Tw=cm("fineStructure",.0072973525693),Fw=qt("hartreeEnergy","4.3597447222071e-18","J"),Iw=qt("protonMass","1.67262192369e-27","kg"),Pw=qt("deuteronMass","3.3435830926e-27","kg"),Bw=qt("neutronMass","1.6749271613e-27","kg"),Ow=qt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),kw=qt("rydberg","10973731.568160","m^-1"),Rw=qt("thomsonCrossSection","6.6524587321e-29","m^2"),Lw=cm("weakMixingAngle",.2229),Uw=cm("efimovFactor",22.7),Vw=qt("atomicMass","1.66053906660e-27","kg"),qw=qt("avogadro","6.02214076e23","mol^-1"),zw=qt("boltzmann","1.380649e-23","J K^-1"),$w=qt("faraday","96485.33212331001","C mol^-1"),Hw=qt("firstRadiation","3.7417718521927573e-16","W m^2"),Gw=qt("loschmidt","2.686780111798444e25","m^-3"),Ww=qt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Yw=qt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),jw=qt("molarVolume","0.022413969545014137","m^3 mol^-1"),Zw=cm("sackurTetrode",-1.16487052358),Jw=qt("secondRadiation","0.014387768775039337","m K"),Xw=qt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Qw=qt("wienDisplacement","2.897771955e-3","m K"),Kw=qt("molarMass","0.99999999965e-3","kg mol^-1"),e_=qt("molarMassC12","11.9999999958e-3","kg mol^-1"),t_=qt("gravity","9.80665","m s^-2"),r_=qt("planckLength","1.616255e-35","m"),n_=qt("planckMass","2.176435e-8","kg"),i_=qt("planckTime","5.391245e-44","s"),a_=qt("planckCharge","1.87554603778e-18","C"),o_=qt("planckTemperature","1.416785e+32","K");function qt(n,e,t){var r=["config","Unit","BigNumber"];return C(n,r,i=>{var{config:a,Unit:o,BigNumber:l}=i,s=a.number==="BigNumber"?new l(e):parseFloat(e),u=new o(s,t);return u.fixPrefix=!0,u})}function cm(n,e){var t=["config","BigNumber"];return C(n,t,r=>{var{config:i,BigNumber:a}=r;return i.number==="BigNumber"?new a(e):e})}var GZ="apply",WZ=["typed","isInteger"],s_=C(GZ,WZ,n=>{var{typed:e,isInteger:t}=n,r=bs({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];mt(o)?a[1]=o-1:at(o)&&(a[1]=o.minus(1));try{return r.apply(null,a)}catch(l){throw Nr(l)}}})},{isTransformFunction:!0});var YZ="column",jZ=["typed","Index","matrix","range"],u_=C(YZ,jZ,n=>{var{typed:e,Index:t,matrix:r,range:i}=n,a=$l({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(l){var s=l.length-1,u=l[s];mt(u)&&(l[s]=u-1);try{return a.apply(null,l)}catch(c){throw Nr(c)}}})},{isTransformFunction:!0});function Pu(n,e,t){var r=n.filter(function(s){return xr(s)&&!(s.name in e)&&!t.has(s.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,a=new Map,o=new yu(t,a,new Set([i])),l=n.compile();return function(u){return a.set(i,u),l.evaluate(o)}}var ZZ="filter",JZ=["typed"],l_=C(ZZ,JZ,n=>{var{typed:e}=n;function t(i,a,o){var l,s;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(xr(i[1])||xa(i[1])?s=i[1].compile().evaluate(o):s=Pu(i[1],a,o)),r(l,s)}t.rawArgs=!0;var r=e("filter",{"Array, function":hk,"Matrix, function":function(a,o){return a.create(hk(a.toArray(),o))},"Array, RegExp":gu,"Matrix, RegExp":function(a,o){return a.create(gu(a.toArray(),o))}});return t},{isTransformFunction:!0});function hk(n,e){return fp(n,function(t,r,i){return zi(e,t,[r+1],i,"filter")})}var XZ="forEach",QZ=["typed"],c_=C(XZ,QZ,n=>{var{typed:e}=n;function t(i,a,o){var l,s;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(xr(i[1])||xa(i[1])?s=i[1].compile().evaluate(o):s=Pu(i[1],a,o)),r(l,s)}t.rawArgs=!0;var r=e("forEach",{"Array | Matrix, function":function(a,o){var l=function s(u,c){if(Array.isArray(u))So(u,function(f,p){s(f,c.concat(p+1))});else return zi(o,u,c,a,"forEach")};l(a.valueOf(),[])}});return t},{isTransformFunction:!0});var KZ="index",eJ=["Index","getMatrixDataType"],f_=C(KZ,eJ,n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(pu(l))l.start--,l.end-=l.step>0?0:2;else if(l&&l.isSet===!0)l=l.map(function(u){return u-1});else if(Wt(l)||rt(l))t(l)!=="boolean"&&(l=l.map(function(u){return u-1}));else if(mt(l))l--;else if(at(l))l=l.toNumber()-1;else if(typeof l!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=l}var s=new e;return e.apply(s,i),s}},{isTransformFunction:!0});var tJ="map",rJ=["typed"],p_=C(tJ,rJ,n=>{var{typed:e}=n;function t(i,a,o){var l,s;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(xr(i[1])||xa(i[1])?s=i[1].compile().evaluate(o):s=Pu(i[1],a,o)),r(l,s)}t.rawArgs=!0;var r=e("map",{"Array, function":function(a,o){return gk(a,o,a)},"Matrix, function":function(a,o){return a.create(gk(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function gk(n,e,t){function r(i,a){return Array.isArray(i)?ai(i,function(o,l){return r(o,a.concat(l+1))}):zi(e,i,a,t,"map")}return r(n,[])}function Un(n){if(n.length===2&&Yr(n[0])){n=n.slice();var e=n[1];mt(e)?n[1]=e-1:at(e)&&(n[1]=e.minus(1))}return n}var nJ="max",iJ=["typed","config","numeric","larger"],m_=C(nJ,iJ,n=>{var{typed:e,config:t,numeric:r,larger:i}=n,a=Xl({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(l){l=Un(l);try{return a.apply(null,l)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var aJ="mean",oJ=["typed","add","divide"],d_=C(aJ,oJ,n=>{var{typed:e,add:t,divide:r}=n,i=nc({typed:e,add:t,divide:r});return e("mean",{"...any":function(o){o=Un(o);try{return i.apply(null,o)}catch(l){throw Nr(l)}}})},{isTransformFunction:!0});var sJ="min",uJ=["typed","config","numeric","smaller"],h_=C(sJ,uJ,n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,a=Ql({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(l){l=Un(l);try{return a.apply(null,l)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var lJ="range",cJ=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],g_=C(lJ,cJ,n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:s,add:u,isPositive:c}=n,f=Wl({typed:e,config:t,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:s,add:u,isPositive:c});return e("range",{"...any":function(m){var h=m.length-1,d=m[h];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var fJ="row",pJ=["typed","Index","matrix","range"],v_=C(fJ,pJ,n=>{var{typed:e,Index:t,matrix:r,range:i}=n,a=Yl({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(l){var s=l.length-1,u=l[s];mt(u)&&(l[s]=u-1);try{return a.apply(null,l)}catch(c){throw Nr(c)}}})},{isTransformFunction:!0});var mJ="subset",dJ=["typed","matrix","zeros","add"],y_=C(mJ,dJ,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,a=jl({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(l){try{return a.apply(null,l)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var hJ="concat",gJ=["typed","matrix","isInteger"],b_=C(hJ,gJ,n=>{var{typed:e,matrix:t,isInteger:r}=n,i=zl({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(o){var l=o.length-1,s=o[l];mt(s)?o[l]=s-1:at(s)&&(o[l]=s.minus(1));try{return i.apply(null,o)}catch(u){throw Nr(u)}}})},{isTransformFunction:!0});var vk="diff",vJ=["typed","matrix","subtract","number","bignumber"],x_=C(vk,vJ,n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:a}=n,o=Gl({typed:e,matrix:t,subtract:r,number:i,bignumber:a});return e(vk,{"...any":function(s){s=Un(s);try{return o.apply(null,s)}catch(u){throw Nr(u)}}})},{isTransformFunction:!0});var yJ="std",bJ=["typed","map","sqrt","variance"],w_=C(yJ,bJ,n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,a=oc({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(l){l=Un(l);try{return a.apply(null,l)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var yk="sum",xJ=["typed","config","add","numeric"],__=C(yk,xJ,n=>{var{typed:e,config:t,add:r,numeric:i}=n,a=tc({typed:e,config:t,add:r,numeric:i});return e(yk,{"...any":function(l){l=Un(l);try{return a.apply(null,l)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var wJ="quantileSeq",_J=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],S_=C(wJ,_J,n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:s,isInteger:u,smaller:c,smallerEq:f,larger:p}=n,m=ac({typed:e,bignumber:t,add:r,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:s,isInteger:u,smaller:c,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,v,b)=>m(d,v,h(b)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,v,b,S)=>m(d,v,b,h(S)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,v,b)=>m(d,v,h(b)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,v,b,S)=>m(d,v,b,h(S))});function h(d){return Un([[],d])[1]}},{isTransformFunction:!0});var bk="cumsum",SJ=["typed","add","unaryPlus"],A_=C(bk,SJ,n=>{var{typed:e,add:t,unaryPlus:r}=n,i=rc({typed:e,add:t,unaryPlus:r});return e(bk,{"...any":function(o){if(o.length===2&&Yr(o[0])){var l=o[1];mt(l)?o[1]=l-1:at(l)&&(o[1]=l.minus(1))}try{return i.apply(null,o)}catch(s){throw Nr(s)}}})},{isTransformFunction:!0});var xk="variance",AJ=["typed","add","subtract","multiply","divide","apply","isNaN"],N_=C(xk,AJ,n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:a,apply:o,isNaN:l}=n,s=ic({typed:e,add:t,subtract:r,multiply:i,divide:a,apply:o,isNaN:l});return e(xk,{"...any":function(c){c=Un(c);try{return s.apply(null,c)}catch(f){throw Nr(f)}}})},{isTransformFunction:!0});var wk="print",NJ=["typed","matrix","zeros","add"],D_=C(wk,NJ,n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,a=Zl({typed:e,matrix:t,zeros:r,add:i});return e(wk,{"string, Object | Array":function(s,u){return a(o(s),u)},"string, Object | Array, number | Object":function(s,u,c){return a(o(s),u,c)}});function o(l){return l.replace(Fp,s=>{var u=s.slice(1).split("."),c=u.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var DJ="and",EJ=["typed","matrix","zeros","add","equalScalar","not","concat"],E_=C(DJ,EJ,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o}=n,l=Jl({typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o});function s(u,c,f){var p=u[0].compile().evaluate(f);if(!Yr(p)&&!l(p,!0))return!1;var m=u[1].compile().evaluate(f);return l(p,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var MJ="or",CJ=["typed","matrix","equalScalar","DenseMatrix","concat"],M_=C(MJ,CJ,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=ql({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a});function l(s,u,c){var f=s[0].compile().evaluate(c);if(!Yr(f)&&o(f,!1))return!0;var p=s[1].compile().evaluate(c);return o(f,p)}return l.rawArgs=!0,l},{isTransformFunction:!0});var TJ="bitAnd",FJ=["typed","matrix","zeros","add","equalScalar","not","concat"],C_=C(TJ,FJ,n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o}=n,l=Ul({typed:e,matrix:t,equalScalar:r,zeros:i,not:a,concat:o});function s(u,c,f){var p=u[0].compile().evaluate(f);if(!Yr(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=u[1].compile().evaluate(f);return l(p,m)}return s.rawArgs=!0,s},{isTransformFunction:!0});var IJ="bitOr",PJ=["typed","matrix","equalScalar","DenseMatrix","concat"],T_=C(IJ,PJ,n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a}=n,o=Vl({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:a});function l(s,u,c){var f=s[0].compile().evaluate(c);if(!Yr(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=s[1].compile().evaluate(c);return o(f,p)}return l.rawArgs=!0,l},{isTransformFunction:!0});var je=Zg({config:Pe}),Dr=Xg({}),F_=tw({BigNumber:je,config:Pe}),_k=Z1({}),Sk=Tw({BigNumber:je,config:Pe}),Bo=Kg({}),I_=lw({Complex:Dr}),Ak=X1({BigNumber:je,config:Pe}),Nk=iw({BigNumber:je,config:Pe}),Dk=ow({BigNumber:je,config:Pe}),lc=tv({}),Ek=Q1({BigNumber:je,config:Pe}),Mk=J1({}),Ck=rw({BigNumber:je,config:Pe}),Tk=ev({}),P_=zg({}),Fk=sw({BigNumber:je,config:Pe}),Ik=Zw({BigNumber:je,config:Pe}),B_=ew({BigNumber:je,config:Pe}),Pk=j1({}),Bk=cw({}),Ht=rv({Matrix:lc}),Ok=Uw({BigNumber:je,config:Pe}),kk=nw({BigNumber:je,config:Pe}),fm=K1({BigNumber:je,config:Pe}),Rk=Y1({}),Lk=uw({BigNumber:je,config:Pe}),ee=qg({BigNumber:je,Complex:Dr,DenseMatrix:Ht,Fraction:Bo}),pm=Ay({BigNumber:je,config:Pe,typed:ee}),Uk=Lw({BigNumber:je,config:Pe}),Vn=Ny({typed:ee}),Vk=Db({Complex:Dr,config:Pe,typed:ee}),qk=Mb({BigNumber:je,typed:ee}),zk=Tb({BigNumber:je,Complex:Dr,config:Pe,typed:ee}),ln=Dy({typed:ee}),$k=t0({typed:ee}),Hk=Pb({BigNumber:je,Complex:Dr,config:Pe,typed:ee}),Gk=Ob({typed:ee}),O_=kb({typed:ee}),Wk=Lb({Complex:Dr,config:Pe,typed:ee}),li=hy({BigNumber:je,typed:ee}),Yk=Ky({typed:ee}),jk=dy({typed:ee}),Zk=nv({typed:ee}),cc=p1({typed:ee}),fc=gy({Complex:Dr,typed:ee}),Oo=r0({typed:ee}),mm=Ub({typed:ee}),Jk=qb({BigNumber:je,typed:ee}),Xk=$b({BigNumber:je,typed:ee}),Qk=Fy({typed:ee}),jt=cy({config:Pe,typed:ee}),Kk=I0({typed:ee}),k_=Iy({typed:ee}),eR=Py({Complex:Dr,typed:ee}),tR=c0({typed:ee}),rR=p0({typed:ee}),Bu=k0({typed:ee}),dm=m0({typed:ee}),nR=U0({format:Bu,typed:ee}),hm=n0({typed:ee}),Kn=av({typed:ee}),Qa=ny({typed:ee}),ko=oy({typed:ee}),Gi=sy({typed:ee}),iR=aw({BigNumber:je,config:Pe}),aR=h1({Complex:Dr,typed:ee}),oR=Vy({Complex:Dr,config:Pe,typed:ee}),R_=qy({Complex:Dr,config:Pe,typed:ee}),Ro=g0({typed:ee}),jr=zy({typed:ee}),pc=a0({typed:ee}),Na=py({typed:ee}),sR=L0({format:Bu,typed:ee}),uR=E1({config:Pe,typed:ee}),lR=Zl({typed:ee}),cR=M1({config:Pe,typed:ee}),gm=i0({typed:ee}),fR=Gb({BigNumber:je,typed:ee}),L_=Gy({BigNumber:je,Fraction:Bo,complex:fc,typed:ee}),mc=Yb({typed:ee}),Da=fy({Matrix:lc,equalScalar:jt,typed:ee}),pR=_y({typed:ee}),mR=Yy({typed:ee}),dR=my({typed:ee}),Ai=Ey({typed:ee}),hR=Zb({typed:ee}),U_=ly({typed:ee}),gR=Eb({Complex:Dr,config:Pe,typed:ee}),vR=Fb({BigNumber:je,typed:ee}),vm=bs({isInteger:Kn,typed:ee}),yR=Ib({BigNumber:je,Complex:Dr,config:Pe,typed:ee}),bR=R0({format:Bu,typed:ee}),xR=m1({typed:ee}),wR=Vb({typed:ee}),_R=Hb({BigNumber:je,typed:ee}),Ou=uy({typed:ee}),SR=q0({typed:ee}),AR=C1({config:Pe,typed:ee}),NR=Wb({BigNumber:je,typed:ee}),DR=jb({typed:ee}),ER=Ab({SparseMatrix:Da,typed:ee}),Wi=Wy({Complex:Dr,config:Pe,typed:ee}),MR=Jb({typed:ee}),ca=Sy({typed:ee}),CR=Cb({BigNumber:je,Complex:Dr,config:Pe,typed:ee}),TR=zb({BigNumber:je,typed:ee}),Ss=vy({Fraction:Bo,typed:ee}),Lo=iy({typed:ee}),We=yy({DenseMatrix:Ht,Matrix:lc,SparseMatrix:Da,typed:ee}),FR=by({isZero:Gi,matrix:We,typed:ee}),IR=B0({isNaN:Ou,isNumeric:Lo,typed:ee}),Yi=z0({bignumber:li,fraction:Ss,number:Na}),V_=O0({config:Pe,multiplyScalar:jr,numeric:Yi,typed:ee}),q_=y0({isInteger:Kn,matrix:We,typed:ee}),bn=_0({matrix:We,config:Pe,typed:ee}),PR=S0({matrix:We,typed:ee}),ku=A0({matrix:We,typed:ee}),z_=Zy({BigNumber:je,config:Pe,matrix:We,typed:ee}),xn=D0({BigNumber:je,config:Pe,matrix:We,typed:ee}),BR=Bb({Complex:Dr,config:Pe,typed:ee}),$_=My({BigNumber:je,Complex:Dr,Fraction:Bo,config:Pe,isNegative:Qa,matrix:We,typed:ee,unaryMinus:ca}),or=zl({isInteger:Kn,matrix:We,typed:ee}),OR=s0({prod:V_,size:bn,typed:ee}),ym=N0({conj:Oo,transpose:ku,typed:ee}),H_=l0({DenseMatrix:Ht,SparseMatrix:Da,matrix:We,typed:ee}),Ur=$0({numeric:Yi,typed:ee}),Ru=J0({DenseMatrix:Ht,concat:or,divideScalar:Ur,equalScalar:jt,matrix:We,typed:ee}),Ni=sb({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee}),Lu=f0({matrix:We,typed:ee}),kR=ay({isNumeric:Lo,typed:ee}),Ka=d0({BigNumber:je,DenseMatrix:Ht,SparseMatrix:Da,config:Pe,matrix:We,typed:ee}),RR=h0({matrix:We,multiplyScalar:jr,typed:ee}),dc=pb({DenseMatrix:Ht,concat:or,config:Pe,matrix:We,typed:ee}),LR=tb({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee,zeros:xn}),G_=X0({DenseMatrix:Ht,divideScalar:Ur,equalScalar:jt,matrix:We,multiplyScalar:jr,subtractScalar:Ai,typed:ee}),bm=wy({flatten:Lu,matrix:We,size:bn,typed:ee}),UR=Hy({BigNumber:je,concat:or,equalScalar:jt,matrix:We,typed:ee}),VR=v0({BigNumber:je,config:Pe,matrix:We,typed:ee}),xm=Lx({addScalar:ln,complex:fc,conj:Oo,divideScalar:Ur,equal:Ni,identity:Ka,isZero:Gi,matrix:We,multiplyScalar:jr,sign:L_,sqrt:Wi,subtractScalar:Ai,typed:ee,unaryMinus:ca,zeros:xn}),qR=b0({config:Pe,matrix:We}),zR=rb({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee,zeros:xn}),As=G0({BigNumber:je,DenseMatrix:Ht,config:Pe,equalScalar:jt,matrix:We,typed:ee,zeros:xn}),qn=lb({DenseMatrix:Ht,concat:or,config:Pe,matrix:We,typed:ee}),Zr=jy({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,subtractScalar:Ai,typed:ee,unaryMinus:ca}),$R=V0({concat:or,matrix:We,typed:ee}),HR=db({DenseMatrix:Ht,concat:or,config:Pe,equalScalar:jt,matrix:We,typed:ee}),wm=Q0({DenseMatrix:Ht,divideScalar:Ur,equalScalar:jt,matrix:We,multiplyScalar:jr,subtractScalar:Ai,typed:ee}),GR=o0({DenseMatrix:Ht,concat:or,matrix:We,typed:ee}),Kt=sx({DenseMatrix:Ht,SparseMatrix:Da,addScalar:ln,concat:or,equalScalar:jt,matrix:We,typed:ee}),WR=Rb({BigNumber:je,DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee}),YR=Ul({concat:or,equalScalar:jt,matrix:We,typed:ee}),jR=Vl({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee}),ZR=e0({DenseMatrix:Ht,concat:or,matrix:We,typed:ee}),JR=I1({addScalar:ln,combinations:cc,divideScalar:Ur,isInteger:Kn,isNegative:Qa,multiplyScalar:jr,typed:ee}),Uo=ib({BigNumber:je,DenseMatrix:Ht,Fraction:Bo,concat:or,config:Pe,equalScalar:jt,matrix:We,typed:ee}),W_=ob({concat:or,matrix:We,typed:ee}),XR=rc({add:Kt,typed:ee,unaryPlus:pm}),_m=mb({equal:Ni,typed:ee}),QR=Gl({matrix:We,number:Na,subtract:Zr,typed:ee}),KR=o1({abs:Vn,addScalar:ln,deepEqual:_m,divideScalar:Ur,multiplyScalar:jr,sqrt:Wi,subtractScalar:Ai,typed:ee}),hc=cx({addScalar:ln,conj:Oo,multiplyScalar:jr,size:bn,typed:ee}),eL=ub({compareText:W_,isZero:Gi,typed:ee}),Y_=Rl({DenseMatrix:Ht,config:Pe,equalScalar:jt,matrix:We,round:As,typed:ee,zeros:xn}),tL=Ly({BigNumber:je,DenseMatrix:Ht,concat:or,config:Pe,equalScalar:jt,matrix:We,round:As,typed:ee,zeros:xn}),rL=ux({abs:Vn,addScalar:ln,divideScalar:Ur,isPositive:ko,multiplyScalar:jr,smaller:qn,sqrt:Wi,typed:ee}),j_=vb({DenseMatrix:Ht,smaller:qn}),Mn=yb({ImmutableDenseMatrix:j_,getMatrixDataType:dm}),zn=fb({DenseMatrix:Ht,concat:or,config:Pe,matrix:We,typed:ee}),Sm=W0({Complex:Dr,config:Pe,divideScalar:Ur,typed:ee}),nL=K0({DenseMatrix:Ht,divideScalar:Ur,equalScalar:jt,matrix:We,multiplyScalar:jr,subtractScalar:Ai,typed:ee}),iL=xy({flatten:Lu,matrix:We,size:bn,typed:ee}),aL=Ql({config:Pe,numeric:Yi,smaller:qn,typed:ee}),Z_=Ll({DenseMatrix:Ht,concat:or,config:Pe,equalScalar:jt,matrix:We,round:As,typed:ee,zeros:xn}),hr=$y({addScalar:ln,dot:hc,equalScalar:jt,matrix:We,multiplyScalar:jr,typed:ee}),oL=j0({Complex:Dr,config:Pe,divideScalar:Ur,typed:ee}),sL=ql({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee}),gc=hb({compare:Uo,isNaN:Ou,isNumeric:Lo,typed:ee}),uL=nb({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee,zeros:xn}),J_=Vx({SparseMatrix:Da,abs:Vn,add:Kt,divideScalar:Ur,larger:zn,largerEq:dc,multiply:hr,subtract:Zr,transpose:ku,typed:ee}),ci=jl({add:Kt,matrix:We,typed:ee,zeros:xn}),Am=tc({add:Kt,config:Pe,numeric:Yi,typed:ee}),lL=fx({add:Kt,matrix:We,typed:ee}),X_=eb({DenseMatrix:Ht,divideScalar:Ur,equalScalar:jt,matrix:We,multiplyScalar:jr,subtractScalar:Ai,typed:ee}),cL=H1({Complex:Dr,add:Kt,multiply:hr,number:Na,typed:ee}),Nm=Ty({DenseMatrix:Ht,config:Pe,equalScalar:jt,matrix:We,round:As,typed:ee,zeros:xn}),fa=ab({compare:Uo,typed:ee}),fL=P1({addScalar:ln,combinations:cc,isInteger:Kn,isNegative:Qa,isPositive:ko,larger:zn,typed:ee}),pL=u0({matrix:We,multiply:hr,subtract:Zr,typed:ee}),Q_=Jx({divideScalar:Ur,isZero:Gi,matrix:We,multiply:hr,subtractScalar:Ai,typed:ee,unaryMinus:ca}),mL=Xy({concat:or,equalScalar:jt,matrix:We,multiplyScalar:jr,typed:ee}),K_=bb({larger:zn,smaller:qn}),eS=Oy({Complex:Dr,DenseMatrix:Ht,ceil:Nm,equalScalar:jt,floor:Y_,matrix:We,typed:ee,zeros:xn}),tS=px({Index:Mn,typed:ee}),dL=s1({abs:Vn,add:Kt,addScalar:ln,config:Pe,divideScalar:Ur,equalScalar:jt,flatten:Lu,isNumeric:Lo,isZero:Gi,matrix:We,multiply:hr,multiplyScalar:jr,smaller:qn,subtract:Zr,typed:ee}),hL=Jy({BigNumber:je,add:Kt,config:Pe,equal:Ni,isInteger:Kn,mod:Z_,smaller:qn,typed:ee,xgcd:z_}),gL=Uy({concat:or,equalScalar:jt,matrix:We,typed:ee}),vL=Y0({Complex:Dr,config:Pe,divideScalar:Ur,log:Sm,typed:ee}),Dm=Xl({config:Pe,larger:zn,numeric:Yi,typed:ee}),yL=Xb({DenseMatrix:Ht,Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),bL=Kb({DenseMatrix:Ht,Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),xL=tx({Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),wL=nx({Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),Ns=cb({DenseMatrix:Ht,concat:or,config:Pe,matrix:We,typed:ee}),_L=gb({compare:Uo,compareNatural:fa,matrix:We,typed:ee}),SL=Jl({concat:or,equalScalar:jt,matrix:We,not:pc,typed:ee,zeros:xn}),Ds=Wl({bignumber:li,matrix:We,add:Kt,config:Pe,isPositive:ko,larger:zn,largerEq:dc,smaller:qn,smallerEq:Ns,typed:ee}),AL=Yl({Index:Mn,matrix:We,range:Ds,typed:ee}),rS=Qb({DenseMatrix:Ht,Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),NL=rx({Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),nS=ax({Index:Mn,concat:or,setDifference:rS,size:bn,subset:ci,typed:ee}),iS=xb({FibonacciHeap:K_,addScalar:ln,equalScalar:jt}),aS=$l({Index:Mn,matrix:We,range:Ds,typed:ee}),Vo=Xx({abs:Vn,addScalar:ln,det:Q_,divideScalar:Ur,identity:Ka,matrix:We,multiply:hr,typed:ee,unaryMinus:ca}),oS=Rx({DenseMatrix:Ht,Spa:iS,SparseMatrix:Da,abs:Vn,addScalar:ln,divideScalar:Ur,equalScalar:jt,larger:zn,matrix:We,multiplyScalar:jr,subtractScalar:Ai,typed:ee,unaryMinus:ca}),DL=Qx({Complex:Dr,add:Kt,ctranspose:ym,deepEqual:_m,divideScalar:Ur,dot:hc,dotDivide:Ru,equal:Ni,inv:Vo,matrix:We,multiply:hr,typed:ee}),Di=H0({Complex:Dr,config:Pe,fraction:Ss,identity:Ka,inv:Vo,matrix:We,multiply:hr,number:Na,typed:ee}),sS=ex({DenseMatrix:Ht,Index:Mn,compareNatural:fa,size:bn,subset:ci,typed:ee}),EL=ox({Index:Mn,concat:or,setIntersect:sS,setSymDifference:nS,size:bn,subset:ci,typed:ee}),ML=t1({abs:Vn,add:Kt,identity:Ka,inv:Vo,map:Ro,max:Dm,multiply:hr,size:bn,sqrt:Wi,subtract:Zr,typed:ee}),Pt=_b({BigNumber:je,Complex:Dr,Fraction:Bo,abs:Vn,addScalar:ln,config:Pe,divideScalar:Ur,equal:Ni,fix:eS,format:Bu,isNumeric:Lo,multiplyScalar:jr,number:Na,pow:Di,round:As,subtractScalar:Ai}),CL=vw({BigNumber:je,Unit:Pt,config:Pe}),TL=Qw({BigNumber:je,Unit:Pt,config:Pe}),FL=Vw({BigNumber:je,Unit:Pt,config:Pe}),IL=xw({BigNumber:je,Unit:Pt,config:Pe}),PL=zw({BigNumber:je,Unit:Pt,config:Pe}),BL=ww({BigNumber:je,Unit:Pt,config:Pe}),OL=yw({BigNumber:je,Unit:Pt,config:Pe}),kL=Pw({BigNumber:je,Unit:Pt,config:Pe}),RL=Z0({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,pow:Di,typed:ee}),LL=gw({BigNumber:je,Unit:Pt,config:Pe}),UL=bw({BigNumber:je,Unit:Pt,config:Pe}),VL=e1({abs:Vn,add:Kt,identity:Ka,inv:Vo,multiply:hr,typed:ee}),qL=$w({BigNumber:je,Unit:Pt,config:Pe}),uS=E0({addScalar:ln,ceil:Nm,conj:Oo,divideScalar:Ur,dotDivide:Ru,exp:k_,i:I_,log2:R_,matrix:We,multiplyScalar:jr,pow:Di,tau:B_,typed:ee}),Em=d1({BigNumber:je,Complex:Dr,config:Pe,multiplyScalar:jr,pow:Di,typed:ee}),zL=pw({BigNumber:je,Unit:Pt,config:Pe}),$L=Fw({BigNumber:je,Unit:Pt,config:Pe}),HL=M0({conj:Oo,dotDivide:Ru,fft:uS,typed:ee}),GL=Nw({BigNumber:je,Unit:Pt,config:Pe}),WL=Gw({BigNumber:je,Unit:Pt,config:Pe}),YL=hw({BigNumber:je,Unit:Pt,config:Pe}),jL=Kw({BigNumber:je,Unit:Pt,config:Pe}),ZL=Yw({BigNumber:je,Unit:Pt,config:Pe}),JL=Bw({BigNumber:je,Unit:Pt,config:Pe}),XL=Aw({BigNumber:je,Unit:Pt,config:Pe}),QL=a_({BigNumber:je,Unit:Pt,config:Pe}),KL=r_({BigNumber:je,Unit:Pt,config:Pe}),e3=o_({BigNumber:je,Unit:Pt,config:Pe}),t3=Iw({BigNumber:je,Unit:Pt,config:Pe}),r3=Ow({BigNumber:je,Unit:Pt,config:Pe}),n3=dw({BigNumber:je,Unit:Pt,config:Pe}),i3=kw({BigNumber:je,Unit:Pt,config:Pe}),a3=Jw({BigNumber:je,Unit:Pt,config:Pe}),o3=fw({BigNumber:je,Unit:Pt,config:Pe}),s3=Xw({BigNumber:je,Unit:Pt,config:Pe}),u3=Rw({BigNumber:je,Unit:Pt,config:Pe}),l3=qw({BigNumber:je,Unit:Pt,config:Pe}),c3=Dw({BigNumber:je,Unit:Pt,config:Pe}),f3=Nb({Unit:Pt,typed:ee}),dn=a1({divideScalar:Ur,equalScalar:jt,inv:Vo,matrix:We,multiply:hr,typed:ee}),p3=Mw({BigNumber:je,Unit:Pt,config:Pe}),Uu=g1({gamma:Em,typed:ee}),m3=Hw({BigNumber:je,Unit:Pt,config:Pe}),d3=t_({BigNumber:je,Unit:Pt,config:Pe}),h3=_w({BigNumber:je,Unit:Pt,config:Pe}),lS=zx({DenseMatrix:Ht,lsolve:G_,lup:oS,matrix:We,slu:J_,typed:ee,usolve:wm}),g3=Sw({BigNumber:je,Unit:Pt,config:Pe}),v3=e_({BigNumber:je,Unit:Pt,config:Pe}),y3=y1({add:Kt,divide:dn,factorial:Uu,isInteger:Kn,isPositive:ko,multiply:hr,typed:ee}),b3=b1({factorial:Uu,typed:ee}),x3=n_({BigNumber:je,Unit:Pt,config:Pe}),w3=$x({add:Kt,cbrt:$_,divide:dn,equalScalar:jt,im:hm,isZero:Gi,multiply:hr,re:gm,sqrt:Wi,subtract:Zr,typeOf:U_,typed:ee,unaryMinus:ca}),_3=ix({compareNatural:fa,typed:ee}),S3=F0({abs:Vn,add:Kt,bignumber:li,divide:dn,isNegative:Qa,isPositive:ko,larger:zn,map:Ro,matrix:We,max:Dm,multiply:hr,smaller:qn,subtract:Zr,typed:ee,unaryMinus:ca}),cS=T1({bignumber:li,addScalar:ln,combinations:cc,divideScalar:Ur,factorial:Uu,isInteger:Kn,isNegative:Qa,larger:zn,multiplyScalar:jr,number:Na,pow:Di,subtractScalar:Ai,typed:ee}),A3=Sb({Unit:Pt,typed:ee}),N3=F1({addScalar:ln,isInteger:Kn,isNegative:Qa,stirlingS2:cS,typed:ee}),fS=Kx({abs:Vn,add:Kt,addScalar:ln,atan:O_,bignumber:li,column:aS,complex:fc,config:Pe,cos:mm,diag:H_,divideScalar:Ur,dot:hc,equal:Ni,flatten:Lu,im:hm,inv:Vo,larger:zn,matrix:We,matrixFromColumns:bm,multiply:hr,multiplyScalar:jr,number:Na,qr:xm,re:gm,reshape:q_,sin:mc,size:bn,smaller:qn,sqrt:Wi,subtract:Zr,typed:ee,usolve:wm,usolveAll:X_}),D3=Cw({BigNumber:je,Unit:Pt,config:Pe}),E3=Ww({BigNumber:je,Unit:Pt,config:Pe}),M3=v1({divide:dn,dotDivide:Ru,isNumeric:Lo,log:Sm,map:Ro,matrix:We,multiply:hr,sum:Am,typed:ee}),pS=nc({add:Kt,divide:dn,typed:ee}),C3=jw({BigNumber:je,Unit:Pt,config:Pe}),T3=mw({BigNumber:je,Unit:Pt,config:Pe}),F3=ac({bignumber:li,add:Kt,compare:Uo,divide:dn,isInteger:Kn,larger:zn,multiply:hr,partitionSelect:gc,smaller:qn,smallerEq:Ns,subtract:Zr,typed:ee}),Mm=ic({add:Kt,apply:vm,divide:dn,isNaN:Ou,multiply:hr,subtract:Zr,typed:ee}),I3=Ew({BigNumber:je,Unit:Pt,config:Pe}),mS=u1({add:Kt,compare:Uo,divide:dn,partitionSelect:gc,typed:ee}),P3=f1({add:Kt,divide:dn,matrix:We,mean:pS,multiply:hr,pow:Di,sqrt:Wi,subtract:Zr,sum:Am,typed:ee}),B3=G1({Complex:Dr,add:Kt,divide:dn,matrix:We,multiply:hr,typed:ee}),O3=l1({abs:Vn,map:Ro,median:mS,subtract:Zr,typed:ee}),k3=oc({map:Ro,sqrt:Wi,typed:ee,variance:Mm}),R3=P0({BigNumber:je,Complex:Dr,add:Kt,config:Pe,divide:dn,equal:Ni,factorial:Uu,gamma:Em,isNegative:Qa,multiply:hr,pi:fm,pow:Di,sin:mc,smallerEq:Ns,subtract:Zr,typed:ee}),Cm=lx({abs:Vn,add:Kt,conj:Oo,ctranspose:ym,eigs:fS,equalScalar:jt,larger:zn,matrix:We,multiply:hr,pow:Di,smaller:qn,sqrt:Wi,typed:ee}),dS=w0({BigNumber:je,DenseMatrix:Ht,SparseMatrix:Da,addScalar:ln,config:Pe,cos:mm,matrix:We,multiplyScalar:jr,norm:Cm,sin:mc,typed:ee,unaryMinus:ca}),L3=i_({BigNumber:je,Unit:Pt,config:Pe}),hS=n1({identity:Ka,matrix:We,multiply:hr,norm:Cm,qr:xm,subtract:Zr,typed:ee}),U3=x0({multiply:hr,rotationMatrix:dS,typed:ee}),gS=r1({abs:Vn,add:Kt,concat:or,identity:Ka,index:tS,lusolve:lS,matrix:We,matrixFromColumns:bm,multiply:hr,range:Ds,schur:hS,subset:ci,subtract:Zr,transpose:ku,typed:ee}),V3=i1({matrix:We,multiply:hr,sylvester:gS,transpose:ku,typed:ee});var Vu={},qu={},q3={},$n=mx({mathWithTransform:qu}),zu=Nx({Node:$n}),eo=Dx({Node:$n}),Es=Ex({Node:$n}),z3=Cx({Node:$n}),$u=hx({Node:$n}),$3=vx({Node:$n,ResultSet:P_}),H3=yx({Node:$n}),qo=_x({Node:$n}),G3=Mx({Node:$n}),BJ=W1({classes:q3}),vS=Gx({math:Vu,typed:ee}),W3=Sx({Node:$n,typed:ee}),OJ=Zx({Chain:vS,typed:ee}),Hu=Ax({Node:$n,size:bn}),Gu=dx({Node:$n,subset:ci}),Y3=gx({matrix:We,Node:$n,subset:ci}),zo=Tx({Unit:Pt,Node:$n,math:Vu}),$o=Fx({Node:$n,SymbolNode:zo,math:Vu}),Ea=Ix({AccessorNode:Gu,ArrayNode:$u,AssignmentNode:Y3,BlockNode:$3,ConditionalNode:H3,ConstantNode:qo,FunctionAssignmentNode:W3,FunctionNode:$o,IndexNode:Hu,ObjectNode:zu,OperatorNode:eo,ParenthesisNode:Es,RangeNode:G3,RelationalNode:z3,SymbolNode:zo,config:Pe,numeric:Yi,typed:ee}),j3=V1({ConstantNode:qo,FunctionNode:$o,OperatorNode:eo,ParenthesisNode:Es,parse:Ea,typed:ee}),yS=L1({bignumber:li,fraction:Ss,AccessorNode:Gu,ArrayNode:$u,ConstantNode:qo,FunctionNode:$o,IndexNode:Hu,ObjectNode:zu,OperatorNode:eo,SymbolNode:zo,config:Pe,mathWithTransform:qu,matrix:We,typed:ee}),bS=Px({parse:Ea,typed:ee}),xS=U1({AccessorNode:Gu,ArrayNode:$u,ConstantNode:qo,FunctionNode:$o,IndexNode:Hu,ObjectNode:zu,OperatorNode:eo,ParenthesisNode:Es,SymbolNode:zo,add:Kt,divide:dn,equal:Ni,isZero:Gi,multiply:hr,parse:Ea,pow:Di,subtract:Zr,typed:ee}),wS=Bx({parse:Ea,typed:ee}),Z3=Hx({evaluate:wS}),J3=Ox({evaluate:wS}),Tm=R1({bignumber:li,fraction:Ss,AccessorNode:Gu,ArrayNode:$u,ConstantNode:qo,FunctionNode:$o,IndexNode:Hu,ObjectNode:zu,OperatorNode:eo,ParenthesisNode:Es,SymbolNode:zo,add:Kt,config:Pe,divide:dn,equal:Ni,isZero:Gi,mathWithTransform:qu,matrix:We,multiply:hr,parse:Ea,pow:Di,resolve:j3,simplifyConstant:yS,simplifyCore:xS,subtract:Zr,typed:ee}),kJ=q1({OperatorNode:eo,parse:Ea,simplify:Tm,typed:ee}),RJ=B1({parse:Ea,typed:ee}),LJ=kx({Parser:J3,typed:ee}),UJ=$1({bignumber:li,fraction:Ss,AccessorNode:Gu,ArrayNode:$u,ConstantNode:qo,FunctionNode:$o,IndexNode:Hu,ObjectNode:zu,OperatorNode:eo,ParenthesisNode:Es,SymbolNode:zo,add:Kt,config:Pe,divide:dn,equal:Ni,isZero:Gi,mathWithTransform:qu,matrix:We,multiply:hr,parse:Ea,pow:Di,simplify:Tm,simplifyConstant:yS,simplifyCore:xS,subtract:Zr,typed:ee}),VJ=z1({ConstantNode:qo,FunctionNode:$o,OperatorNode:eo,ParenthesisNode:Es,SymbolNode:zo,config:Pe,equal:Ni,isZero:Gi,numeric:Yi,parse:Ea,simplify:Tm,typed:ee}),qJ=jx({Help:Z3,mathWithTransform:qu,typed:ee});Cr(Vu,{e:F_,false:_k,fineStructure:Sk,i:I_,Infinity:Ak,LN10:Nk,LOG10E:Dk,NaN:Ek,null:Mk,phi:Ck,SQRT1_2:Fk,sackurTetrode:Ik,tau:B_,true:Pk,E:F_,version:Bk,efimovFactor:Ok,LN2:kk,pi:fm,replacer:Rk,reviver:BJ,SQRT2:Lk,typed:ee,unaryPlus:pm,PI:fm,weakMixingAngle:Uk,abs:Vn,acos:Vk,acot:qk,acsc:zk,addScalar:ln,arg:$k,asech:Hk,asinh:Gk,atan:O_,atanh:Wk,bignumber:li,bitNot:Yk,boolean:jk,clone:Zk,combinations:cc,complex:fc,conj:Oo,cos:mm,cot:Jk,csc:Xk,cube:Qk,equalScalar:jt,erf:Kk,exp:k_,expm1:eR,filter:tR,forEach:rR,format:Bu,getMatrixDataType:dm,hex:nR,im:hm,isInteger:Kn,isNegative:Qa,isPositive:ko,isZero:Gi,LOG2E:iR,lgamma:aR,log10:oR,log2:R_,map:Ro,multiplyScalar:jr,not:pc,number:Na,oct:sR,pickRandom:uR,print:lR,random:cR,re:gm,sec:fR,sign:L_,sin:mc,splitUnit:pR,square:mR,string:dR,subtractScalar:Ai,tan:hR,typeOf:U_,acosh:gR,acsch:vR,apply:vm,asec:yR,bin:bR,chain:OJ,combinationsWithRep:xR,cosh:wR,csch:_R,isNaN:Ou,isPrime:SR,randomInt:AR,sech:NR,sinh:DR,sparse:ER,sqrt:Wi,tanh:MR,unaryMinus:ca,acoth:CR,coth:TR,fraction:Ss,isNumeric:Lo,matrix:We,matrixFromFunction:FR,mode:IR,numeric:Yi,prod:V_,reshape:q_,size:bn,squeeze:PR,transpose:ku,xgcd:z_,zeros:xn,asin:BR,cbrt:$_,concat:or,count:OR,ctranspose:ym,diag:H_,divideScalar:Ur,dotDivide:Ru,equal:Ni,flatten:Lu,hasNumericValue:kR,identity:Ka,kron:RR,largerEq:dc,leftShift:LR,lsolve:G_,matrixFromColumns:bm,nthRoot:UR,ones:VR,qr:xm,resize:qR,rightArithShift:zR,round:As,smaller:qn,subtract:Zr,to:$R,unequal:HR,usolve:wm,xor:GR,add:Kt,atan2:WR,bitAnd:YR,bitOr:jR,bitXor:ZR,catalan:JR,compare:Uo,compareText:W_,cumsum:XR,deepEqual:_m,diff:QR,distance:KR,dot:hc,equalText:eL,floor:Y_,gcd:tL,hypot:rL,larger:zn,log:Sm,lsolveAll:nL,matrixFromRows:iL,min:aL,mod:Z_,multiply:hr,nthRoots:oL,or:sL,partitionSelect:gc,rightLogShift:uL,slu:J_,subset:ci,sum:Am,trace:lL,usolveAll:X_,zpk2tf:cL,ceil:Nm,compareNatural:fa,composition:fL,cross:pL,det:Q_,dotMultiply:mL,fix:eS,index:tS,intersect:dL,invmod:hL,lcm:gL,log1p:vL,max:Dm,setCartesian:yL,setDistinct:bL,setIsSubset:xL,setPowerset:wL,smallerEq:Ns,sort:_L,and:SL,range:Ds,row:AL,setDifference:rS,setMultiplicity:NL,setSymDifference:nS,column:aS,inv:Vo,lup:oS,pinv:DL,pow:Di,setIntersect:sS,setUnion:EL,sqrtm:ML,vacuumImpedance:CL,wienDisplacement:TL,atomicMass:FL,bohrMagneton:IL,boltzmann:PL,conductanceQuantum:BL,coulomb:OL,deuteronMass:kL,dotPow:RL,electricConstant:LL,elementaryCharge:UL,expm:VL,faraday:qL,fft:uS,gamma:Em,gravitationConstant:zL,hartreeEnergy:$L,ifft:HL,klitzing:GL,loschmidt:WL,magneticConstant:YL,molarMass:jL,molarPlanckConstant:ZL,neutronMass:JL,nuclearMagneton:XL,planckCharge:QL,planckLength:KL,planckTemperature:e3,protonMass:t3,quantumOfCirculation:r3,reducedPlanckConstant:n3,rydberg:i3,secondRadiation:a3,speedOfLight:o3,stefanBoltzmann:s3,thomsonCrossSection:u3,avogadro:l3,bohrRadius:c3,createUnit:f3,divide:dn,electronMass:p3,factorial:Uu,firstRadiation:m3,gravity:d3,inverseConductanceQuantum:h3,lusolve:lS,magneticFluxQuantum:g3,molarMassC12:v3,multinomial:y3,parse:Ea,permutations:b3,planckMass:x3,polynomialRoot:w3,resolve:j3,setSize:_3,simplifyConstant:yS,solveODE:S3,stirlingS2:cS,unit:A3,bellNumbers:N3,compile:bS,eigs:fS,fermiCoupling:D3,gasConstant:E3,kldivergence:M3,mean:pS,molarVolume:C3,planckConstant:T3,quantileSeq:F3,simplifyCore:xS,variance:Mm,classicalElectronRadius:I3,evaluate:wS,median:mS,simplify:Tm,symbolicEqual:kJ,corr:P3,freqz:B3,leafCount:RJ,mad:O3,parser:LJ,rationalize:UJ,std:k3,zeta:R3,derivative:VJ,norm:Cm,rotationMatrix:dS,help:qJ,planckTime:L3,schur:hS,rotate:U3,sylvester:gS,lyap:V3,config:Pe});Cr(qu,Vu,{filter:l_({typed:ee}),forEach:c_({typed:ee}),map:p_({typed:ee}),apply:s_({isInteger:Kn,typed:ee}),or:M_({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee}),and:E_({add:Kt,concat:or,equalScalar:jt,matrix:We,not:pc,typed:ee,zeros:xn}),concat:b_({isInteger:Kn,matrix:We,typed:ee}),max:m_({config:Pe,larger:zn,numeric:Yi,typed:ee}),print:D_({add:Kt,matrix:We,typed:ee,zeros:xn}),bitAnd:C_({add:Kt,concat:or,equalScalar:jt,matrix:We,not:pc,typed:ee,zeros:xn}),diff:x_({bignumber:li,matrix:We,number:Na,subtract:Zr,typed:ee}),min:h_({config:Pe,numeric:Yi,smaller:qn,typed:ee}),subset:y_({add:Kt,matrix:We,typed:ee,zeros:xn}),bitOr:T_({DenseMatrix:Ht,concat:or,equalScalar:jt,matrix:We,typed:ee}),cumsum:A_({add:Kt,typed:ee,unaryPlus:pm}),index:f_({Index:Mn,getMatrixDataType:dm}),sum:__({add:Kt,config:Pe,numeric:Yi,typed:ee}),range:g_({bignumber:li,matrix:We,add:Kt,config:Pe,isPositive:ko,larger:zn,largerEq:dc,smaller:qn,smallerEq:Ns,typed:ee}),row:v_({Index:Mn,matrix:We,range:Ds,typed:ee}),column:u_({Index:Mn,matrix:We,range:Ds,typed:ee}),mean:d_({add:Kt,divide:dn,typed:ee}),quantileSeq:S_({add:Kt,bignumber:li,compare:Uo,divide:dn,isInteger:Kn,larger:zn,multiply:hr,partitionSelect:gc,smaller:qn,smallerEq:Ns,subtract:Zr,typed:ee}),variance:N_({add:Kt,apply:vm,divide:dn,isNaN:Ou,multiply:hr,subtract:Zr,typed:ee}),std:w_({map:Ro,sqrt:Wi,typed:ee,variance:Mm})});Cr(q3,{BigNumber:je,Complex:Dr,Fraction:Bo,Matrix:lc,Node:$n,ObjectNode:zu,OperatorNode:eo,ParenthesisNode:Es,Range:Tk,RelationalNode:z3,ResultSet:P_,ArrayNode:$u,BlockNode:$3,ConditionalNode:H3,ConstantNode:qo,DenseMatrix:Ht,RangeNode:G3,Chain:vS,FunctionAssignmentNode:W3,SparseMatrix:Da,IndexNode:Hu,ImmutableDenseMatrix:j_,Index:Mn,AccessorNode:Gu,AssignmentNode:Y3,FibonacciHeap:K_,Spa:iS,Unit:Pt,SymbolNode:zo,FunctionNode:$o,Help:Z3,Parser:J3});vS.createProxy(Vu);var Fm=class extends ba{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(){var t;let e=0;this.expressionStr="",this.variables=[];for(let r of(t=this.mountable.getDeclaration().templateDeclaration)!=null?t:[])if(typeof r!="string"){let i={bindTargetDeclaration:r,inputSignal:new Rr(void 0),uuid:Pr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.expressionStr+=i.contextName,e+=1}else this.expressionStr+=r;this.expression=bS(this.expressionStr)}buildMathJSContext(){var t,r;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(r=i.inputSignal.get())!=null?r:"");return e}computeValue(){var t;if(this.hasError=!1,!this.expression)return this.handleComputeError(new Qi({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let e=this.buildMathJSContext();try{return bi((t=this.expression.evaluate(e))==null?void 0:t.toString())}catch(r){return r instanceof Error?this.handleComputeError(new Qi({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:r,context:{expression:this.expressionStr,context:e}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}onInitialRender(e){}onRerender(e,t){this.hasError?pt.addClass(e,"mb-error"):pt.removeClass(e,"mb-error"),e.innerText=t}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var Im=class extends ba{constructor(e){super(e),this.renderMarkdown=!1}buildVariables(){var t;this.textParts=[];let e=0;this.variables=[];for(let r of(t=this.mountable.getDeclaration().templateDeclaration)!=null?t:[])if(typeof r!="string"){let i={bindTargetDeclaration:r,inputSignal:new Rr(void 0),uuid:Pr(),contextName:`MB_VAR_${e}`};this.variables.push(i),this.textParts.push(e),e+=1}else this.textParts.push(r)}computeValue(){if(!this.textParts)throw new Qi({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(e=>typeof e=="number"?cf(this.variables[e].inputSignal.get(),this.mountable.plugin.settings.viewFieldDisplayNullAsEmpty):e).join("")}onInitialRender(e){var t,r;this.renderMarkdown=(r=(t=this.mountable.getArgument("renderMarkdown"))==null?void 0:t.value)!=null?r:!1,this.renderMarkdown&&pt.addClass(e,"mb-view-markdown")}onRerender(e,t){return xt(this,null,function*(){var r;this.renderMarkdown?((r=this.markdownUnloadCallback)==null||r.call(this),this.markdownUnloadCallback=yield this.mountable.plugin.internal.renderMarkdown(t,e,this.mountable.getFilePath())):e.innerText=t})}onUnmount(){var e;super.onUnmount(),(e=this.markdownUnloadCallback)==null||e.call(this)}};function zJ(n){let e,t,r;return{c(){e=te("div"),t=te("img"),q(t,"class","mb-image-card-image"),Oi(t.src,r=n[0].internal.imagePathToUri(n[1]))||q(t,"src",r),q(t,"alt",n[1]),q(e,"class","mb-image-card")},m(i,a){J(i,e,a),ae(e,t)},p(i,[a]){a&3&&!Oi(t.src,r=i[0].internal.imagePathToUri(i[1]))&&q(t,"src",r),a&2&&q(t,"alt",i[1])},i:Xe,o:Xe,d(i){i&&Z(e)}}}function $J(n,e,t){let{plugin:r}=e,{image:i}=e;return n.$$set=a=>{"plugin"in a&&t(0,r=a.plugin),"image"in a&&t(1,i=a.image)},[r,i]}var _S=class extends Re{constructor(e){super(),Ue(this,e,$J,zJ,Le,{plugin:0,image:1})}},X3=_S;function Q3(n,e,t){let r=n.slice();return r[2]=e[t],r}function K3(n){let e,t;return e=new X3({props:{plugin:n[1],image:n[2]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&2&&(a.plugin=r[1]),i&1&&(a.image=r[2]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function HJ(n){let e,t,r=gt(n[0]),i=[];for(let o=0;o<r.length;o+=1)i[o]=K3(Q3(n,r,o));let a=o=>oe(i[o],1,1,()=>{i[o]=null});return{c(){e=te("div");for(let o=0;o<i.length;o+=1)i[o].c();q(e,"class","mb-image-card-grid")},m(o,l){J(o,e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);t=!0},p(o,[l]){if(l&3){r=gt(o[0]);let s;for(s=0;s<r.length;s+=1){let u=Q3(o,r,s);i[s]?(i[s].p(u,l),re(i[s],1)):(i[s]=K3(u),i[s].c(),re(i[s],1),i[s].m(e,null))}for(Dt(),s=r.length;s<i.length;s+=1)a(s);Et()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)re(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)oe(i[l]);t=!1},d(o){o&&Z(e),lr(i,o)}}}function GJ(n,e,t){let{images:r=[]}=e,{plugin:i}=e;return n.$$set=a=>{"images"in a&&t(0,r=a.images),"plugin"in a&&t(1,i=a.plugin)},[r,i]}var SS=class extends Re{constructor(e){super(),Ue(this,e,GJ,HJ,Le,{images:0,plugin:1})}},AS=SS;var Pm=class extends ba{constructor(e){super(e)}buildVariables(){let e=this.mountable.getDeclaration().templateDeclaration.filter(r=>typeof r=="string"?r:!0);if(e.length!==1)throw new lo({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});let t=e[0];if(typeof t=="string")throw new lo({errorLevel:"ERROR",effect:"can not create view field",cause:"image view filed only supports exactly a single bind target and not text content"});t.listenToChildren=!0,this.variables=[{bindTargetDeclaration:t,inputSignal:new Rr(void 0),uuid:Pr(),contextName:"MB_VAR_0"}]}computeValue(){if(this.variables.length!==1)throw new Qi({errorLevel:"CRITICAL",effect:"failed to evaluate image view field",cause:"there should be exactly one variable"});let t=this.variables[0].inputSignal.get();return typeof t=="string"?rn.convertToLinkString(t):Array.isArray(t)?t.filter(i=>typeof i=="string").map(i=>rn.convertToLinkString(i)).filter(i=>i!=="").join(", "):""}onInitialRender(e){this.component=new AS({target:e,props:{images:[],plugin:this.mountable.plugin}})}onRerender(e,t){return xt(this,null,function*(){var i;let r=rn.parseLinkList(t);(i=this.component)==null||i.$destroy(),this.component=new AS({target:e,props:{images:r.map(a=>a.target),plugin:this.mountable.plugin}})})}onUnmount(){var e;super.onUnmount(),(e=this.component)==null||e.$destroy()}};var Bm=class{constructor(e){this.plugin=e}createViewField(e){let t=e.declaration.viewFieldType;if(t==="math")return new Fm(e);if(t==="text")return new Im(e);if(t==="link")return new tp(e);if(t==="image")return new Pm(e);}};var Ho=class n{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let r of this.path.slice(1))t=r.get(t.child);return t}tryGet(e){try{return this.get(e)}catch(t){return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let r=this.path[0].get(e);for(let i of this.path.slice(1))r=i.get(r.child);r.access.set(r.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let r=this.path[0].get(e);r.child===void 0&&(r.access.set(r.parent,this.getNextPathElementValue(0,t)),r=r.access.get(r.parent));for(let i=1;i<this.path.length;i++)r=this.path[i].get(r.child),r.child===void 0&&(r.access.set(r.parent,this.getNextPathElementValue(i,t)),r=r.access.get(r.parent));r.access.set(r.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let r=this.getNextPathElement(e);return r===void 0?t:r.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new n(this.path.concat(e.path))}compareDiffArray(e){let t=Math.min(this.path.length,e.length);for(let r=0;r<t;r++){let i=this.path[r],a=e[r];if(i.prop!==a.toString())return!1}return!0}};var Om=class{constructor(e){this.plugin=e}fromString(e){return _n(ha,e)}fromStringAndValidate(e,t,r){return this.validate(e,this.fromString(e),t,r)}fromExistingDeclaration(e){if(e!==void 0)return{storageType:vi(e.storageType),storagePath:vi(e.storagePath),storageProp:e.storageProp.path.map(t=>({type:t.type,prop:vi(t.prop)})),listenToChildren:e.listenToChildren}}validate(e,t,r,i){var u;let a={};a.listenToChildren=t.listenToChildren,a.storageProp=new Ho(t.storageProp.map(c=>new as(c.type,c.prop.value))),t.storageType===void 0?a.storageType=this.plugin.metadataManager.defaultSource:a.storageType=this.validateStorageType(t.storageType,e);let o=t.storagePath!==void 0,l=(u=t.storagePath)!=null?u:{value:r},s=this.plugin.metadataManager.getSource(a.storageType);if(s===void 0)throw new tr({errorLevel:"CRITICAL",effect:"can not validate bind target",cause:`Source '${a.storageType}' not found. But validation was successful. This should not happen.`,context:{fullDeclaration:e,sources:[...this.plugin.metadataManager.sources.keys()]}});return a.storagePath=s.validateStoragePath(l,o,e,this),s.resolveBindTargetScope(a,i,this)}resolveScope(e,t){if(t===void 0)throw new cn("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.storageType=t.scope.storageType,e.storagePath=t.scope.storagePath,e.storageProp=t.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,t){for(let r of this.plugin.metadataManager.iterateSources())if(r===e.value)return r;throw new cn("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e==null?void 0:e.value}'.`,t,e==null?void 0:e.position)}validateStoragePathAsFilePath(e,t){let r=e==null?void 0:e.value;if(r===void 0)throw new cn("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",t,e==null?void 0:e.position);let i=this.plugin.internal.getFilePathByName(r);if(i===void 0)throw new cn("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${r}' not found.`,t,e==null?void 0:e.position);return i}};var Wu=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(Jr))e[t]=0;for(let t of this.arguments){let r=t.getConfig();if(e[r.type]+=1,e[r.type]>1&&!r.allowMultiple)throw new Gr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${r.type}' does not allow duplicates`,docs:[kr.linkToSearch(r.type)]})}}mergeByOverride(e){for(let t of e.arguments){let r=t.getConfig();r.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==r.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let r=t.getConfig();if(!r.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===r.type).length>0)throw new Gr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var km=class extends Wu{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Yu=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(r=>r.length===e.length)===void 0)throw new Gr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(r=>r.length===0?"none":r.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[kr.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var sr=class extends Yu{};var Rm=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.addLabels}};var Lm=class extends sr{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return pr.class}};var Um=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=bi(t[0].value)}getConfig(){return pr.defaultValue}};var Vm=class extends sr{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.limit}};var qm=class extends sr{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.maxValue}};var zm=class extends sr{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.minValue}};var $m=class extends sr{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=bi(t[0].value)}getConfig(){return pr.offValue}};var Hm=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=bi(t[0].value)}getConfig(){return pr.onValue}};var Gm=class extends sr{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=bi(t[0].value),this.name=t[0].value):t.length===2&&(this.value=bi(t[0].value),this.name=t[1].value)}getConfig(){return pr.option}};var Wm=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return pr.optionQuery}};var Ym=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return pr.placeholder}};var jm=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.showcase}};var Zm=class extends sr{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.stepSize}};var Jm=class extends sr{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return pr.title}};var Xm=class extends sr{constructor(){super(...arguments);this.value="true"}_parseValue(t){var i;let r=(i=t[0])==null?void 0:i.value.toLowerCase();if(r===void 0){this.value="true";return}if(r==="true"||r==="partial"||r==="false"){this.value=r;return}throw new Gr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:`value of argument 'useLinks' must be one of ${jA(["true","partial","false"],a=>`'${a}'`,", ","or")}`,docs:[kr.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return pr.useLinks}};var Qm=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.multiLine}};var Km=class extends sr{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return pr.allowOther}};var e4={class:Lm,addLabels:Rm,minValue:zm,maxValue:qm,stepSize:Zm,option:Gm,title:Jm,optionQuery:Wm,showcase:jm,offValue:$m,onValue:Hm,defaultValue:Um,placeholder:Ym,useLinks:Xm,limit:Vm,allowOther:Km,multiLine:Qm},ed=class{static createInputFieldArgument(e){if(e in e4){let t=e4[e];if(t)return new t}throw new Ua({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var td=class{constructor(e,t,r){this.plugin=e,this.unvalidatedDeclaration=t,this.filePath=r,this.errorCollection=new Qt("input field declaration")}validate(e){let t=this.validateInputFieldType(),r=this.validateBindTarget(e),i=this.validateArguments(t),a={declarationString:this.unvalidatedDeclaration.declarationString,inputFieldType:t,bindTarget:r,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(fo))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new cn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.declarationString,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)try{return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}catch(t){this.errorCollection.add(t)}}validateArguments(e){let t=new km;for(let r of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(r.name);if(i==="invalid")continue;let a=ed.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new cn("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${r.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.declarationString,r.name.position));continue}try{a.parseValue(r.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(r){this.errorCollection.add(r)}return t}validateArgumentType(e){for(let t of Object.entries(Jr))if(t[1]===e.value)return t[1];return this.errorCollection.add(new cn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}};var Hn=br(Pi()),Ir=br(hi());var WJ=Ir.P.sequenceMap((n,e,t)=>{let r=t===void 0?void 0:t[1];return{inputFieldType:n,arguments:e,bindTarget:r}},In.node(jn).trim(Hn.P_UTILS.optionalWhitespace()).describe("input field type"),bl.trim(Hn.P_UTILS.optionalWhitespace()).wrap(Ir.P.string("(").describe('arguments paren "("'),Ir.P.string(")").describe('arguments paren ")"')).trim(Hn.P_UTILS.optionalWhitespace()).optional([]),Ir.P.sequence(Ir.P.string(":").trim(Hn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),ha).trim(Hn.P_UTILS.optionalWhitespace()).optional()),t4=Ir.P.sequenceMap((n,e,t)=>{let r=t===void 0?void 0:t[1];return{inputFieldType:n,arguments:e,bindTarget:r}},In.node(jn).trim(Hn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),bl.trim(Hn.P_UTILS.optionalWhitespace()).wrap(Ir.P.string("(").describe('arguments paren "("'),Ir.P.string(")").describe('arguments paren ")"')).trim(Hn.P_UTILS.optionalWhitespace()).optional([]),Ir.P.sequence(Ir.P.string(":").trim(Hn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),ha).trim(Hn.P_UTILS.optionalWhitespace()).optional()),r4=Ir.P.or(Ir.P.sequenceMap((n,e,t)=>(t.templateName=e,t),Ir.P.string("INPUT"),Ir.P.sequenceMap((n,e,t)=>e,Ir.P.string("["),eN.node(jn).trim(Hn.P_UTILS.optionalWhitespace()).describe("template name"),Ir.P.string("]").skip(Hn.P_UTILS.optionalWhitespace())),t4.wrap(Ir.P.string("["),Ir.P.string("]")),Hn.P_UTILS.eof()),Ir.P.sequenceMap((n,e)=>e,Ir.P.string("INPUT"),WJ.wrap(Ir.P.string("["),Ir.P.string("]")),Hn.P_UTILS.eof())),n4=Ir.P.sequenceMap((n,e)=>e,Ir.P.string("INPUT"),t4.wrap(Ir.P.string("["),Ir.P.string("]")),Hn.P_UTILS.eof());var rd=class{constructor(e){this.plugin=e,this.templates=[]}fromString(e){let t=new Qt("InputField");try{let r=_n(r4,e),i=this.partialToFullDeclaration(r,e,t);return i=this.applyTemplate(i),i}catch(r){t.add(r)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}fromStringAndValidate(e,t,r){return this.validate(this.fromString(e),t,r)}fromSimpleDeclaration(e){var r;let t=new Qt("InputField");return{declarationString:void 0,inputFieldType:vi(e.inputFieldType),bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.bindTarget),arguments:((r=e.arguments)!=null?r:[]).map(i=>({name:vi(i.name),value:i.value.map(a=>vi(a))})),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,r){return this.validate(this.fromSimpleDeclaration(e),t,r)}partialToFullDeclaration(e,t,r){return _t(Ie({},structuredClone(e)),{declarationString:t,errorCollection:r})}validate(e,t,r){return new td(this.plugin,e,t).validate(r)}merge(e,t){var i,a,o;let r;return e.bindTarget===void 0?r=t.bindTarget:(r=e.bindTarget,((i=t.bindTarget)==null?void 0:i.storagePath)!==void 0&&(r.storagePath=t.bindTarget.storagePath),((a=t.bindTarget)==null?void 0:a.storageProp)!==void 0&&(r.storageProp=t.bindTarget.storageProp)),{declarationString:t.declarationString,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:r,arguments:t.arguments.concat(e.arguments).reduce((l,s)=>(l.find(u=>u.name===s.name)===void 0&&l.push(s),l),[]),errorCollection:new Qt("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}parseTemplateString(e){let t=new Qt("InputFieldParser");try{let r=_n(n4,e);return this.partialToFullDeclaration(r,e,t)}catch(r){t.add(r)}return{declarationString:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new Qt("input field template parser");for(let r of e){let i=this.parseTemplateString(r.declaration);t.merge(i.errorCollection);let a={name:r.name,template:i};this.templates.push(xh(a))}return t}getTemplate(e){var t;return(t=this.templates.find(r=>r.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new cn("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.declarationString,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.merge(t,e)}};var nd=class extends Wu{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Go=class extends Yu{};var id=class extends Go{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return iu.hidden}};var ad=class extends Go{constructor(){super(...arguments);this.value=!0}_parseValue(t){var r;this.value=t[0]===void 0||((r=t[0])==null?void 0:r.value.toLowerCase())==="true"}getConfig(){return iu.renderMarkdown}};var od=class extends Go{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return iu.class}};var i4={renderMarkdown:ad,hidden:id,class:od},sd=class{static createViewFieldArgument(e){if(e in i4){let t=i4[e];if(t)return new t}throw new Ua({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var ud=class{constructor(e,t,r){this.unvalidatedDeclaration=e,this.plugin=r,this.filePath=t,this.errorCollection=new Qt("view field declaration")}validate(e){let t=this.validateInputFieldType(),r=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={declarationString:this.unvalidatedDeclaration.declarationString,viewFieldType:t,writeToBindTarget:r,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(xl))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new cn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let t=new nd;for(let r of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(r.name);if(i==="invalid")continue;let a=sd.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new cn("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${r.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.declarationString,r.name.position));continue}try{a.parseValue(r.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(r){this.errorCollection.add(r)}return t}validateArgumentType(e){for(let t of Object.entries(us))if(t[1]===e.value)return t[1];return this.errorCollection.add(new cn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.declarationString,e.position)),"invalid"}validateTemplateDeclaration(e){var t,r;try{return(r=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validate(this.unvalidatedDeclaration.declarationString,i,this.filePath,e)))!=null?r:[]}catch(i){return this.errorCollection.add(i),[]}}};var ld=class{constructor(e){this.plugin=e}fromString(e){let t=new Qt("ViewFieldDeclaration");try{let r=_n(oN,e);return this.partialToFullDeclaration(r,e,t)}catch(r){t.add(r)}return{declarationString:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}fromStringAndValidate(e,t,r){return this.validate(this.fromString(e),t,r)}fromSimpleDeclaration(e){var r,i;let t=new Qt("ViewFieldDeclaration");return{declarationString:void 0,templateDeclaration:((r=e.templateDeclaration)!=null?r:[]).map(a=>typeof a=="string"?a:this.plugin.api.bindTargetParser.fromExistingDeclaration(a)),viewFieldType:vi(e.viewFieldType),arguments:((i=e.arguments)!=null?i:[]).map(a=>({name:vi(a.name),value:a.value.map(o=>vi(o))})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),errorCollection:t}}fromSimpleDeclarationAndValidate(e,t,r){return this.validate(this.fromSimpleDeclaration(e),t,r)}partialToFullDeclaration(e,t,r){return _t(Ie({},structuredClone(e)),{declarationString:t,errorCollection:r})}validate(e,t,r){return new ud(e,t,this.plugin).validate(r)}};var cd=class extends sn{constructor(e,t,r,i,a){super(e,t,r),this.depth=i,this.content=a}parseContent(){return xt(this,null,function*(){let e=this.content.split(`
    `).map(a=>a.trim()).filter(a=>a.length>0);if(e.length===0)return"";if(e.length>1)throw new ns({errorLevel:"ERROR",effect:"can not create embed",cause:"embed may only contain one link"});let t=e[0],r=rn.parseLink(t);if(!r.internal)throw new ns({errorLevel:"ERROR",effect:"can not create embed",cause:"embed link is not an internal link"});let i=this.plugin.internal.getFilePathByName(r.target,this.getFilePath());if(i===void 0)throw new ns({errorLevel:"ERROR",effect:"can not create embed",cause:"link target not found"});return yield this.plugin.internal.readFilePath(i)})}checkMaxDepth(){if(this.depth>uf)throw new ns({errorLevel:"ERROR",effect:"can not create embed",cause:"embed depth exceeds maximum"})}renderContent(e){return xt(this,null,function*(){try{this.checkMaxDepth();let r=(yield this.parseContent()).replace(/(```+|~~~+)meta-bind-embed.*/g,`$1meta-bind-embed-internal-${this.depth+1}`);this.markdownUnloadCallback=yield this.plugin.internal.renderMarkdown(r,e,this.getFilePath())}catch(t){let r=new Qt("Embed");r.add(t),this.plugin.internal.createErrorIndicator(e,{errorCollection:r})}})}onMount(e){console.debug("meta-bind | EmbedMountable >> mount",this.content),super.onMount(e),this.renderContent(e)}onUnmount(e){var t;console.debug("meta-bind | EmbedMountable >> unmount",this.content),super.onUnmount(e),(t=this.markdownUnloadCallback)==null||t.call(this),Fn(e,"Embed")}};var fd=class extends sn{constructor(e,t,r){super(e,t,r)}onMount(e){console.debug("meta-bind | ExcludedMountable >> mount"),super.onMount(e),pt.empty(e),pt.createElement(e,"span",{text:"[META_BIND] This folder has been excluded in the settings",class:"mb-error"})}onUnmount(e){console.debug("meta-bind | ExcludedMountable >> unmount"),super.onUnmount(e),pt.empty(e),Fn(e,"Excluded")}};var x4=br(Pi()),xc=br(hi());var vr;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},n.getValidEnumValues=i=>{let a=n.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(let l of a)o[l]=i[l];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(a){return i[a]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},n.find=(i,a)=>{for(let o of i)if(a(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(vr||(vr={}));var DS;(function(n){n.mergeShapes=(e,t)=>Ie(Ie({},e),t)})(DS||(DS={}));var st=vr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wo=n=>{switch(typeof n){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(n)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(n)?st.array:n===null?st.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?st.promise:typeof Map!="undefined"&&n instanceof Map?st.map:typeof Set!="undefined"&&n instanceof Set?st.set:typeof Date!="undefined"&&n instanceof Date?st.date:st.object;default:return st.unknown}},Ke=vr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),YJ=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:"),Ei=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},r={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let l=r,s=0;for(;s<o.path.length;){let u=o.path[s];s===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(t(o))):l[u]=l[u]||{_errors:[]},l=l[u],s++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,vr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};Ei.create=n=>new Ei(n);var vc=(n,e)=>{let t;switch(n.code){case Ke.invalid_type:n.received===st.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Ke.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,vr.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:t=`Unrecognized key(s) in object: ${vr.joinValues(n.keys,", ")}`;break;case Ke.invalid_union:t="Invalid input";break;case Ke.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${vr.joinValues(n.options)}`;break;case Ke.invalid_enum_value:t=`Invalid enum value. Expected ${vr.joinValues(n.options)}, received '${n.received}'`;break;case Ke.invalid_arguments:t="Invalid function arguments";break;case Ke.invalid_return_type:t="Invalid function return type";break;case Ke.invalid_date:t="Invalid date";break;case Ke.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:vr.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Ke.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Ke.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Ke.custom:t="Invalid input";break;case Ke.invalid_intersection_types:t="Intersection results could not be merged";break;case Ke.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Ke.not_finite:t="Number must be finite";break;default:t=e.defaultError,vr.assertNever(n)}return{message:t}},s4=vc;function jJ(n){s4=n}function md(){return s4}var dd=n=>{let{data:e,path:t,errorMaps:r,issueData:i}=n,a=[...t,...i.path||[]],o=_t(Ie({},i),{path:a}),l="",s=r.filter(u=>!!u).slice().reverse();for(let u of s)l=u(o,{data:e,defaultError:l}).message;return _t(Ie({},i),{path:a,message:i.message||l})},ZJ=[];function ct(n,e){let t=dd({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,md(),vc].filter(r=>!!r)});n.common.issues.push(t)}var Gn=class n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if(i.status==="aborted")return Yt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,t){return xt(this,null,function*(){let r=[];for(let i of t)r.push({key:yield i.key,value:yield i.value});return n.mergeObjectSync(e,r)})}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Yt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}},Yt=Object.freeze({status:"aborted"}),u4=n=>({status:"dirty",value:n}),ei=n=>({status:"valid",value:n}),ES=n=>n.status==="aborted",MS=n=>n.status==="dirty",yc=n=>n.status==="valid",hd=n=>typeof Promise!="undefined"&&n instanceof Promise,Mt;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Mt||(Mt={}));var ji=class{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},a4=(n,e)=>{if(yc(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Ei(n.common.issues);return this._error=t,this._error}}};function Zt(n){if(!n)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>o.code!=="invalid_type"?{message:l.defaultError}:typeof l.data=="undefined"?{message:r!=null?r:l.defaultError}:{message:t!=null?t:l.defaultError},description:i}}var Jt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Wo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gn,ctx:{common:e.parent.common,data:e.data,parsedType:Wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(hd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wo(e)},a=this._parseSync({data:e,path:i.path,parent:i});return a4(i,a)}parseAsync(e,t){return xt(this,null,function*(){let r=yield this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error})}safeParseAsync(e,t){return xt(this,null,function*(){let r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wo(e)},i=this._parse({data:e,path:r.path,parent:r}),a=yield hd(i)?i:Promise.resolve(i);return a4(r,a)})}refine(e,t){let r=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),l=()=>a.addIssue(Ie({code:Ke.custom},r(i)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(s=>s?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Mi({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pa.create(this,this._def)}nullable(){return no.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ro.create(this,this._def)}promise(){return Zo.create(this,this._def)}or(e){return Bs.create([this,e],this._def)}and(e){return Os.create(this,e,this._def)}transform(e){return new Mi(_t(Ie({},Zt(this._def)),{schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){let t=typeof e=="function"?e:()=>e;return new Vs(_t(Ie({},Zt(this._def)),{innerType:this,defaultValue:t,typeName:kt.ZodDefault}))}brand(){return new bd(Ie({typeName:kt.ZodBranded,type:this},Zt(this._def)))}catch(e){let t=typeof e=="function"?e:()=>e;return new Ku(_t(Ie({},Zt(this._def)),{innerType:this,catchValue:t,typeName:kt.ZodCatch}))}describe(e){let t=this.constructor;return new t(_t(Ie({},this._def),{description:e}))}pipe(e){return bc.create(this,e)}readonly(){return tl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},JJ=/^c[^\s-]{8,}$/i,XJ=/^[a-z][a-z0-9]*$/,QJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,KJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eX=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",NS,rX=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,nX=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,iX=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function aX(n,e){return!!((e==="v4"||!e)&&rX.test(n)||(e==="v6"||!e)&&nX.test(n))}var Yo=class n extends Jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==st.string){let a=this._getOrReturnCtx(e);return ct(a,{code:Ke.invalid_type,expected:st.string,received:a.parsedType}),Yt}let r=new Gn,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?ct(i,{code:Ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ct(i,{code:Ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")eX.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"email",code:Ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")NS||(NS=new RegExp(tX,"u")),NS.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"emoji",code:Ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")KJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"uuid",code:Ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")JJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cuid",code:Ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")XJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cuid2",code:Ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")QJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"ulid",code:Ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),ct(i,{validation:"url",code:Ke.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"regex",code:Ke.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?iX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?aX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"ip",code:Ke.invalid_string,message:a.message}),r.dirty()):vr.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),Ie({validation:t,code:Ke.invalid_string},Mt.errToObj(r)))}_addCheck(e){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(Ie({kind:"email"},Mt.errToObj(e)))}url(e){return this._addCheck(Ie({kind:"url"},Mt.errToObj(e)))}emoji(e){return this._addCheck(Ie({kind:"emoji"},Mt.errToObj(e)))}uuid(e){return this._addCheck(Ie({kind:"uuid"},Mt.errToObj(e)))}cuid(e){return this._addCheck(Ie({kind:"cuid"},Mt.errToObj(e)))}cuid2(e){return this._addCheck(Ie({kind:"cuid2"},Mt.errToObj(e)))}ulid(e){return this._addCheck(Ie({kind:"ulid"},Mt.errToObj(e)))}ip(e){return this._addCheck(Ie({kind:"ip"},Mt.errToObj(e)))}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck(Ie({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1},Mt.errToObj(e==null?void 0:e.message)))}regex(e,t){return this._addCheck(Ie({kind:"regex",regex:e},Mt.errToObj(t)))}includes(e,t){return this._addCheck(Ie({kind:"includes",value:e,position:t==null?void 0:t.position},Mt.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(Ie({kind:"startsWith",value:e},Mt.errToObj(t)))}endsWith(e,t){return this._addCheck(Ie({kind:"endsWith",value:e},Mt.errToObj(t)))}min(e,t){return this._addCheck(Ie({kind:"min",value:e},Mt.errToObj(t)))}max(e,t){return this._addCheck(Ie({kind:"max",value:e},Mt.errToObj(t)))}length(e,t){return this._addCheck(Ie({kind:"length",value:e},Mt.errToObj(t)))}nonempty(e){return this.min(1,Mt.errToObj(e))}trim(){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Yo.create=n=>{var e;return new Yo(Ie({checks:[],typeName:kt.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1},Zt(n)))};function oX(n,e){let t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,a=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var Ms=class n extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==st.number){let a=this._getOrReturnCtx(e);return ct(a,{code:Ke.invalid_type,expected:st.number,received:a.parsedType}),Yt}let r,i=new Gn;for(let a of this._def.checks)a.kind==="int"?vr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?oX(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.not_finite,message:a.message}),i.dirty()):vr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Mt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Mt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Mt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Mt.toString(t))}setLimit(e,t,r,i){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Mt.toString(i)}]}))}_addCheck(e){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vr.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Ms.create=n=>new Ms(Ie({checks:[],typeName:kt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1},Zt(n)));var Cs=class n extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==st.bigint){let a=this._getOrReturnCtx(e);return ct(a,{code:Ke.invalid_type,expected:st.bigint,received:a.parsedType}),Yt}let r,i=new Gn;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):vr.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Mt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Mt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Mt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Mt.toString(t))}setLimit(e,t,r,i){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Mt.toString(i)}]}))}_addCheck(e){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Cs.create=n=>{var e;return new Cs(Ie({checks:[],typeName:kt.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1},Zt(n)))};var Ts=class extends Jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==st.boolean){let r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:st.boolean,received:r.parsedType}),Yt}return ei(e.data)}};Ts.create=n=>new Ts(Ie({typeName:kt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1},Zt(n)));var Fs=class n extends Jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==st.date){let a=this._getOrReturnCtx(e);return ct(a,{code:Ke.invalid_type,expected:st.date,received:a.parsedType}),Yt}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return ct(a,{code:Ke.invalid_date}),Yt}let r=new Gn,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):vr.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new n(_t(Ie({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Mt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Mt.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Fs.create=n=>new Fs(Ie({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:kt.ZodDate},Zt(n)));var Zu=class extends Jt{_parse(e){if(this._getType(e)!==st.symbol){let r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:st.symbol,received:r.parsedType}),Yt}return ei(e.data)}};Zu.create=n=>new Zu(Ie({typeName:kt.ZodSymbol},Zt(n)));var Is=class extends Jt{_parse(e){if(this._getType(e)!==st.undefined){let r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:st.undefined,received:r.parsedType}),Yt}return ei(e.data)}};Is.create=n=>new Is(Ie({typeName:kt.ZodUndefined},Zt(n)));var Ps=class extends Jt{_parse(e){if(this._getType(e)!==st.null){let r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:st.null,received:r.parsedType}),Yt}return ei(e.data)}};Ps.create=n=>new Ps(Ie({typeName:kt.ZodNull},Zt(n)));var jo=class extends Jt{constructor(){super(...arguments),this._any=!0}_parse(e){return ei(e.data)}};jo.create=n=>new jo(Ie({typeName:kt.ZodAny},Zt(n)));var to=class extends Jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ei(e.data)}};to.create=n=>new to(Ie({typeName:kt.ZodUnknown},Zt(n)));var ma=class extends Jt{_parse(e){let t=this._getOrReturnCtx(e);return ct(t,{code:Ke.invalid_type,expected:st.never,received:t.parsedType}),Yt}};ma.create=n=>new ma(Ie({typeName:kt.ZodNever},Zt(n)));var Ju=class extends Jt{_parse(e){if(this._getType(e)!==st.undefined){let r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:st.void,received:r.parsedType}),Yt}return ei(e.data)}};Ju.create=n=>new Ju(Ie({typeName:kt.ZodVoid},Zt(n)));var ro=class n extends Jt{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==st.array)return ct(t,{code:Ke.invalid_type,expected:st.array,received:t.parsedType}),Yt;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(o||l)&&(ct(t,{code:o?Ke.too_big:Ke.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(ct(t,{code:Ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(ct(t,{code:Ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>i.type._parseAsync(new ji(t,o,t.path,l)))).then(o=>Gn.mergeArray(r,o));let a=[...t.data].map((o,l)=>i.type._parseSync(new ji(t,o,t.path,l)));return Gn.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new n(_t(Ie({},this._def),{minLength:{value:e,message:Mt.toString(t)}}))}max(e,t){return new n(_t(Ie({},this._def),{maxLength:{value:e,message:Mt.toString(t)}}))}length(e,t){return new n(_t(Ie({},this._def),{exactLength:{value:e,message:Mt.toString(t)}}))}nonempty(e){return this.min(1,e)}};ro.create=(n,e)=>new ro(Ie({type:n,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray},Zt(e)));function ju(n){if(n instanceof fi){let e={};for(let t in n.shape){let r=n.shape[t];e[t]=pa.create(ju(r))}return new fi(_t(Ie({},n._def),{shape:()=>e}))}else return n instanceof ro?new ro(_t(Ie({},n._def),{type:ju(n.element)})):n instanceof pa?pa.create(ju(n.unwrap())):n instanceof no?no.create(ju(n.unwrap())):n instanceof Ma?Ma.create(n.items.map(e=>ju(e))):n}var fi=class n extends Jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=vr.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==st.object){let u=this._getOrReturnCtx(e);return ct(u,{code:Ke.invalid_type,expected:st.object,received:u.parsedType}),Yt}let{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(let u in i.data)o.includes(u)||l.push(u);let s=[];for(let u of o){let c=a[u],f=i.data[u];s.push({key:{status:"valid",value:u},value:c._parse(new ji(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ma){let u=this._def.unknownKeys;if(u==="passthrough")for(let c of l)s.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")l.length>0&&(ct(i,{code:Ke.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let c of l){let f=i.data[c];s.push({key:{status:"valid",value:c},value:u._parse(new ji(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(()=>xt(this,null,function*(){let u=[];for(let c of s){let f=yield c.key;u.push({key:f,value:yield c.value,alwaysSet:c.alwaysSet})}return u})).then(u=>Gn.mergeObjectSync(r,u)):Gn.mergeObjectSync(r,s)}get shape(){return this._def.shape()}strict(e){return Mt.errToObj,new n(Ie(_t(Ie({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,r)=>{var i,a,o,l;let s=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(l=Mt.errToObj(e).message)!==null&&l!==void 0?l:s}:{message:s}}}:{}))}strip(){return new n(_t(Ie({},this._def),{unknownKeys:"strip"}))}passthrough(){return new n(_t(Ie({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new n(_t(Ie({},this._def),{shape:()=>Ie(Ie({},this._def.shape()),e)}))}merge(e){return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Ie(Ie({},this._def.shape()),e._def.shape()),typeName:kt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new n(_t(Ie({},this._def),{catchall:e}))}pick(e){let t={};return vr.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new n(_t(Ie({},this._def),{shape:()=>t}))}omit(e){let t={};return vr.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new n(_t(Ie({},this._def),{shape:()=>t}))}deepPartial(){return ju(this)}partial(e){let t={};return vr.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new n(_t(Ie({},this._def),{shape:()=>t}))}required(e){let t={};return vr.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof pa;)a=a._def.innerType;t[r]=a}}),new n(_t(Ie({},this._def),{shape:()=>t}))}keyof(){return l4(vr.objectKeys(this.shape))}};fi.create=(n,e)=>new fi(Ie({shape:()=>n,unknownKeys:"strip",catchall:ma.create(),typeName:kt.ZodObject},Zt(e)));fi.strictCreate=(n,e)=>new fi(Ie({shape:()=>n,unknownKeys:"strict",catchall:ma.create(),typeName:kt.ZodObject},Zt(e)));fi.lazycreate=(n,e)=>new fi(Ie({shape:n,unknownKeys:"strip",catchall:ma.create(),typeName:kt.ZodObject},Zt(e)));var Bs=class extends Jt{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(a){for(let l of a)if(l.result.status==="valid")return l.result;for(let l of a)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;let o=a.map(l=>new Ei(l.ctx.common.issues));return ct(t,{code:Ke.invalid_union,unionErrors:o}),Yt}if(t.common.async)return Promise.all(r.map(a=>xt(this,null,function*(){let o=_t(Ie({},t),{common:_t(Ie({},t.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}}))).then(i);{let a,o=[];for(let s of r){let u=_t(Ie({},t),{common:_t(Ie({},t.common),{issues:[]}),parent:null}),c=s._parseSync({data:t.data,path:t.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let l=o.map(s=>new Ei(s));return ct(t,{code:Ke.invalid_union,unionErrors:l}),Yt}}get options(){return this._def.options}};Bs.create=(n,e)=>new Bs(Ie({options:n,typeName:kt.ZodUnion},Zt(e)));var pd=n=>n instanceof ks?pd(n.schema):n instanceof Mi?pd(n.innerType()):n instanceof Rs?[n.value]:n instanceof Ls?n.options:n instanceof Us?Object.keys(n.enum):n instanceof Vs?pd(n._def.innerType):n instanceof Is?[void 0]:n instanceof Ps?[null]:null,gd=class n extends Jt{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==st.object)return ct(t,{code:Ke.invalid_type,expected:st.object,received:t.parsedType}),Yt;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ct(t,{code:Ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let a of t){let o=pd(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new n(Ie({typeName:kt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i},Zt(r)))}};function CS(n,e){let t=Wo(n),r=Wo(e);if(n===e)return{valid:!0,data:n};if(t===st.object&&r===st.object){let i=vr.objectKeys(e),a=vr.objectKeys(n).filter(l=>i.indexOf(l)!==-1),o=Ie(Ie({},n),e);for(let l of a){let s=CS(n[l],e[l]);if(!s.valid)return{valid:!1};o[l]=s.data}return{valid:!0,data:o}}else if(t===st.array&&r===st.array){if(n.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<n.length;a++){let o=n[a],l=e[a],s=CS(o,l);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}else return t===st.date&&r===st.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}var Os=class extends Jt{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(ES(a)||ES(o))return Yt;let l=CS(a.value,o.value);return l.valid?((MS(a)||MS(o))&&t.dirty(),{status:t.value,value:l.data}):(ct(r,{code:Ke.invalid_intersection_types}),Yt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Os.create=(n,e,t)=>new Os(Ie({left:n,right:e,typeName:kt.ZodIntersection},Zt(t)));var Ma=class n extends Jt{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.array)return ct(r,{code:Ke.invalid_type,expected:st.array,received:r.parsedType}),Yt;if(r.data.length<this._def.items.length)return ct(r,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yt;!this._def.rest&&r.data.length>this._def.items.length&&(ct(r,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...r.data].map((o,l)=>{let s=this._def.items[l]||this._def.rest;return s?s._parse(new ji(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Gn.mergeArray(t,o)):Gn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new n(_t(Ie({},this._def),{rest:e}))}};Ma.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ma(Ie({items:n,typeName:kt.ZodTuple,rest:null},Zt(e)))};var vd=class n extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.object)return ct(r,{code:Ke.invalid_type,expected:st.object,received:r.parsedType}),Yt;let i=[],a=this._def.keyType,o=this._def.valueType;for(let l in r.data)i.push({key:a._parse(new ji(r,l,r.path,l)),value:o._parse(new ji(r,r.data[l],r.path,l))});return r.common.async?Gn.mergeObjectAsync(t,i):Gn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Jt?new n(Ie({keyType:e,valueType:t,typeName:kt.ZodRecord},Zt(r))):new n(Ie({keyType:Yo.create(),valueType:e,typeName:kt.ZodRecord},Zt(t)))}},Xu=class extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.map)return ct(r,{code:Ke.invalid_type,expected:st.map,received:r.parsedType}),Yt;let i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,s],u)=>({key:i._parse(new ji(r,l,r.path,[u,"key"])),value:a._parse(new ji(r,s,r.path,[u,"value"]))}));if(r.common.async){let l=new Map;return Promise.resolve().then(()=>xt(this,null,function*(){for(let s of o){let u=yield s.key,c=yield s.value;if(u.status==="aborted"||c.status==="aborted")return Yt;(u.status==="dirty"||c.status==="dirty")&&t.dirty(),l.set(u.value,c.value)}return{status:t.value,value:l}}))}else{let l=new Map;for(let s of o){let u=s.key,c=s.value;if(u.status==="aborted"||c.status==="aborted")return Yt;(u.status==="dirty"||c.status==="dirty")&&t.dirty(),l.set(u.value,c.value)}return{status:t.value,value:l}}}};Xu.create=(n,e,t)=>new Xu(Ie({valueType:e,keyType:n,typeName:kt.ZodMap},Zt(t)));var Qu=class n extends Jt{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.set)return ct(r,{code:Ke.invalid_type,expected:st.set,received:r.parsedType}),Yt;let i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ct(r,{code:Ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ct(r,{code:Ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(s){let u=new Set;for(let c of s){if(c.status==="aborted")return Yt;c.status==="dirty"&&t.dirty(),u.add(c.value)}return{status:t.value,value:u}}let l=[...r.data.values()].map((s,u)=>a._parse(new ji(r,s,r.path,u)));return r.common.async?Promise.all(l).then(s=>o(s)):o(l)}min(e,t){return new n(_t(Ie({},this._def),{minSize:{value:e,message:Mt.toString(t)}}))}max(e,t){return new n(_t(Ie({},this._def),{maxSize:{value:e,message:Mt.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Qu.create=(n,e)=>new Qu(Ie({valueType:n,minSize:null,maxSize:null,typeName:kt.ZodSet},Zt(e)));var yd=class n extends Jt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==st.function)return ct(t,{code:Ke.invalid_type,expected:st.function,received:t.parsedType}),Yt;function r(l,s){return dd({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,md(),vc].filter(u=>!!u),issueData:{code:Ke.invalid_arguments,argumentsError:s}})}function i(l,s){return dd({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,md(),vc].filter(u=>!!u),issueData:{code:Ke.invalid_return_type,returnTypeError:s}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Zo){let l=this;return ei(function(...s){return xt(this,null,function*(){let u=new Ei([]),c=yield l._def.args.parseAsync(s,a).catch(m=>{throw u.addIssue(r(s,m)),u}),f=yield Reflect.apply(o,this,c);return yield l._def.returns._def.type.parseAsync(f,a).catch(m=>{throw u.addIssue(i(f,m)),u})})})}else{let l=this;return ei(function(...s){let u=l._def.args.safeParse(s,a);if(!u.success)throw new Ei([r(s,u.error)]);let c=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(c,a);if(!f.success)throw new Ei([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new n(_t(Ie({},this._def),{args:Ma.create(e).rest(to.create())}))}returns(e){return new n(_t(Ie({},this._def),{returns:e}))}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new n(Ie({args:e||Ma.create([]).rest(to.create()),returns:t||to.create(),typeName:kt.ZodFunction},Zt(r)))}},ks=class extends Jt{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};ks.create=(n,e)=>new ks(Ie({getter:n,typeName:kt.ZodLazy},Zt(e)));var Rs=class extends Jt{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ct(t,{received:t.data,code:Ke.invalid_literal,expected:this._def.value}),Yt}return{status:"valid",value:e.data}}get value(){return this._def.value}};Rs.create=(n,e)=>new Rs(Ie({value:n,typeName:kt.ZodLiteral},Zt(e)));function l4(n,e){return new Ls(Ie({values:n,typeName:kt.ZodEnum},Zt(e)))}var Ls=class n extends Jt{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return ct(t,{expected:vr.joinValues(r),received:t.parsedType,code:Ke.invalid_type}),Yt}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),r=this._def.values;return ct(t,{received:t.data,code:Ke.invalid_enum_value,options:r}),Yt}return ei(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return n.create(e)}exclude(e){return n.create(this.options.filter(t=>!e.includes(t)))}};Ls.create=l4;var Us=class extends Jt{_parse(e){let t=vr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==st.string&&r.parsedType!==st.number){let i=vr.objectValues(t);return ct(r,{expected:vr.joinValues(i),received:r.parsedType,code:Ke.invalid_type}),Yt}if(t.indexOf(e.data)===-1){let i=vr.objectValues(t);return ct(r,{received:r.data,code:Ke.invalid_enum_value,options:i}),Yt}return ei(e.data)}get enum(){return this._def.values}};Us.create=(n,e)=>new Us(Ie({values:n,typeName:kt.ZodNativeEnum},Zt(e)));var Zo=class extends Jt{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==st.promise&&t.common.async===!1)return ct(t,{code:Ke.invalid_type,expected:st.promise,received:t.parsedType}),Yt;let r=t.parsedType===st.promise?t.data:Promise.resolve(t.data);return ei(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Zo.create=(n,e)=>new Zo(Ie({type:n,typeName:kt.ZodPromise},Zt(e)));var Mi=class extends Jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{ct(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){let o=l=>{let s=i.refinement(l,a);if(r.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Yt:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Yt:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yc(o))return o;let l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>yc(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:t.value,value:l})):o);vr.assertNever(i)}};Mi.create=(n,e,t)=>new Mi(Ie({schema:n,typeName:kt.ZodEffects,effect:e},Zt(t)));Mi.createWithPreprocess=(n,e,t)=>new Mi(Ie({schema:e,effect:{type:"preprocess",transform:n},typeName:kt.ZodEffects},Zt(t)));var pa=class extends Jt{_parse(e){return this._getType(e)===st.undefined?ei(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};pa.create=(n,e)=>new pa(Ie({innerType:n,typeName:kt.ZodOptional},Zt(e)));var no=class extends Jt{_parse(e){return this._getType(e)===st.null?ei(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};no.create=(n,e)=>new no(Ie({innerType:n,typeName:kt.ZodNullable},Zt(e)));var Vs=class extends Jt{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===st.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Vs.create=(n,e)=>new Vs(Ie({innerType:n,typeName:kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},Zt(e)));var Ku=class extends Jt{_parse(e){let{ctx:t}=this._processInputParams(e),r=_t(Ie({},t),{common:_t(Ie({},t.common),{issues:[]})}),i=this._def.innerType._parse({data:r.data,path:r.path,parent:Ie({},r)});return hd(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ei(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ei(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Ku.create=(n,e)=>new Ku(Ie({innerType:n,typeName:kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},Zt(e)));var el=class extends Jt{_parse(e){if(this._getType(e)!==st.nan){let r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:st.nan,received:r.parsedType}),Yt}return{status:"valid",value:e.data}}};el.create=n=>new el(Ie({typeName:kt.ZodNaN},Zt(n)));var sX=Symbol("zod_brand"),bd=class extends Jt{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},bc=class n extends Jt{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return xt(this,null,function*(){let a=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Yt:a.status==="dirty"?(t.dirty(),u4(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})});{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new n({in:e,out:t,typeName:kt.ZodPipeline})}},tl=class extends Jt{_parse(e){let t=this._def.innerType._parse(e);return yc(t)&&(t.value=Object.freeze(t.value)),t}};tl.create=(n,e)=>new tl(Ie({innerType:n,typeName:kt.ZodReadonly},Zt(e)));var c4=(n,e={},t)=>n?jo.create().superRefine((r,i)=>{var a,o;if(!n(r)){let l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,s=(o=(a=l.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;i.addIssue(_t(Ie({code:"custom"},u),{fatal:s}))}}):jo.create(),uX={object:fi.lazycreate},kt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(kt||(kt={}));var lX=(n,e={message:`Input not instance of ${n.name}`})=>c4(t=>t instanceof n,e),f4=Yo.create,p4=Ms.create,cX=el.create,fX=Cs.create,m4=Ts.create,pX=Fs.create,mX=Zu.create,dX=Is.create,hX=Ps.create,gX=jo.create,vX=to.create,yX=ma.create,bX=Ju.create,xX=ro.create,wX=fi.create,_X=fi.strictCreate,SX=Bs.create,AX=gd.create,NX=Os.create,DX=Ma.create,EX=vd.create,MX=Xu.create,CX=Qu.create,TX=yd.create,FX=ks.create,IX=Rs.create,PX=Ls.create,BX=Us.create,OX=Zo.create,o4=Mi.create,kX=pa.create,RX=no.create,LX=Mi.createWithPreprocess,UX=bc.create,VX=()=>f4().optional(),qX=()=>p4().optional(),zX=()=>m4().optional(),$X={string:n=>Yo.create(_t(Ie({},n),{coerce:!0})),number:n=>Ms.create(_t(Ie({},n),{coerce:!0})),boolean:n=>Ts.create(_t(Ie({},n),{coerce:!0})),bigint:n=>Cs.create(_t(Ie({},n),{coerce:!0})),date:n=>Fs.create(_t(Ie({},n),{coerce:!0}))},HX=Yt,le=Object.freeze({__proto__:null,defaultErrorMap:vc,setErrorMap:jJ,getErrorMap:md,makeIssue:dd,EMPTY_PATH:ZJ,addIssueToContext:ct,ParseStatus:Gn,INVALID:Yt,DIRTY:u4,OK:ei,isAborted:ES,isDirty:MS,isValid:yc,isAsync:hd,get util(){return vr},get objectUtil(){return DS},ZodParsedType:st,getParsedType:Wo,ZodType:Jt,ZodString:Yo,ZodNumber:Ms,ZodBigInt:Cs,ZodBoolean:Ts,ZodDate:Fs,ZodSymbol:Zu,ZodUndefined:Is,ZodNull:Ps,ZodAny:jo,ZodUnknown:to,ZodNever:ma,ZodVoid:Ju,ZodArray:ro,ZodObject:fi,ZodUnion:Bs,ZodDiscriminatedUnion:gd,ZodIntersection:Os,ZodTuple:Ma,ZodRecord:vd,ZodMap:Xu,ZodSet:Qu,ZodFunction:yd,ZodLazy:ks,ZodLiteral:Rs,ZodEnum:Ls,ZodNativeEnum:Us,ZodPromise:Zo,ZodEffects:Mi,ZodTransformer:Mi,ZodOptional:pa,ZodNullable:no,ZodDefault:Vs,ZodCatch:Ku,ZodNaN:el,BRAND:sX,ZodBranded:bd,ZodPipeline:bc,ZodReadonly:tl,custom:c4,Schema:Jt,ZodSchema:Jt,late:uX,get ZodFirstPartyTypeKind(){return kt},coerce:$X,any:gX,array:xX,bigint:fX,boolean:m4,date:pX,discriminatedUnion:AX,effect:o4,enum:PX,function:TX,instanceof:lX,intersection:NX,lazy:FX,literal:IX,map:MX,nan:cX,nativeEnum:BX,never:yX,null:hX,nullable:RX,number:p4,object:wX,oboolean:zX,onumber:qX,optional:kX,ostring:VX,pipeline:UX,preprocess:LX,promise:OX,record:EX,set:CX,strictObject:_X,string:f4,symbol:mX,transformer:o4,tuple:DX,undefined:dX,union:SX,unknown:vX,void:bX,NEVER:HX,ZodIssueCode:Ke,quotelessJson:YJ,ZodError:Ei});function d4(n,e){return(t,r)=>t[n]===void 0==(t[e]===void 0)?(r.addIssue({code:le.ZodIssueCode.custom,message:`Either ${n} or ${e} must be filled, but not both`}),!1):!0}function Bt(){return function(n){return n}}function Kr(n,e){let t=n.safeParse(e);if(!t.success)throw new tr({errorLevel:"CRITICAL",effect:"invalid arguments supplied to function",cause:t.error})}var GX=Bt()(le.object({type:le.literal("command"),command:le.string()})),WX=Bt()(le.object({type:le.literal("js"),file:le.string(),args:le.record(le.unknown()).optional()})),YX=Bt()(le.object({type:le.literal("open"),link:le.string(),newTab:le.boolean().optional()})),jX=Bt()(le.object({type:le.literal("input"),str:le.string()})),ZX=Bt()(le.object({type:le.literal("sleep"),ms:le.number()})),JX=Bt()(le.object({type:le.literal("templaterCreateNote"),templateFile:le.string(),folderPath:le.string().optional(),fileName:le.string().optional(),openNote:le.boolean().optional()})),XX=Bt()(le.object({type:le.literal("updateMetadata"),bindTarget:le.string(),evaluate:le.boolean(),value:le.coerce.string()})),QX=Bt()(le.object({type:le.literal("createNote"),folderPath:le.string().optional(),fileName:le.string(),openNote:le.boolean().optional()})),KX=Bt()(le.object({type:le.literal("replaceInNote"),fromLine:le.number(),toLine:le.number(),replacement:le.string(),templater:le.boolean().optional()})),eQ=Bt()(le.object({type:le.literal("replaceSelf"),replacement:le.string(),templater:le.boolean().optional()})),tQ=Bt()(le.object({type:le.literal("regexpReplaceInNote"),regexp:le.string(),replacement:le.string()})),rQ=Bt()(le.object({type:le.literal("insertIntoNote"),line:le.number(),value:le.string(),templater:le.boolean().optional()})),nQ=Bt()(le.object({type:le.literal("inlineJS"),code:le.string()})),h4=Bt()(le.union([GX,WX,YX,jX,ZX,JX,XX,QX,KX,eQ,tQ,rQ,nQ])),iQ=le.nativeEnum(vn),xd=Bt()(le.object({label:le.string(),icon:le.string().optional(),style:iQ,class:le.string().optional(),tooltip:le.string().optional(),id:le.string().optional(),hidden:le.boolean().optional(),action:h4.optional(),actions:h4.array().optional()}).superRefine(d4("action","actions")));var aQ=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function g4(n){return n.length===1?n[0].toString():n.reduce((e,t)=>{if(typeof t=="number")return e+"["+t.toString()+"]";if(t.includes('"'))return e+'["'+oQ(t)+'"]';if(!aQ.test(t))return e+'["'+t+'"]';let r=e.length===0?"":".";return e+r+t},"")}function oQ(n){return n.replace(/"/g,'\\"')}function v4(n){return n.length!==0}var sQ=99,uQ="; ",lQ=", or ",y4="Validation error",cQ=": ",wd=class extends Error{constructor(t,r=[]){super(t);tn(this,"details");tn(this,"name");this.details=r,this.name="ZodValidationError"}toString(){return this.message}};function b4(n){let{issue:e,issueSeparator:t,unionSeparator:r,includePath:i}=n;if(e.code==="invalid_union")return e.unionErrors.reduce((a,o)=>{let l=o.issues.map(s=>b4({issue:s,issueSeparator:t,unionSeparator:r,includePath:i})).join(t);return a.includes(l)||a.push(l),a},[]).join(r);if(i&&v4(e.path)){if(e.path.length===1){let a=e.path[0];if(typeof a=="number")return`${e.message} at index ${a}`}return`${e.message} at "${g4(e.path)}"`}return e.message}function fQ(n,e,t){return e!==null?n.length>0?[e,n].join(t):e:n.length>0?n:y4}function TS(n,e={}){let{maxIssuesInMessage:t=sQ,issueSeparator:r=uQ,unionSeparator:i=lQ,prefixSeparator:a=cQ,prefix:o=y4,includePath:l=!0}=e,s=n.errors.slice(0,t).map(c=>b4({issue:c,issueSeparator:r,unionSeparator:i,includePath:l})).join(r),u=fQ(s,o,a);return new wd(u,n.errors)}var pQ=xc.P.sequenceMap((n,e)=>e,xc.P.string("BUTTON"),xc.P.manyNotOf("[],^").separateBy(xc.P.string(",").trim(x4.P_UTILS.optionalWhitespace())).wrapString("[","]")),_d=class{constructor(e){this.plugin=e}fromGroupString(e){let t=new Qt("ButtonGroup"),r=[];try{r=_n(pQ,e)}catch(i){t.add(i)}return{declarationString:e,referencedButtonIds:r,errorCollection:t}}validateGroup(e){return{declarationString:void 0,referencedButtonIds:e.referencedButtonIds,errorCollection:new Qt("ButtonGroup")}}fromString(e){let t=new Qt("Button"),r;try{let i=this.plugin.internal.parseYaml(e);r=this.validateConfig(i)}catch(i){t.add(i)}return{declarationString:e,config:r,errorCollection:t}}validateConfig(e){let t=xd.safeParse(e);if(!t.success){let r=TS(t.error,{unionSeparator:`
    OR `,issueSeparator:" AND ",prefix:null});throw new is({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:r.message,docs:[kr.linkToButtonConfig()]})}return t.data}validate(e){let t=new Qt("Button"),r;try{r=this.validateConfig(e)}catch(i){t.add(i)}return{declarationString:void 0,config:r,errorCollection:t}}};var Sd=class{constructor(e){this.plugin=e}fromString(e){let t=new Qt("JsViewFieldDeclaration");try{let r=_n(sN,e);return this.partialToFullDeclaration(r,e,t)}catch(r){t.add(r)}return{declarationString:e,errorCollection:t,bindTargetMappings:[],writeToBindTarget:void 0,hidden:!1,code:""}}fromStringAndValidate(e,t){return this.validate(this.fromString(e),t)}fromSimpleDeclaration(e){var r;let t=new Qt("JsViewFieldDeclaration");return{declarationString:void 0,code:e.code,bindTargetMappings:e.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(i.bindTarget),name:i.name})),writeToBindTarget:this.plugin.api.bindTargetParser.fromExistingDeclaration(e.writeToBindTarget),hidden:(r=e.hidden)!=null?r:!1,errorCollection:t}}fromSimpleDeclarationAndValidate(e,t){return this.validate(this.fromSimpleDeclaration(e),t)}partialToFullDeclaration(e,t,r){let i=e;return i.declarationString=t,i.errorCollection=r,i.bindTargetMappings=[...i.bindTargetMappings],i}validate(e,t){let r={};r.declarationString=e.declarationString,r.errorCollection=e.errorCollection;try{return r.bindTargetMappings=e.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validate(e.declarationString,i.bindTarget,t),name:i.name})),e.writeToBindTarget!==void 0&&(r.writeToBindTarget=this.plugin.api.bindTargetParser.validate(e.declarationString,e.writeToBindTarget,t)),r.code=e.code,r.hidden=e.hidden,r}catch(i){r.errorCollection.add(i)}return{declarationString:e.declarationString,errorCollection:r.errorCollection,bindTargetMappings:[],writeToBindTarget:void 0,hidden:!1,code:""}}};function Ad(n){return new Ho(n.map(e=>yN.tryParse(e).success?new as("array",e):new as("object",e)))}var rl=class{constructor(e){this.scope=e}};var Ci=Bt()(le.string()),nl=Bt()(le.nativeEnum(yi)),wc=Bt()(le.nativeEnum(au)),_4=Bt()(le.nativeEnum(fo)),ZWe=Bt()(le.instanceof(HTMLElement)),il=Bt()(le.instanceof(rl)),JWe=Bt()(le.instanceof(Rr)),XWe=Bt()(le.function().args().returns(le.void())),QWe=Bt()(le.instanceof(sn)),KWe=Bt()(le.instanceof(Pn)),S4=Bt()(le.instanceof(co)),w4=Bt()(le.object({index:le.number(),line:le.number(),column:le.number()})),mQ=Bt()(le.object({from:w4,to:w4})),Jo=Bt()(le.object({value:le.string(),position:mQ.optional()})),A4=Bt()(le.object({name:Jo,value:Jo.array()})),dQ=Bt()(le.object({type:le.nativeEnum(os),prop:Jo})),FS=Bt()(le.object({storageType:Jo.optional(),storagePath:Jo.optional(),storageProp:dQ.array(),listenToChildren:le.boolean()})),eYe=Bt()(le.object({declarationString:le.string().optional(),inputFieldType:Jo.optional(),templateName:Jo.optional(),bindTarget:FS.optional(),arguments:A4.array(),errorCollection:le.instanceof(Qt)})),tYe=Bt()(le.object({declarationString:le.string().optional(),templateDeclaration:le.array(le.union([le.string(),FS])).optional(),viewFieldType:Jo.optional(),arguments:A4.array(),writeToBindTarget:FS.optional(),errorCollection:le.instanceof(Qt)})),da=Bt()(le.object({storageType:le.string(),storagePath:le.string(),storageProp:le.instanceof(Ho),listenToChildren:le.boolean()})),N4=Bt()(le.object({name:le.string(),value:le.string().array()})),rYe=Bt()(le.object({type:le.nativeEnum(os),prop:le.string()})),D4=Bt()(le.object({inputFieldType:_4.optional(),templateName:le.string().optional(),bindTarget:da.optional(),arguments:N4.array().optional()})),E4=Bt()(le.object({viewFieldType:_4.optional(),templateDeclaration:le.union([le.string(),da]).array().optional(),arguments:N4.array().optional(),writeToBindTarget:da.optional()})),hQ=Bt()(le.object({bindTarget:da,name:le.string()})),gQ=Bt()(le.object({bindTargetMappings:hQ.array(),writeToBindTarget:da.optional(),code:le.string()})),vQ=Bt()(le.object({referencedButtonIds:le.string().array()})),M4=Bt()(le.object({renderChildType:nl,declaration:le.union([le.string(),D4]),scope:il.optional()})),C4=Bt()(le.object({renderChildType:nl,declaration:le.union([le.string(),E4]),scope:il.optional()})),T4=Bt()(le.object({declaration:le.union([le.string(),gQ])})),F4=Bt()(le.object({bindTarget:da,tableHead:le.string().array(),columns:le.array(le.union([D4,E4,le.string()]))})),I4=Bt()(le.object({renderChildType:nl,declaration:le.union([le.string(),vQ]),position:S4.optional()})),P4=Bt()(le.object({declaration:le.union([le.string(),xd]),position:S4.optional(),isPreview:le.boolean()})),B4=Bt()(le.object({depth:le.number(),content:le.string()}));function yQ(n){let e,t;return{c(){e=te("td"),t=te("div")},m(r,i){J(r,e,i),ae(e,t),n[3](t)},p:Xe,i:Xe,o:Xe,d(r){r&&Z(e),n[3](null)}}}function bQ(n,e,t){let{table:r}=e,{cell:i}=e,a,o;$a(()=>{o=r.createCell(i,a)}),Al(()=>{o==null||o()});function l(s){Br[s?"unshift":"push"](()=>{a=s,t(0,a)})}return n.$$set=s=>{"table"in s&&t(1,r=s.table),"cell"in s&&t(2,i=s.cell)},[a,r,i,l]}var IS=class extends Re{constructor(e){super(),Ue(this,e,bQ,yQ,Le,{table:1,cell:2})}},O4=IS;function k4(n,e,t){let r=n.slice();return r[7]=e[t],r}function R4(n,e,t){let r=n.slice();return r[10]=e[t],r[11]=e,r[12]=t,r}function L4(n,e,t){let r=n.slice();return r[13]=e[t],r}function U4(n){let e,t=n[13]+"",r;return{c(){e=te("th"),r=et(t)},m(i,a){J(i,e,a),ae(e,r)},p(i,a){a&2&&t!==(t=i[13]+"")&&ht(r,t)},d(i){i&&Z(e)}}}function xQ(n){let e,t,r;return{c(){e=te("td"),t=et("invalid data"),q(e,"class","meta-bind-error"),q(e,"colspan",r=n[1].length)},m(i,a){J(i,e,a),ae(e,t)},p(i,a){a&2&&r!==(r=i[1].length)&&q(e,"colspan",r)},i:Xe,o:Xe,d(i){i&&Z(e)}}}function wQ(n){let e,t,r=gt(n[7].cells),i=[];for(let o=0;o<r.length;o+=1)i[o]=V4(R4(n,r,o));let a=o=>oe(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=_r()},m(o,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,l);J(o,e,l),t=!0},p(o,l){if(l&5){r=gt(o[7].cells);let s;for(s=0;s<r.length;s+=1){let u=R4(o,r,s);i[s]?(i[s].p(u,l),re(i[s],1)):(i[s]=V4(u),i[s].c(),re(i[s],1),i[s].m(e.parentNode,e))}for(Dt(),s=r.length;s<i.length;s+=1)a(s);Et()}},i(o){if(!t){for(let l=0;l<r.length;l+=1)re(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)oe(i[l]);t=!1},d(o){o&&Z(e),lr(i,o)}}}function V4(n){let e,t,r;function i(o){n[4](o,n[10],n[11],n[12])}let a={table:n[0]};return n[10]!==void 0&&(a.cell=n[10]),e=new O4({props:a}),Br.push(()=>ii(e,"cell",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){n=o;let s={};l&1&&(s.table=n[0]),!t&&l&4&&(t=!0,s.cell=n[10],ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function _Q(n){let e,t;return e=new fn({props:{plugin:n[0].plugin,iconName:"x"}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0].plugin),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function q4(n,e){let t,r,i,a,o,l,s,u,c=[wQ,xQ],f=[];function p(h,d){return h[7].isValid?0:1}r=p(e,-1),i=f[r]=c[r](e);function m(){return e[5](e[7])}return l=new Sr({props:{$$slots:{default:[_Q]},$$scope:{ctx:e}}}),l.$on("click",m),{key:n,first:null,c(){t=te("tr"),i.c(),a=be(),o=te("td"),Me(l.$$.fragment),s=be(),q(o,"class","mb-html-table-button-cell"),this.first=t},m(h,d){J(h,t,d),f[r].m(t,null),ae(t,a),ae(t,o),Ae(l,o,null),ae(t,s),u=!0},p(h,d){e=h;let v=r;r=p(e,d),r===v?f[r].p(e,d):(Dt(),oe(f[v],1,1,()=>{f[v]=null}),Et(),i=f[r],i?i.p(e,d):(i=f[r]=c[r](e),i.c()),re(i,1),i.m(t,a));let b={};d&65537&&(b.$$scope={dirty:d,ctx:e}),l.$set(b)},i(h){u||(re(i),re(l.$$.fragment,h),u=!0)},o(h){oe(i),oe(l.$$.fragment,h),u=!1},d(h){h&&Z(t),f[r].d(),Ne(l)}}}function SQ(n){let e;return{c(){e=et("Add Column")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function AQ(n){let e,t,r,i,a,o,l,s,u=[],c=new Map,f,p,m,h=gt(n[1]),d=[];for(let S=0;S<h.length;S+=1)d[S]=U4(L4(n,h,S));let v=gt(n[2]),b=S=>S[7].index;for(let S=0;S<v.length;S+=1){let y=k4(n,v,S),w=b(y);c.set(w,u[S]=q4(w,y))}return p=new Sr({props:{$$slots:{default:[SQ]},$$scope:{ctx:n}}}),p.$on("click",n[6]),{c(){e=te("div"),t=te("table"),r=te("thead"),i=te("tr");for(let S=0;S<d.length;S+=1)d[S].c();a=be(),o=te("th"),l=be(),s=te("tbody");for(let S=0;S<u.length;S+=1)u[S].c();f=be(),Me(p.$$.fragment),q(o,"class","mb-html-table-button-cell"),q(t,"class","mb-html-table"),q(e,"class","mb-table-wrapper")},m(S,y){J(S,e,y),ae(e,t),ae(t,r),ae(r,i);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(i,null);ae(i,a),ae(i,o),ae(t,l),ae(t,s);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(s,null);J(S,f,y),Ae(p,S,y),m=!0},p(S,[y]){if(y&2){h=gt(S[1]);let _;for(_=0;_<h.length;_+=1){let x=L4(S,h,_);d[_]?d[_].p(x,y):(d[_]=U4(x),d[_].c(),d[_].m(i,a))}for(;_<d.length;_+=1)d[_].d(1);d.length=h.length}y&7&&(v=gt(S[2]),Dt(),u=lu(u,y,b,1,S,v,c,s,xf,q4,null,k4),Et());let w={};y&65536&&(w.$$scope={dirty:y,ctx:S}),p.$set(w)},i(S){if(!m){for(let y=0;y<v.length;y+=1)re(u[y]);re(p.$$.fragment,S),m=!0}},o(S){for(let y=0;y<u.length;y+=1)oe(u[y]);oe(p.$$.fragment,S),m=!1},d(S){S&&(Z(e),Z(f)),lr(d,S);for(let y=0;y<u.length;y+=1)u[y].d();Ne(p,S)}}}function NQ(n,e,t){let{table:r}=e,{tableHead:i=[]}=e,a=[];function o(c){t(2,a=c)}function l(c,f,p,m){p[m]=c,t(2,a)}let s=c=>r.removeColumn(c.index),u=()=>r.addColumn();return n.$$set=c=>{"table"in c&&t(0,r=c.table),"tableHead"in c&&t(1,i=c.tableHead)},[r,i,a,o,l,s,u]}var PS=class extends Re{constructor(e){super(),Ue(this,e,NQ,AQ,Le,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},z4=PS;var Nd=class extends sn{constructor(e,t,r,i,a,o){super(e,t,r),this.bindTarget=i,this.tableHead=a,this.columns=o,this.inputSignal=new Rr(void 0),this.outputSignal=new Rr(void 0),this.value=void 0}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.getUuid(),this.inputSignal,this.bindTarget,()=>this.unmount())}unregisterSelfFromMetadataManager(){var e;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(e=this.metadataSubscription)==null||e.unsubscribe()}updateMetadataManager(e){var t;(t=this.metadataSubscription)==null||t.update(e)}updateDisplayValue(e){var r;e=e!=null?e:[];let t=[];for(let i=0;i<e.length;i++)if(typeof e[i]=="object"){let a=new rl({storageType:this.bindTarget.storageType,storageProp:this.bindTarget.storageProp.concat(Ad([i.toString()])),storagePath:this.bindTarget.storagePath,listenToChildren:!1}),o=this.columns.map(l=>typeof l=="string"?this.plugin.api.createInlineFieldFromString(l,this.getFilePath(),a,"inline"):"inputFieldType"in l?this.plugin.api.createInputFieldMountable(this.getFilePath(),{declaration:l,scope:a,renderChildType:"inline"}):this.plugin.api.createViewFieldMountable(this.getFilePath(),{declaration:l,scope:a,renderChildType:"inline"}));t.push({cells:o,index:i,value:e[i],isValid:!0})}else t.push({cells:[],index:i,value:e[i],isValid:!1});(r=this.tableComponent)==null||r.updateTable(t)}createCell(e,t){return e.mount(t),()=>e.unmount()}removeColumn(e){var t;this.value=(t=this.value)!=null?t:[],this.value.splice(e,1),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}addColumn(){var e;this.value=(e=this.value)!=null?e:[],this.value.push({}),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}onMount(e){super.onMount(e),this.tableComponent=new z4({target:e,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.value=t,this.updateDisplayValue(t)}}),this.registerSelfToMetadataManager()}onUnmount(e){var t;super.onUnmount(e),this.unregisterSelfFromMetadataManager(),(t=this.tableComponent)==null||t.$destroy(),Fn(e,"table")}};var Dd=class{constructor(e,t){var r,i,a,o,l,s,u,c,f,p;this.plugin=e,this.inputFieldParser=(r=t==null?void 0:t.inputFieldParser)!=null?r:new rd(e),this.viewFieldParser=(i=t==null?void 0:t.viewFieldParser)!=null?i:new ld(e),this.jsViewFieldParser=(a=t==null?void 0:t.jsViewFieldParser)!=null?a:new Sd(e),this.buttonParser=(o=t==null?void 0:t.buttonParser)!=null?o:new _d(e),this.bindTargetParser=(l=t==null?void 0:t.bindTargetParser)!=null?l:new Om(e),this.inputFieldFactory=(s=t==null?void 0:t.inputFieldFactory)!=null?s:new Qf(e),this.viewFieldFactory=(u=t==null?void 0:t.viewFieldFactory)!=null?u:new Bm(e),this.buttonActionRunner=(c=t==null?void 0:t.buttonActionRunner)!=null?c:new ff(e),this.buttonManager=(f=t==null?void 0:t.buttonManager)!=null?f:new Af(e),this.syntaxHighlighting=(p=t==null?void 0:t.syntaxHighlighting)!=null?p:new lf(e)}createField(e,t,r,i=!0){if(Kr(le.object({type:wc,filePath:Ci,options:le.any(),honorExcludedSetting:le.boolean()}),{type:e,filePath:t,options:r,honorExcludedSetting:i}),this.plugin.internal.isFilePathExcluded(t)&&i)return this.createExcludedMountable(t);if(e==="INPUT")return this.createInputFieldMountable(t,r);if(e==="VIEW")return this.createViewFieldMountable(t,r);if(e==="JS_VIEW")return this.createJsViewFieldMountable(t,r);if(e==="TABLE")return this.createTableMountable(t,r);if(e==="BUTTON_GROUP")return this.createButtonGroupMountable(t,r);if(e==="BUTTON")return this.createButtonMountable(t,r);if(e==="EMBED")return this.createEmbedMountable(t,r);if(e==="EXCLUDED")return this.createExcludedMountable(t);throw new Error(`Unknown field type: ${e}`)}createInlineFieldFromString(e,t,r,i="inline",a,o=!0){Kr(le.object({fieldString:le.string(),filePath:Ci,scope:il.optional(),renderChildType:nl,honorExcludedSetting:le.boolean()}),{fieldString:e,filePath:t,scope:r,renderChildType:i,honorExcludedSetting:o});let l=this.isInlineFieldDeclarationAndGetType(e);if(l===void 0)throw new tr({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${l}"`});return this.createInlineFieldOfTypeFromString(l,e,t,r,i,a,o)}createInlineFieldOfTypeFromString(e,t,r,i,a="inline",o,l=!0){if(Kr(le.object({type:wc,declaration:le.string(),filePath:Ci,scope:il.optional(),renderChildType:nl,honorExcludedSetting:le.boolean()}),{type:e,declaration:t,filePath:r,scope:i,renderChildType:a,honorExcludedSetting:l}),this.plugin.internal.isFilePathExcluded(r)&&l)return this.createExcludedMountable(r);if(e==="INPUT")return this.createInputFieldMountable(r,{renderChildType:a,declaration:t,scope:i});if(e==="VIEW")return this.createViewFieldMountable(r,{renderChildType:a,declaration:t,scope:i});if(e==="BUTTON_GROUP")return this.createButtonGroupMountable(r,{renderChildType:a,declaration:t,position:o});throw new tr({errorLevel:"CRITICAL",effect:"failed to create inline field",cause:`Invalid inline mdrc type "${e}"`})}createInputFieldMountable(e,t){Kr(le.object({filePath:Ci,options:M4}),{filePath:e,options:t});let r=Pr(),i;return typeof t.declaration=="string"?i=this.inputFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.inputFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new Ef(this.plugin,r,e,t.renderChildType,i)}createViewFieldMountable(e,t){Kr(le.object({filePath:Ci,options:C4}),{filePath:e,options:t});let r=Pr(),i;return typeof t.declaration=="string"?i=this.viewFieldParser.fromStringAndValidate(t.declaration,e,t.scope):i=this.viewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e,t.scope),new ep(this.plugin,r,e,t.renderChildType,i)}createJsViewFieldMountable(e,t){Kr(le.object({filePath:Ci,options:T4}),{filePath:e,options:t});let r=Pr(),i;return typeof t.declaration=="string"?i=this.jsViewFieldParser.fromStringAndValidate(t.declaration,e):i=this.jsViewFieldParser.fromSimpleDeclarationAndValidate(t.declaration,e),new Kf(this.plugin,r,e,i)}createTableMountable(e,t){Kr(le.object({filePath:Ci,options:F4}),{filePath:e,options:t});let r=Pr();return new Nd(this.plugin,r,e,t.bindTarget,t.tableHead,t.columns)}createButtonGroupMountable(e,t){Kr(le.object({filePath:Ci,options:I4}),{filePath:e,options:t});let r=Pr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromGroupString(t.declaration):i=this.buttonParser.validateGroup(t.declaration),new Df(this.plugin,r,e,i,t.renderChildType,t.position)}createButtonMountable(e,t){Kr(le.object({filePath:Ci,options:P4}),{filePath:e,options:t});let r=Pr(),i;return typeof t.declaration=="string"?i=this.buttonParser.fromString(t.declaration):i=this.buttonParser.validate(t.declaration),new _f(this.plugin,r,e,i,t.position,t.isPreview)}createEmbedMountable(e,t){Kr(le.object({filePath:Ci,options:B4}),{filePath:e,options:t});let r=Pr();return new cd(this.plugin,r,e,t.depth,t.content)}createExcludedMountable(e){Kr(le.object({filePath:Ci}),{filePath:e});let t=Pr();return new fd(this.plugin,t,e)}getInlineFieldDeclarationPrefix(e){if(Kr(le.object({fieldType:wc}),{fieldType:e}),e==="INPUT")return"INPUT";if(e==="VIEW")return"VIEW";if(e==="BUTTON_GROUP")return"BUTTON";throw new tr({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}isInlineFieldDeclaration(e,t){Kr(le.object({fieldType:wc,str:le.string()}),{fieldType:e,str:t});let r=this.getInlineFieldDeclarationPrefix(e)+"[";return t.startsWith(r)&&t.endsWith("]")}isInlineFieldDeclarationAndGetType(e){if(Kr(le.object({str:le.string()}),{str:e}),!!e.endsWith("]"))for(let t of Object.values(au)){if(!mN(t))continue;let r=this.getInlineFieldDeclarationPrefix(t)+"[";if(e.startsWith(r))return t}}createSignal(e){return new Rr(e)}createBindTarget(e,t,r,i=!1){return Kr(le.object({storageType:le.string(),storagePath:le.string(),property:le.string().array(),listenToChildren:le.boolean()}),{storageType:e,storagePath:t,property:r,listenToChildren:i}),{storageType:e,storagePath:t,storageProp:Ad(r),listenToChildren:i}}parseBindTarget(e,t,r){return Kr(le.object({declarationString:le.string(),filePath:Ci,scope:il.optional()}),{declarationString:e,filePath:t,scope:r}),this.bindTargetParser.fromStringAndValidate(e,t,r)}setMetadata(e,t){Kr(le.object({bindTarget:da}),{bindTarget:e}),this.plugin.metadataManager.write(t,e)}getMetadata(e){return Kr(le.object({bindTarget:da}),{bindTarget:e}),this.plugin.metadataManager.read(e)}updateMetadata(e,t){Kr(le.object({bindTarget:da,updateFn:le.function().args(le.any()).returns(le.any())}),{bindTarget:e,updateFn:t});let r=this.plugin.metadataManager.read(e),i=t(r);this.plugin.metadataManager.write(i,e)}subscribeToMetadata(e,t,r){Kr(le.object({bindTarget:da,lifecycleHook:this.plugin.internal.getLifecycleHookValidator(),callback:le.function().args(le.any()).returns(le.void())}),{bindTarget:e,lifecycleHook:t,callback:r});let i=Pr(),a=new Rr(void 0);a.registerListener({callback:r});let o=this.plugin.metadataManager.subscribe(i,a,e,()=>{a.unregisterAllListeners()});t.register(()=>{o.unsubscribe()})}createNotePosition(e,t){return Kr(le.object({lineStart:le.number(),lineEnd:le.number()}),{lineStart:e,lineEnd:t}),new co({lineStart:e,lineEnd:t})}};var $4=dl("obsidian/publish"),Ed=class extends $4.MarkdownRenderChild{constructor(e,t,r){super(r),this.plugin=e,this.mountable=t,this.mountable.registerUnmountCb(()=>{this.unload()})}onload(){this.mountable.mount(this.containerEl),super.onload()}onunload(){this.mountable.unmount(),super.onunload()}};var Md=class extends Dd{constructor(e){super(e)}wrapInMDRC(e,t,r){let i=new Ed(this.plugin,e,t);return r.addChild(i),i}};var Ca=class{constructor(e,t){this.plugin=e,this.selectCallback=t}onSelected(e){this.selectCallback(e)}};var Cd=class extends Ca{getItemText(e){return e.name}getItems(){return this.plugin.internal.getAllCommands()}};var Td=class extends Ca{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFiles()}};var Fd=class extends Ca{getItemText(e){return e}getItems(){return this.plugin.internal.getAllFolders()}};function DQ(n){ki(n,"svelte-17mpvkc",".vertical.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1)}.vertical-control.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1);width:100%}")}function EQ(n){var d,v;let e,t,r,i=((d=n[0])!=null?d:"")+"",a,o,l,s=((v=n[1])!=null?v:"")+"",u,c,f,p,m=n[5].default,h=Ki(m,n,n[4],null);return{c(){e=te("div"),t=te("div"),r=te("div"),a=et(i),o=be(),l=te("div"),u=et(s),c=be(),f=te("div"),h&&h.c(),q(r,"class","setting-item-name"),q(l,"class","setting-item-description"),q(t,"class","setting-item-info"),q(f,"class","setting-item-control svelte-17mpvkc"),Lt(f,"vertical-control",n[3]),q(e,"class","setting-item svelte-17mpvkc"),Lt(e,"setting-item-heading",n[2]),Lt(e,"vertical",n[3])},m(b,S){J(b,e,S),ae(e,t),ae(t,r),ae(r,a),ae(t,o),ae(t,l),ae(l,u),ae(e,c),ae(e,f),h&&h.m(f,null),p=!0},p(b,[S]){var y,w;(!p||S&1)&&i!==(i=((y=b[0])!=null?y:"")+"")&&ht(a,i),(!p||S&2)&&s!==(s=((w=b[1])!=null?w:"")+"")&&ht(u,s),h&&h.p&&(!p||S&16)&&ta(h,m,b,b[4],p?ea(m,b[4],S,null):ra(b[4]),null),(!p||S&8)&&Lt(f,"vertical-control",b[3]),(!p||S&4)&&Lt(e,"setting-item-heading",b[2]),(!p||S&8)&&Lt(e,"vertical",b[3])},i(b){p||(re(h,b),p=!0)},o(b){oe(h,b),p=!1},d(b){b&&Z(e),h&&h.d(b)}}}function MQ(n,e,t){let{$$slots:r={},$$scope:i}=e,{name:a=void 0}=e,{description:o=void 0}=e,{heading:l=!1}=e,{vertical:s=!1}=e;return n.$$set=u=>{"name"in u&&t(0,a=u.name),"description"in u&&t(1,o=u.description),"heading"in u&&t(2,l=u.heading),"vertical"in u&&t(3,s=u.vertical),"$$scope"in u&&t(4,i=u.$$scope)},[a,o,l,s,i,r]}var BS=class extends Re{constructor(e){super(),Ue(this,e,MQ,EQ,Le,{name:0,description:1,heading:2,vertical:3},DQ)}},zt=BS;function CQ(n){let e,t,r=n[1].default,i=Ki(r,n,n[0],null);return{c(){e=te("div"),i&&i.c(),q(e,"class","modal-button-container")},m(a,o){J(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&ta(i,r,a,a[0],t?ea(r,a[0],o,null):ra(a[0]),null)},i(a){t||(re(i,a),t=!0)},o(a){oe(i,a),t=!1},d(a){a&&Z(e),i&&i.d(a)}}}function TQ(n,e,t){let{$$slots:r={},$$scope:i}=e;return n.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,r]}var OS=class extends Re{constructor(e){super(),Ue(this,e,TQ,CQ,Le,{})}},Id=OS;function FQ(n){let e,t,r,i,a,o;return{c(){var l,s,u;e=te("div"),t=te("input"),q(t,"type","checkbox"),q(t,"tabindex","-1"),t.checked=r=(l=n[0])!=null?l:!1,q(e,"class","checkbox-container"),q(e,"role","switch"),q(e,"tabindex","0"),q(e,"aria-checked",i=(s=n[0])!=null?s:!1),Lt(e,"is-enabled",(u=n[0])!=null?u:!1)},m(l,s){J(l,e,s),ae(e,t),a||(o=[Se(e,"click",n[1]),Se(e,"keydown",n[2])],a=!0)},p(l,[s]){var u,c,f;s&1&&r!==(r=(u=l[0])!=null?u:!1)&&(t.checked=r),s&1&&i!==(i=(c=l[0])!=null?c:!1)&&q(e,"aria-checked",i),s&1&&Lt(e,"is-enabled",(f=l[0])!=null?f:!1)},i:Xe,o:Xe,d(l){l&&Z(e),a=!1,Nt(o)}}}function IQ(n,e,t){let{checked:r}=e,i=()=>t(0,r=!r),a=o=>{o.key===" "&&t(0,r=!r)};return n.$$set=o=>{"checked"in o&&t(0,r=o.checked)},[r,i,a]}var kS=class extends Re{constructor(e){super(),Ue(this,e,IQ,FQ,Le,{checked:0})}},Ta=kS;function PQ(n){let e;return{c(){e=et("Change")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function BQ(n){let e,t;return e=new Sr({props:{variant:"primary",$$slots:{default:[PQ]},$$scope:{ctx:n}}}),e.$on("click",n[4]),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&32&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function OQ(n){let e,t;return e=new zt({props:{name:"Command: "+(n[0].command||"none"),description:"The command to execute when this action runs.",$$slots:{default:[BQ]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,[i]){let a={};i&1&&(a.name="Command: "+(r[0].command||"none")),i&33&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function kQ(n,e,t){let{action:r}=e,{plugin:i}=e,{updateActions:a}=e;function o(s){s.type==="command"&&i.internal.openCommandSelectModal(u=>{s.command=u.id,a()})}let l=()=>o(r);return n.$$set=s=>{"action"in s&&t(0,r=s.action),"plugin"in s&&t(2,i=s.plugin),"updateActions"in s&&t(3,a=s.updateActions)},[r,o,i,a,l]}var RS=class extends Re{constructor(e){super(),Ue(this,e,kQ,OQ,Le,{action:0,plugin:2,updateActions:3})}},H4=RS;function RQ(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","someJsFile.js")},m(i,a){J(i,e,a),Ge(e,n[0].file),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].file&&Ge(e,i[0].file)},d(i){i&&Z(e),t=!1,r()}}}function LQ(n){let e,t;return e=new zt({props:{name:"JS File",description:"The JavaScript file to run.",$$slots:{default:[RQ]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,[i]){let a={};i&9&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function UQ(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.file=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var LS=class extends Re{constructor(e){super(),Ue(this,e,UQ,LQ,Le,{action:0,plugin:1})}},G4=LS;function VQ(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","[[Some Note]] or https://www.example.com")},m(i,a){J(i,e,a),Ge(e,n[0].link),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].link&&Ge(e,i[0].link)},d(i){i&&Z(e),t=!1,r()}}}function qQ(n){let e,t,r;function i(o){n[3](o)}let a={};return n[0].newTab!==void 0&&(a.checked=n[0].newTab),e=new Ta({props:a}),Br.push(()=>ii(e,"checked",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){let s={};!t&&l&1&&(t=!0,s.checked=o[0].newTab,ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function zQ(n){let e,t,r,i;return e=new zt({props:{name:"Link",description:"The link to open.",$$slots:{default:[VQ]},$$scope:{ctx:n}}}),r=new zt({props:{name:"New Tab",description:"Whether to open the link in a new tab.",$$slots:{default:[qQ]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment)},m(a,o){Ae(e,a,o),J(a,t,o),Ae(r,a,o),i=!0},p(a,[o]){let l={};o&17&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let s={};o&17&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(re(e.$$.fragment,a),re(r.$$.fragment,a),i=!0)},o(a){oe(e.$$.fragment,a),oe(r.$$.fragment,a),i=!1},d(a){a&&Z(t),Ne(e,a),Ne(r,a)}}}function $Q(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.link=this.value,t(0,r)}function o(l){n.$$.not_equal(r.newTab,l)&&(r.newTab=l,t(0,r))}return n.$$set=l=>{"action"in l&&t(0,r=l.action),"plugin"in l&&t(1,i=l.plugin)},[r,i,a,o]}var US=class extends Re{constructor(e){super(),Ue(this,e,$Q,zQ,Le,{action:0,plugin:1})}},W4=US;function HQ(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","some text")},m(i,a){J(i,e,a),Ge(e,n[0].str),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].str&&Ge(e,i[0].str)},d(i){i&&Z(e),t=!1,r()}}}function GQ(n){let e,t;return e=new zt({props:{name:"Text",description:"The text to input at the cursor.",$$slots:{default:[HQ]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,[i]){let a={};i&9&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function WQ(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.str=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var VS=class extends Re{constructor(e){super(),Ue(this,e,WQ,GQ,Le,{action:0,plugin:1})}},Y4=VS;function YQ(n){let e,t,r;return{c(){e=te("input"),q(e,"type","number"),q(e,"placeholder","100 ms")},m(i,a){J(i,e,a),Ge(e,n[0].ms),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&Bn(e.value)!==i[0].ms&&Ge(e,i[0].ms)},d(i){i&&Z(e),t=!1,r()}}}function jQ(n){let e,t;return e=new zt({props:{name:"Sleep Time",description:"The time to sleep in milliseconds.",$$slots:{default:[YQ]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,[i]){let a={};i&9&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function ZQ(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.ms=Bn(this.value),t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var qS=class extends Re{constructor(e){super(),Ue(this,e,ZQ,jQ,Le,{action:0,plugin:1})}},j4=qS;function JQ(n){let e;return{c(){e=et("Change")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function XQ(n){let e,t;return e=new Sr({props:{variant:"primary",$$slots:{default:[JQ]},$$scope:{ctx:n}}}),e.$on("click",n[5]),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&512&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function QQ(n){let e;return{c(){e=et("Change")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function KQ(n){let e,t;return e=new Sr({props:{variant:"primary",$$slots:{default:[QQ]},$$scope:{ctx:n}}}),e.$on("click",n[6]),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&512&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function eK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","some name")},m(i,a){J(i,e,a),Ge(e,n[0].fileName),t||(r=Se(e,"input",n[7]),t=!0)},p(i,a){a&1&&e.value!==i[0].fileName&&Ge(e,i[0].fileName)},d(i){i&&Z(e),t=!1,r()}}}function tK(n){let e,t,r;function i(o){n[8](o)}let a={};return n[0].openNote!==void 0&&(a.checked=n[0].openNote),e=new Ta({props:a}),Br.push(()=>ii(e,"checked",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){let s={};!t&&l&1&&(t=!0,s.checked=o[0].openNote,ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function rK(n){let e,t,r,i,a,o,l,s;return e=new zt({props:{name:"Template File: "+(n[0].templateFile||"none"),description:"The template file to create a new note of.",$$slots:{default:[XQ]},$$scope:{ctx:n}}}),r=new zt({props:{name:"Folder: "+(n[0].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[KQ]},$$scope:{ctx:n}}}),a=new zt({props:{name:"File Name: "+(n[0].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[eK]},$$scope:{ctx:n}}}),l=new zt({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[tK]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),Me(a.$$.fragment),o=be(),Me(l.$$.fragment)},m(u,c){Ae(e,u,c),J(u,t,c),Ae(r,u,c),J(u,i,c),Ae(a,u,c),J(u,o,c),Ae(l,u,c),s=!0},p(u,[c]){let f={};c&1&&(f.name="Template File: "+(u[0].templateFile||"none")),c&513&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);let p={};c&1&&(p.name="Folder: "+(u[0].folderPath||"none")),c&513&&(p.$$scope={dirty:c,ctx:u}),r.$set(p);let m={};c&1&&(m.name="File Name: "+(u[0].fileName||"default")),c&513&&(m.$$scope={dirty:c,ctx:u}),a.$set(m);let h={};c&513&&(h.$$scope={dirty:c,ctx:u}),l.$set(h)},i(u){s||(re(e.$$.fragment,u),re(r.$$.fragment,u),re(a.$$.fragment,u),re(l.$$.fragment,u),s=!0)},o(u){oe(e.$$.fragment,u),oe(r.$$.fragment,u),oe(a.$$.fragment,u),oe(l.$$.fragment,u),s=!1},d(u){u&&(Z(t),Z(i),Z(o)),Ne(e,u),Ne(r,u),Ne(a,u),Ne(l,u)}}}function nK(n,e,t){let{action:r}=e,{plugin:i}=e,{updateActions:a}=e;function o(p){p.type==="templaterCreateNote"&&i.internal.openFileSelectModal(m=>{p.templateFile=m,a()})}function l(p){p.type==="templaterCreateNote"&&i.internal.openFolderSelectModal(m=>{p.folderPath=m,a()})}let s=()=>o(r),u=()=>l(r);function c(){r.fileName=this.value,t(0,r)}function f(p){n.$$.not_equal(r.openNote,p)&&(r.openNote=p,t(0,r))}return n.$$set=p=>{"action"in p&&t(0,r=p.action),"plugin"in p&&t(3,i=p.plugin),"updateActions"in p&&t(4,a=p.updateActions)},[r,o,l,i,a,s,u,c,f]}var zS=class extends Re{constructor(e){super(),Ue(this,e,nK,rK,Le,{action:0,plugin:3,updateActions:4})}},Z4=zS;function iK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","some value")},m(i,a){J(i,e,a),Ge(e,n[0].bindTarget),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].bindTarget&&Ge(e,i[0].bindTarget)},d(i){i&&Z(e),t=!1,r()}}}function aK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","some value")},m(i,a){J(i,e,a),Ge(e,n[0].value),t||(r=Se(e,"input",n[3]),t=!0)},p(i,a){a&1&&e.value!==i[0].value&&Ge(e,i[0].value)},d(i){i&&Z(e),t=!1,r()}}}function oK(n){let e,t,r;function i(o){n[4](o)}let a={};return n[0].evaluate!==void 0&&(a.checked=n[0].evaluate),e=new Ta({props:a}),Br.push(()=>ii(e,"checked",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){let s={};!t&&l&1&&(t=!0,s.checked=o[0].evaluate,ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function sK(n){let e,t,r,i,a,o;return e=new zt({props:{name:"Metadata Property",description:"The metadata property in form of a bind target.",$$slots:{default:[iK]},$$scope:{ctx:n}}}),r=new zt({props:{name:"Value",description:"The new value.",$$slots:{default:[aK]},$$scope:{ctx:n}}}),a=new zt({props:{name:"Evaluate",description:"Whether to evaluate the value as a JS expression.",$$slots:{default:[oK]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),Me(a.$$.fragment)},m(l,s){Ae(e,l,s),J(l,t,s),Ae(r,l,s),J(l,i,s),Ae(a,l,s),o=!0},p(l,[s]){let u={};s&33&&(u.$$scope={dirty:s,ctx:l}),e.$set(u);let c={};s&33&&(c.$$scope={dirty:s,ctx:l}),r.$set(c);let f={};s&33&&(f.$$scope={dirty:s,ctx:l}),a.$set(f)},i(l){o||(re(e.$$.fragment,l),re(r.$$.fragment,l),re(a.$$.fragment,l),o=!0)},o(l){oe(e.$$.fragment,l),oe(r.$$.fragment,l),oe(a.$$.fragment,l),o=!1},d(l){l&&(Z(t),Z(i)),Ne(e,l),Ne(r,l),Ne(a,l)}}}function uK(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.bindTarget=this.value,t(0,r)}function o(){r.value=this.value,t(0,r)}function l(s){n.$$.not_equal(r.evaluate,s)&&(r.evaluate=s,t(0,r))}return n.$$set=s=>{"action"in s&&t(0,r=s.action),"plugin"in s&&t(1,i=s.plugin)},[r,i,a,o,l]}var $S=class extends Re{constructor(e){super(),Ue(this,e,uK,sK,Le,{action:0,plugin:1})}},J4=$S;function lK(n){let e;return{c(){e=et("Change")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function cK(n){let e,t;return e=new Sr({props:{variant:"primary",$$slots:{default:[lK]},$$scope:{ctx:n}}}),e.$on("click",n[4]),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&128&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function fK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text"),q(e,"placeholder","some name")},m(i,a){J(i,e,a),Ge(e,n[0].fileName),t||(r=Se(e,"input",n[5]),t=!0)},p(i,a){a&1&&e.value!==i[0].fileName&&Ge(e,i[0].fileName)},d(i){i&&Z(e),t=!1,r()}}}function pK(n){let e,t,r;function i(o){n[6](o)}let a={};return n[0].openNote!==void 0&&(a.checked=n[0].openNote),e=new Ta({props:a}),Br.push(()=>ii(e,"checked",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){let s={};!t&&l&1&&(t=!0,s.checked=o[0].openNote,ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function mK(n){let e,t,r,i,a,o;return e=new zt({props:{name:"Folder: "+(n[0].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[cK]},$$scope:{ctx:n}}}),r=new zt({props:{name:"File Name: "+(n[0].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[fK]},$$scope:{ctx:n}}}),a=new zt({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[pK]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),Me(a.$$.fragment)},m(l,s){Ae(e,l,s),J(l,t,s),Ae(r,l,s),J(l,i,s),Ae(a,l,s),o=!0},p(l,[s]){let u={};s&1&&(u.name="Folder: "+(l[0].folderPath||"none")),s&129&&(u.$$scope={dirty:s,ctx:l}),e.$set(u);let c={};s&1&&(c.name="File Name: "+(l[0].fileName||"default")),s&129&&(c.$$scope={dirty:s,ctx:l}),r.$set(c);let f={};s&129&&(f.$$scope={dirty:s,ctx:l}),a.$set(f)},i(l){o||(re(e.$$.fragment,l),re(r.$$.fragment,l),re(a.$$.fragment,l),o=!0)},o(l){oe(e.$$.fragment,l),oe(r.$$.fragment,l),oe(a.$$.fragment,l),o=!1},d(l){l&&(Z(t),Z(i)),Ne(e,l),Ne(r,l),Ne(a,l)}}}function dK(n,e,t){let{action:r}=e,{plugin:i}=e,{updateActions:a}=e;function o(c){c.type==="createNote"&&i.internal.openFolderSelectModal(f=>{c.folderPath=f,a()})}let l=()=>o(r);function s(){r.fileName=this.value,t(0,r)}function u(c){n.$$.not_equal(r.openNote,c)&&(r.openNote=c,t(0,r))}return n.$$set=c=>{"action"in c&&t(0,r=c.action),"plugin"in c&&t(2,i=c.plugin),"updateActions"in c&&t(3,a=c.updateActions)},[r,o,i,a,l,s,u]}var HS=class extends Re{constructor(e){super(),Ue(this,e,dK,mK,Le,{action:0,plugin:2,updateActions:3})}},X4=HS;function hK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","number"),q(e,"placeholder","0")},m(i,a){J(i,e,a),Ge(e,n[0].fromLine),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&Bn(e.value)!==i[0].fromLine&&Ge(e,i[0].fromLine)},d(i){i&&Z(e),t=!1,r()}}}function gK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","number"),q(e,"placeholder","0")},m(i,a){J(i,e,a),Ge(e,n[0].toLine),t||(r=Se(e,"input",n[3]),t=!0)},p(i,a){a&1&&Bn(e.value)!==i[0].toLine&&Ge(e,i[0].toLine)},d(i){i&&Z(e),t=!1,r()}}}function vK(n){let e,t,r,i,a,o,l,s,u,c,f;return e=new zt({props:{name:"Line From",description:"The line that marks the start of the area to replace.",$$slots:{default:[hK]},$$scope:{ctx:n}}}),r=new zt({props:{name:"Line To",description:"The line that marks the end of the area to replace.",$$slots:{default:[gK]},$$scope:{ctx:n}}}),a=new zt({props:{name:"Replacement Text",description:"The text to replace the note section."}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),Me(a.$$.fragment),o=be(),l=te("div"),s=te("textarea"),q(l,"class","meta-bind-full-width meta-bind-high")},m(p,m){Ae(e,p,m),J(p,t,m),Ae(r,p,m),J(p,i,m),Ae(a,p,m),J(p,o,m),J(p,l,m),ae(l,s),Ge(s,n[0].replacement),u=!0,c||(f=Se(s,"input",n[4]),c=!0)},p(p,[m]){let h={};m&33&&(h.$$scope={dirty:m,ctx:p}),e.$set(h);let d={};m&33&&(d.$$scope={dirty:m,ctx:p}),r.$set(d),m&1&&Ge(s,p[0].replacement)},i(p){u||(re(e.$$.fragment,p),re(r.$$.fragment,p),re(a.$$.fragment,p),u=!0)},o(p){oe(e.$$.fragment,p),oe(r.$$.fragment,p),oe(a.$$.fragment,p),u=!1},d(p){p&&(Z(t),Z(i),Z(o),Z(l)),Ne(e,p),Ne(r,p),Ne(a,p),c=!1,f()}}}function yK(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.fromLine=Bn(this.value),t(0,r)}function o(){r.toLine=Bn(this.value),t(0,r)}function l(){r.replacement=this.value,t(0,r)}return n.$$set=s=>{"action"in s&&t(0,r=s.action),"plugin"in s&&t(1,i=s.plugin)},[r,i,a,o,l]}var GS=class extends Re{constructor(e){super(),Ue(this,e,yK,vK,Le,{action:0,plugin:1})}},Q4=GS;function bK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[0].regexp),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&e.value!==i[0].regexp&&Ge(e,i[0].regexp)},d(i){i&&Z(e),t=!1,r()}}}function xK(n){let e,t,r,i,a,o,l,s,u;return e=new zt({props:{name:"Regexp",description:"The regexp to find replacements.",$$slots:{default:[bK]},$$scope:{ctx:n}}}),r=new zt({props:{name:"Replacement Text",description:"The text to replace the button with."}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),a=te("div"),o=te("textarea"),q(a,"class","meta-bind-full-width meta-bind-high")},m(c,f){Ae(e,c,f),J(c,t,f),Ae(r,c,f),J(c,i,f),J(c,a,f),ae(a,o),Ge(o,n[0].replacement),l=!0,s||(u=Se(o,"input",n[3]),s=!0)},p(c,[f]){let p={};f&17&&(p.$$scope={dirty:f,ctx:c}),e.$set(p),f&1&&Ge(o,c[0].replacement)},i(c){l||(re(e.$$.fragment,c),re(r.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),oe(r.$$.fragment,c),l=!1},d(c){c&&(Z(t),Z(i),Z(a)),Ne(e,c),Ne(r,c),s=!1,u()}}}function wK(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.regexp=this.value,t(0,r)}function o(){r.replacement=this.value,t(0,r)}return n.$$set=l=>{"action"in l&&t(0,r=l.action),"plugin"in l&&t(1,i=l.plugin)},[r,i,a,o]}var WS=class extends Re{constructor(e){super(),Ue(this,e,wK,xK,Le,{action:0,plugin:1})}},K4=WS;function _K(n){let e,t,r,i,a,o,l;return e=new zt({props:{name:"Replacement Text",description:"The text to replace the match with."}}),{c(){Me(e.$$.fragment),t=be(),r=te("div"),i=te("textarea"),q(r,"class","meta-bind-full-width meta-bind-high")},m(s,u){Ae(e,s,u),J(s,t,u),J(s,r,u),ae(r,i),Ge(i,n[0].replacement),a=!0,o||(l=Se(i,"input",n[2]),o=!0)},p(s,[u]){u&1&&Ge(i,s[0].replacement)},i(s){a||(re(e.$$.fragment,s),a=!0)},o(s){oe(e.$$.fragment,s),a=!1},d(s){s&&(Z(t),Z(r)),Ne(e,s),o=!1,l()}}}function SK(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.replacement=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var YS=class extends Re{constructor(e){super(),Ue(this,e,SK,_K,Le,{action:0,plugin:1})}},e5=YS;function AK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","number"),q(e,"placeholder","0")},m(i,a){J(i,e,a),Ge(e,n[0].line),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&1&&Bn(e.value)!==i[0].line&&Ge(e,i[0].line)},d(i){i&&Z(e),t=!1,r()}}}function NK(n){let e,t,r,i,a,o,l,s,u;return e=new zt({props:{name:"Line",description:"The line number to insert at.",$$slots:{default:[AK]},$$scope:{ctx:n}}}),r=new zt({props:{name:"Text to Insert",description:"The text to insert into the note."}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),a=te("div"),o=te("textarea"),q(a,"class","meta-bind-full-width meta-bind-high")},m(c,f){Ae(e,c,f),J(c,t,f),Ae(r,c,f),J(c,i,f),J(c,a,f),ae(a,o),Ge(o,n[0].value),l=!0,s||(u=Se(o,"input",n[3]),s=!0)},p(c,[f]){let p={};f&17&&(p.$$scope={dirty:f,ctx:c}),e.$set(p),f&1&&Ge(o,c[0].value)},i(c){l||(re(e.$$.fragment,c),re(r.$$.fragment,c),l=!0)},o(c){oe(e.$$.fragment,c),oe(r.$$.fragment,c),l=!1},d(c){c&&(Z(t),Z(i),Z(a)),Ne(e,c),Ne(r,c),s=!1,u()}}}function DK(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.line=Bn(this.value),t(0,r)}function o(){r.value=this.value,t(0,r)}return n.$$set=l=>{"action"in l&&t(0,r=l.action),"plugin"in l&&t(1,i=l.plugin)},[r,i,a,o]}var jS=class extends Re{constructor(e){super(),Ue(this,e,DK,NK,Le,{action:0,plugin:1})}},t5=jS;function EK(n){let e,t,r,i,a,o,l;return e=new zt({props:{name:"JS Code",description:"The JavaScript code to run."}}),{c(){Me(e.$$.fragment),t=be(),r=te("div"),i=te("textarea"),q(r,"class","meta-bind-full-width meta-bind-high")},m(s,u){Ae(e,s,u),J(s,t,u),J(s,r,u),ae(r,i),Ge(i,n[0].code),a=!0,o||(l=Se(i,"input",n[2]),o=!0)},p(s,[u]){u&1&&Ge(i,s[0].code)},i(s){a||(re(e.$$.fragment,s),a=!0)},o(s){oe(e.$$.fragment,s),a=!1},d(s){s&&(Z(t),Z(r)),Ne(e,s),o=!1,l()}}}function MK(n,e,t){let{action:r}=e,{plugin:i}=e;function a(){r.code=this.value,t(0,r)}return n.$$set=o=>{"action"in o&&t(0,r=o.action),"plugin"in o&&t(1,i=o.plugin)},[r,i,a]}var ZS=class extends Re{constructor(e){super(),Ue(this,e,MK,EK,Le,{action:0,plugin:1})}},r5=ZS;function CK(n){let e,t,r,i=n[3].default,a=Ki(i,n,n[2],null);return{c(){e=te("div"),a&&a.c(),q(e,"class",t=(n[0]?"mb-flex-row-reverse ":"mb-flex-row ")+(n[1]?"mb-flex-row-stretch ":""))},m(o,l){J(o,e,l),a&&a.m(e,null),r=!0},p(o,[l]){a&&a.p&&(!r||l&4)&&ta(a,i,o,o[2],r?ea(i,o[2],l,null):ra(o[2]),null),(!r||l&3&&t!==(t=(o[0]?"mb-flex-row-reverse ":"mb-flex-row ")+(o[1]?"mb-flex-row-stretch ":"")))&&q(e,"class",t)},i(o){r||(re(a,o),r=!0)},o(o){oe(a,o),r=!1},d(o){o&&Z(e),a&&a.d(o)}}}function TK(n,e,t){let{$$slots:r={},$$scope:i}=e,{reverse:a=!1}=e,{stretchChildren:o=!0}=e;return n.$$set=l=>{"reverse"in l&&t(0,a=l.reverse),"stretchChildren"in l&&t(1,o=l.stretchChildren),"$$scope"in l&&t(2,i=l.$$scope)},[a,o,i,r]}var JS=class extends Re{constructor(e){super(),Ue(this,e,TK,CK,Le,{reverse:0,stretchChildren:1})}},n5=JS;function i5(n,e,t){let r=n.slice();return r[28]=e[t],r[30]=t,r}function a5(n,e,t){let r=n.slice();return r[31]=e[t],r}function o5(n,e,t){let r=n.slice();return r[31]=e[t],r}function FK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[0].label),t||(r=Se(e,"input",n[9]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].label&&Ge(e,i[0].label)},d(i){i&&Z(e),t=!1,r()}}}function IK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[0].icon),t||(r=Se(e,"input",n[10]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].icon&&Ge(e,i[0].icon)},d(i){i&&Z(e),t=!1,r()}}}function s5(n){let e,t=n[31]+"",r,i;return{c(){e=te("option"),r=et(t),e.__value=i=n[31],Ge(e,e.__value)},m(a,o){J(a,e,o),ae(e,r)},p:Xe,d(a){a&&Z(e)}}}function PK(n){let e,t,r,i=gt(Object.values(vn)),a=[];for(let o=0;o<i.length;o+=1)a[o]=s5(o5(n,i,o));return{c(){e=te("select");for(let o=0;o<a.length;o+=1)a[o].c();q(e,"class","dropdown"),n[0].style===void 0&&ya(()=>n[11].call(e))},m(o,l){J(o,e,l);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);go(e,n[0].style,!0),t||(r=Se(e,"change",n[11]),t=!0)},p(o,l){if(l&0){i=gt(Object.values(vn));let s;for(s=0;s<i.length;s+=1){let u=o5(o,i,s);a[s]?a[s].p(u,l):(a[s]=s5(u),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}l[0]&1&&go(e,o[0].style)},d(o){o&&Z(e),lr(a,o),t=!1,r()}}}function BK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[0].class),t||(r=Se(e,"input",n[12]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].class&&Ge(e,i[0].class)},d(i){i&&Z(e),t=!1,r()}}}function OK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[0].tooltip),t||(r=Se(e,"input",n[13]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].tooltip&&Ge(e,i[0].tooltip)},d(i){i&&Z(e),t=!1,r()}}}function kK(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[0].id),t||(r=Se(e,"input",n[14]),t=!0)},p(i,a){a[0]&1&&e.value!==i[0].id&&Ge(e,i[0].id)},d(i){i&&Z(e),t=!1,r()}}}function RK(n){let e,t,r;function i(o){n[15](o)}let a={};return n[0].hidden!==void 0&&(a.checked=n[0].hidden),e=new Ta({props:a}),Br.push(()=>ii(e,"checked",i)),{c(){Me(e.$$.fragment)},m(o,l){Ae(e,o,l),r=!0},p(o,l){let s={};!t&&l[0]&1&&(t=!0,s.checked=o[0].hidden,ni(()=>t=!1)),e.$set(s)},i(o){r||(re(e.$$.fragment,o),r=!0)},o(o){oe(e.$$.fragment,o),r=!1},d(o){Ne(e,o)}}}function u5(n){let e,t=n[31]+"",r,i;return{c(){e=te("option"),r=et(t),e.__value=i=n[31],Ge(e,e.__value)},m(a,o){J(a,e,o),ae(e,r)},p:Xe,d(a){a&&Z(e)}}}function LK(n){let e;return{c(){e=et("Add Action")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function UK(n){let e,t;return e=new fn({props:{iconName:"more-vertical",plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function VK(n){let e,t=n[7](n[28].type)+"",r,i,a,o;function l(...s){return n[18](n[30],...s)}return a=new Sr({props:{variant:"plain",$$slots:{default:[UK]},$$scope:{ctx:n}}}),a.$on("click",l),{c(){e=te("h5"),r=et(t),i=be(),Me(a.$$.fragment)},m(s,u){J(s,e,u),ae(e,r),J(s,i,u),Ae(a,s,u),o=!0},p(s,u){n=s,(!o||u[0]&1)&&t!==(t=n[7](n[28].type)+"")&&ht(r,t);let c={};u[0]&2|u[1]&32&&(c.$$scope={dirty:u,ctx:n}),a.$set(c)},i(s){o||(re(a.$$.fragment,s),o=!0)},o(s){oe(a.$$.fragment,s),o=!1},d(s){s&&(Z(e),Z(i)),Ne(a,s)}}}function l5(n){let e,t;return e=new H4({props:{action:n[28],plugin:n[1],updateActions:n[19]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function c5(n){let e,t;return e=new W4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function f5(n){let e,t;return e=new G4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function p5(n){let e,t;return e=new Y4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function m5(n){let e,t;return e=new j4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function d5(n){let e,t;return e=new Z4({props:{action:n[28],plugin:n[1],updateActions:n[20]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function h5(n){let e,t;return e=new J4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function g5(n){let e,t;return e=new X4({props:{action:n[28],plugin:n[1],updateActions:n[21]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function v5(n){let e,t;return e=new Q4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function y5(n){let e,t;return e=new K4({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function b5(n){let e,t;return e=new e5({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function x5(n){let e,t;return e=new t5({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function w5(n){let e,t;return e=new r5({props:{action:n[28],plugin:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i[0]&1&&(a.action=r[28]),i[0]&2&&(a.plugin=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function _5(n,e){let t,r,i,a,o,l,s,u,c,f,p,m,h,d,v,b,S;r=new n5({props:{$$slots:{default:[VK]},$$scope:{ctx:e}}});let y=e[28].type==="command"&&l5(e),w=e[28].type==="open"&&c5(e),_=e[28].type==="js"&&f5(e),x=e[28].type==="input"&&p5(e),M=e[28].type==="sleep"&&m5(e),D=e[28].type==="templaterCreateNote"&&d5(e),N=e[28].type==="updateMetadata"&&h5(e),E=e[28].type==="createNote"&&g5(e),P=e[28].type==="replaceInNote"&&v5(e),O=e[28].type==="regexpReplaceInNote"&&y5(e),U=e[28].type==="replaceSelf"&&b5(e),z=e[28].type==="insertIntoNote"&&x5(e),L=e[28].type==="inlineJS"&&w5(e);return{key:n,first:null,c(){t=_r(),Me(r.$$.fragment),i=be(),y&&y.c(),a=be(),w&&w.c(),o=be(),_&&_.c(),l=be(),x&&x.c(),s=be(),M&&M.c(),u=be(),D&&D.c(),c=be(),N&&N.c(),f=be(),E&&E.c(),p=be(),P&&P.c(),m=be(),O&&O.c(),h=be(),U&&U.c(),d=be(),z&&z.c(),v=be(),L&&L.c(),b=_r(),this.first=t},m(B,T){J(B,t,T),Ae(r,B,T),J(B,i,T),y&&y.m(B,T),J(B,a,T),w&&w.m(B,T),J(B,o,T),_&&_.m(B,T),J(B,l,T),x&&x.m(B,T),J(B,s,T),M&&M.m(B,T),J(B,u,T),D&&D.m(B,T),J(B,c,T),N&&N.m(B,T),J(B,f,T),E&&E.m(B,T),J(B,p,T),P&&P.m(B,T),J(B,m,T),O&&O.m(B,T),J(B,h,T),U&&U.m(B,T),J(B,d,T),z&&z.m(B,T),J(B,v,T),L&&L.m(B,T),J(B,b,T),S=!0},p(B,T){e=B;let G={};T[0]&3|T[1]&32&&(G.$$scope={dirty:T,ctx:e}),r.$set(G),e[28].type==="command"?y?(y.p(e,T),T[0]&1&&re(y,1)):(y=l5(e),y.c(),re(y,1),y.m(a.parentNode,a)):y&&(Dt(),oe(y,1,1,()=>{y=null}),Et()),e[28].type==="open"?w?(w.p(e,T),T[0]&1&&re(w,1)):(w=c5(e),w.c(),re(w,1),w.m(o.parentNode,o)):w&&(Dt(),oe(w,1,1,()=>{w=null}),Et()),e[28].type==="js"?_?(_.p(e,T),T[0]&1&&re(_,1)):(_=f5(e),_.c(),re(_,1),_.m(l.parentNode,l)):_&&(Dt(),oe(_,1,1,()=>{_=null}),Et()),e[28].type==="input"?x?(x.p(e,T),T[0]&1&&re(x,1)):(x=p5(e),x.c(),re(x,1),x.m(s.parentNode,s)):x&&(Dt(),oe(x,1,1,()=>{x=null}),Et()),e[28].type==="sleep"?M?(M.p(e,T),T[0]&1&&re(M,1)):(M=m5(e),M.c(),re(M,1),M.m(u.parentNode,u)):M&&(Dt(),oe(M,1,1,()=>{M=null}),Et()),e[28].type==="templaterCreateNote"?D?(D.p(e,T),T[0]&1&&re(D,1)):(D=d5(e),D.c(),re(D,1),D.m(c.parentNode,c)):D&&(Dt(),oe(D,1,1,()=>{D=null}),Et()),e[28].type==="updateMetadata"?N?(N.p(e,T),T[0]&1&&re(N,1)):(N=h5(e),N.c(),re(N,1),N.m(f.parentNode,f)):N&&(Dt(),oe(N,1,1,()=>{N=null}),Et()),e[28].type==="createNote"?E?(E.p(e,T),T[0]&1&&re(E,1)):(E=g5(e),E.c(),re(E,1),E.m(p.parentNode,p)):E&&(Dt(),oe(E,1,1,()=>{E=null}),Et()),e[28].type==="replaceInNote"?P?(P.p(e,T),T[0]&1&&re(P,1)):(P=v5(e),P.c(),re(P,1),P.m(m.parentNode,m)):P&&(Dt(),oe(P,1,1,()=>{P=null}),Et()),e[28].type==="regexpReplaceInNote"?O?(O.p(e,T),T[0]&1&&re(O,1)):(O=y5(e),O.c(),re(O,1),O.m(h.parentNode,h)):O&&(Dt(),oe(O,1,1,()=>{O=null}),Et()),e[28].type==="replaceSelf"?U?(U.p(e,T),T[0]&1&&re(U,1)):(U=b5(e),U.c(),re(U,1),U.m(d.parentNode,d)):U&&(Dt(),oe(U,1,1,()=>{U=null}),Et()),e[28].type==="insertIntoNote"?z?(z.p(e,T),T[0]&1&&re(z,1)):(z=x5(e),z.c(),re(z,1),z.m(v.parentNode,v)):z&&(Dt(),oe(z,1,1,()=>{z=null}),Et()),e[28].type==="inlineJS"?L?(L.p(e,T),T[0]&1&&re(L,1)):(L=w5(e),L.c(),re(L,1),L.m(b.parentNode,b)):L&&(Dt(),oe(L,1,1,()=>{L=null}),Et())},i(B){S||(re(r.$$.fragment,B),re(y),re(w),re(_),re(x),re(M),re(D),re(N),re(E),re(P),re(O),re(U),re(z),re(L),S=!0)},o(B){oe(r.$$.fragment,B),oe(y),oe(w),oe(_),oe(x),oe(M),oe(D),oe(N),oe(E),oe(P),oe(O),oe(U),oe(z),oe(L),S=!1},d(B){B&&(Z(t),Z(i),Z(a),Z(o),Z(l),Z(s),Z(u),Z(c),Z(f),Z(p),Z(m),Z(h),Z(d),Z(v),Z(b)),Ne(r,B),y&&y.d(B),w&&w.d(B),_&&_.d(B),x&&x.d(B),M&&M.d(B),D&&D.d(B),N&&N.d(B),E&&E.d(B),P&&P.d(B),O&&O.d(B),U&&U.d(B),z&&z.d(B),L&&L.d(B)}}}function qK(n){let e=n[2].options.submitText+"",t;return{c(){t=et(e)},m(r,i){J(r,t,i)},p(r,i){i[0]&4&&e!==(e=r[2].options.submitText+"")&&ht(t,e)},d(r){r&&Z(t)}}}function zK(n){let e;return{c(){e=et("Cancel")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function $K(n){let e,t,r,i;return e=new Sr({props:{variant:"primary",$$slots:{default:[qK]},$$scope:{ctx:n}}}),e.$on("click",n[23]),r=new Sr({props:{variant:"default",$$slots:{default:[zK]},$$scope:{ctx:n}}}),r.$on("click",n[24]),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment)},m(a,o){Ae(e,a,o),J(a,t,o),Ae(r,a,o),i=!0},p(a,o){let l={};o[0]&4|o[1]&32&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let s={};o[1]&32&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(re(e.$$.fragment,a),re(r.$$.fragment,a),i=!0)},o(a){oe(e.$$.fragment,a),oe(r.$$.fragment,a),i=!1},d(a){a&&Z(t),Ne(e,a),Ne(r,a)}}}function HK(n){var ie;let e,t,r,i,a,o,l,s,u,c,f,p,m,h,d,v,b,S,y,w,_=[],x=new Map,M,D,N,E,P,O,U,z,L;e=new zt({props:{name:"Label",description:"The label shown on the button.",$$slots:{default:[FK]},$$scope:{ctx:n}}}),r=new zt({props:{name:"Icon",description:"The icon shown on the button. If left empty, no icon will show",$$slots:{default:[IK]},$$scope:{ctx:n}}}),a=new zt({props:{name:"Style",description:"The style variant of the button",$$slots:{default:[PK]},$$scope:{ctx:n}}}),l=new zt({props:{name:"CSS Classes",description:"A list of CSS classes to add to the button. Multiple classes should be separated by a space.",$$slots:{default:[BK]},$$scope:{ctx:n}}}),u=new zt({props:{name:"Tooltip",description:"A tooltip to show when hovering the button. If not set, the button label will be shown instead.",$$slots:{default:[OK]},$$scope:{ctx:n}}}),f=new zt({props:{name:"ID",description:"An ID that allows the button to be referenced in inline buttons.",$$slots:{default:[kK]},$$scope:{ctx:n}}}),m=new zt({props:{name:"Hidden",description:"Whether to not render this button. This can be useful when using inline buttons.",$$slots:{default:[RK]},$$scope:{ctx:n}}});let B=gt(Object.values(Va)),T=[];for(let j=0;j<B.length;j+=1)T[j]=u5(a5(n,B,j));y=new Sr({props:{variant:"primary",$$slots:{default:[LK]},$$scope:{ctx:n}}}),y.$on("click",n[17]);let G=gt((ie=n[0].actions)!=null?ie:[]),R=j=>j[30];for(let j=0;j<G.length;j+=1){let H=i5(n,G,j),V=R(H);x.set(V,_[j]=_5(V,H))}return O=new Id({props:{$$slots:{default:[$K]},$$scope:{ctx:n}}}),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment),i=be(),Me(a.$$.fragment),o=be(),Me(l.$$.fragment),s=be(),Me(u.$$.fragment),c=be(),Me(f.$$.fragment),p=be(),Me(m.$$.fragment),h=be(),d=te("h4"),d.textContent="Actions",v=et(`
    
    Add action of type
    `),b=te("select");for(let j=0;j<T.length;j+=1)T[j].c();S=be(),Me(y.$$.fragment),w=be();for(let j=0;j<_.length;j+=1)_[j].c();M=be(),D=te("h4"),D.textContent="Preview",N=be(),E=te("div"),P=be(),Me(O.$$.fragment),q(b,"class","dropdown"),n[4]===void 0&&ya(()=>n[16].call(b))},m(j,H){Ae(e,j,H),J(j,t,H),Ae(r,j,H),J(j,i,H),Ae(a,j,H),J(j,o,H),Ae(l,j,H),J(j,s,H),Ae(u,j,H),J(j,c,H),Ae(f,j,H),J(j,p,H),Ae(m,j,H),J(j,h,H),J(j,d,H),J(j,v,H),J(j,b,H);for(let V=0;V<T.length;V+=1)T[V]&&T[V].m(b,null);go(b,n[4],!0),J(j,S,H),Ae(y,j,H),J(j,w,H);for(let V=0;V<_.length;V+=1)_[V]&&_[V].m(j,H);J(j,M,H),J(j,D,H),J(j,N,H),J(j,E,H),n[22](E),J(j,P,H),Ae(O,j,H),U=!0,z||(L=Se(b,"change",n[16]),z=!0)},p(j,H){var Ce;let V={};H[0]&1|H[1]&32&&(V.$$scope={dirty:H,ctx:j}),e.$set(V);let fe={};H[0]&1|H[1]&32&&(fe.$$scope={dirty:H,ctx:j}),r.$set(fe);let _e={};H[0]&1|H[1]&32&&(_e.$$scope={dirty:H,ctx:j}),a.$set(_e);let pe={};H[0]&1|H[1]&32&&(pe.$$scope={dirty:H,ctx:j}),l.$set(pe);let de={};H[0]&1|H[1]&32&&(de.$$scope={dirty:H,ctx:j}),u.$set(de);let we={};H[0]&1|H[1]&32&&(we.$$scope={dirty:H,ctx:j}),f.$set(we);let he={};if(H[0]&1|H[1]&32&&(he.$$scope={dirty:H,ctx:j}),m.$set(he),H&0){B=gt(Object.values(Va));let ze;for(ze=0;ze<B.length;ze+=1){let tt=a5(j,B,ze);T[ze]?T[ze].p(tt,H):(T[ze]=u5(tt),T[ze].c(),T[ze].m(b,null))}for(;ze<T.length;ze+=1)T[ze].d(1);T.length=B.length}H[0]&16&&go(b,j[4]);let ve={};H[1]&32&&(ve.$$scope={dirty:H,ctx:j}),y.$set(ve),H[0]&451&&(G=gt((Ce=j[0].actions)!=null?Ce:[]),Dt(),_=lu(_,H,R,1,j,G,x,M.parentNode,xf,_5,M,i5),Et());let xe={};H[0]&5|H[1]&32&&(xe.$$scope={dirty:H,ctx:j}),O.$set(xe)},i(j){if(!U){re(e.$$.fragment,j),re(r.$$.fragment,j),re(a.$$.fragment,j),re(l.$$.fragment,j),re(u.$$.fragment,j),re(f.$$.fragment,j),re(m.$$.fragment,j),re(y.$$.fragment,j);for(let H=0;H<G.length;H+=1)re(_[H]);re(O.$$.fragment,j),U=!0}},o(j){oe(e.$$.fragment,j),oe(r.$$.fragment,j),oe(a.$$.fragment,j),oe(l.$$.fragment,j),oe(u.$$.fragment,j),oe(f.$$.fragment,j),oe(m.$$.fragment,j),oe(y.$$.fragment,j);for(let H=0;H<_.length;H+=1)oe(_[H]);oe(O.$$.fragment,j),U=!1},d(j){j&&(Z(t),Z(i),Z(o),Z(s),Z(c),Z(p),Z(h),Z(d),Z(v),Z(b),Z(S),Z(w),Z(M),Z(D),Z(N),Z(E),Z(P)),Ne(e,j),Ne(r,j),Ne(a,j),Ne(l,j),Ne(u,j),Ne(f,j),Ne(m,j),lr(T,j),Ne(y,j);for(let H=0;H<_.length;H+=1)_[H].d(j);n[22](null),Ne(O,j),z=!1,L()}}}function GK(n,e,t){let{plugin:r}=e,{modal:i}=e,{buttonConfig:a}=e,o,l,s;Al(()=>{l==null||l.unmount()});function u(L,B){l==null||l.unmount(),B&&(pt.empty(B),l=new yo(r,L,"","block",void 0,!0),l.mount(B))}function c(){var L;(L=a.actions)===null||L===void 0||L.push(r.api.buttonActionRunner.createDefaultAction(s)),t(0,a)}function f(L){var B;(B=a.actions)===null||B===void 0||B.splice(L,1),t(0,a)}function p(){t(0,a)}function m(L){return L==="command"?"Run a Command":L==="open"?"Open a Link":L==="js"?"Run a JavaScript File":L==="input"?"Insert Text at Cursor":L==="sleep"?"Sleep for Some Time":L==="templaterCreateNote"?"Create a New Note Using Templater":L==="updateMetadata"?"Update Metadata":L==="createNote"?"Create a New Note":L==="replaceInNote"?"Replace Text in Note":L==="regexpReplaceInNote"?"Replace Text in Note using Regexp":L==="replaceSelf"?"Replace Button with Text":L==="insertIntoNote"?"Insert Text into the Note":L==="inlineJS"?"Run JavaScript Code":"CHANGE ME"}function h(L,B){if(a.actions===void 0)return;let T=[];L>0&&T.push({name:"Move up",icon:"arrow-up",onclick:()=>{if(a.actions===void 0)return;let G=a.actions[L-1];t(0,a.actions[L-1]=a.actions[L],a),t(0,a.actions[L]=G,a)}}),L<a.actions.length-1&&T.push({name:"Move down",icon:"arrow-down",onclick:()=>{if(a.actions===void 0)return;let G=a.actions[L+1];t(0,a.actions[L+1]=a.actions[L],a),t(0,a.actions[L]=G,a)}}),T.push({name:"Remove",icon:"x",warning:!0,onclick:()=>f(L)}),r.internal.createContextMenu(T).showWithEvent(B)}function d(){a.label=this.value,t(0,a)}function v(){a.icon=this.value,t(0,a)}function b(){a.style=Sl(this),t(0,a)}function S(){a.class=this.value,t(0,a)}function y(){a.tooltip=this.value,t(0,a)}function w(){a.id=this.value,t(0,a)}function _(L){n.$$.not_equal(a.hidden,L)&&(a.hidden=L,t(0,a))}function x(){s=Sl(this),t(4,s)}let M=()=>c(),D=(L,B)=>h(L,B),N=()=>p(),E=()=>p(),P=()=>p();function O(L){Br[L?"unshift":"push"](()=>{o=L,t(3,o)})}let U=()=>i.okay(a),z=()=>i.cancel();return n.$$set=L=>{"plugin"in L&&t(1,r=L.plugin),"modal"in L&&t(2,i=L.modal),"buttonConfig"in L&&t(0,a=L.buttonConfig)},n.$$.update=()=>{n.$$.dirty[0]&9&&u(a,o)},[a,r,i,o,s,c,p,m,h,d,v,b,S,y,w,_,x,M,D,N,E,P,O,U,z]}var XS=class extends Re{constructor(e){super(),Ue(this,e,GK,HK,Le,{plugin:1,modal:2,buttonConfig:0},null,[-1,-1])}},S5=XS;var al=class extends Pn{setModal(e){this.modal=e}closeModal(){if(this.modal!==void 0)this.modal.close();else throw new tr({errorLevel:"CRITICAL",effect:"Failed to close modal.",cause:"Modal reference in ModalContent is undefined."})}};var Pd=class extends al{constructor(e,t){super(),this.plugin=e,this.options=t}onMount(e){var t;pt.empty(e),this.component&&this.component.$destroy(),this.component=new S5({target:e,props:{plugin:this.plugin,modal:this,buttonConfig:(t=this.options.config)!=null?t:this.plugin.api.buttonActionRunner.createDefaultButtonConfig()}})}onUnmount(e){pt.empty(e),this.component&&this.component.$destroy()}okay(e){this.closeModal(),this.options.onOkay(e)}cancel(){this.closeModal()}};var qs=class extends al{constructor(e){super(),this.createComponent=e}onMount(e){pt.empty(e),this.component=this.createComponent(this,e)}onUnmount(e){var t;(t=this.component)==null||t.$destroy(),pt.empty(e)}};var N5=br(Nl());var A5=["January","February","March","April","May","June","July","August","September","October","November","December"],Bd=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],lJe={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",firstWeekday:Bd[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,enableSyntaxHighlighting:!0,enableEditorRightClickMenu:!0,inputFieldTemplates:[],buttonTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var QS=Bd[1];function D5(n){QS=n}function KS(n){return A5[n]}function E5(n,e){let t=(0,N5.default)(new Date(e,n)).daysInMonth(),r=new Array(42).fill(0),i=WK(new Date(e,n,1));for(let a=0;a<t;a++)r[a+i]=a+1;return r=r[r.length-7]?r:r.slice(0,-7),r=r[r.length-7]?r:r.slice(0,-7),r}function WK(n){return bh(n.getDay()-QS.index,7)}function M5(){return Bd.map(e=>({index:bh(e.index-QS.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function C5(){let n=0;return()=>++n}var I5=br(Nl());function YK(n){ki(n,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function T5(n,e,t){let r=n.slice();return r[10]=e[t],r}function jK(n,e,t){let r=n.slice();return r[13]=e[t],r}function ZK(n){let e,t,r;return{c(){e=te("div"),t=te("span"),t.textContent=`${n[13]}`,r=be(),q(t,"class","cell-text svelte-12l82wb"),q(e,"class","cell header-cell svelte-12l82wb")},m(i,a){J(i,e,a),ae(e,t),ae(e,r)},p:Xe,d(i){i&&Z(e)}}}function F5(n,e){let t,r,i=(e[10]||"")+"",a,o,l,s;function u(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:n,first:null,c(){var f,p,m;t=te("div"),r=te("span"),a=et(i),o=be(),q(r,"class","cell-text svelte-12l82wb"),q(t,"class","cell svelte-12l82wb"),q(t,"role","button"),q(t,"tabindex","0"),Lt(t,"highlight",e[10]),Lt(t,"content-cell",e[10]),Lt(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((p=e[0])==null?void 0:p.month())===e[1]&&((m=e[0])==null?void 0:m.date())===e[10]),this.first=t},m(f,p){J(f,t,p),ae(t,r),ae(r,a),ae(t,o),l||(s=[Se(t,"click",u),Se(t,"keydown",c)],l=!0)},p(f,p){var m,h,d;e=f,p&8&&i!==(i=(e[10]||"")+"")&&ht(a,i),p&8&&Lt(t,"highlight",e[10]),p&8&&Lt(t,"content-cell",e[10]),p&15&&Lt(t,"selected",((m=e[0])==null?void 0:m.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&Z(t),l=!1,Nt(s)}}}function JK(n){let e,t,r,i,a=[],o=new Map,l=gt(M5()),s=[];for(let f=0;f<l.length;f+=1)s[f]=ZK(jK(n,l,f));let u=gt(n[3]),c=f=>C5();for(let f=0;f<u.length;f+=1){let p=T5(n,u,f),m=c(p);o.set(m,a[f]=F5(m,p))}return{c(){e=te("div"),t=te("div");for(let f=0;f<s.length;f+=1)s[f].c();r=be(),i=te("div");for(let f=0;f<a.length;f+=1)a[f].c();q(t,"class","calendar-header svelte-12l82wb"),q(i,"class","calendar-content svelte-12l82wb"),q(e,"class","calendar svelte-12l82wb")},m(f,p){J(f,e,p),ae(e,t);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(t,null);ae(e,r),ae(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null)},p(f,[p]){p&63&&(u=gt(f[3]),a=lu(a,p,c,1,f,u,o,i,IN,F5,null,T5))},i:Xe,o:Xe,d(f){f&&Z(e),lr(s,f);for(let p=0;p<a.length;p+=1)a[p].d()}}}function XK(n,e,t){let r=qh(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,l;function s(m){r("dateChange",(0,I5.default)(new Date(o,a,m)))}function u(m){m&&s(m)}function c(m,h){m.key===" "&&u(h)}let f=m=>u(m),p=(m,h)=>c(h,m);return n.$$set=m=>{"selectedDate"in m&&t(0,i=m.selectedDate),"month"in m&&t(1,a=m.month),"year"in m&&t(2,o=m.year)},n.$$.update=()=>{n.$$.dirty&6&&t(3,l=E5(a,o))},[i,a,o,l,u,c,f,p]}var eA=class extends Re{constructor(e){super(),Ue(this,e,XK,JK,Le,{selectedDate:0,month:1,year:2},YK)}},P5=eA;var Od=br(Nl());function QK(n){ki(n,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function KK(n){let e,t,r,i,a,o,l=KS(n[1])+"",s,u,c,f,p,m,h,d,v,b,S,y,w,_,x,M;return d=new P5({props:{month:n[1],year:n[2],selectedDate:n[0]}}),d.$on("dateChange",n[6]),{c(){e=te("div"),t=te("div"),r=te("button"),r.textContent="Prev",i=be(),a=te("div"),o=te("span"),s=et(l),u=be(),c=te("input"),p=be(),m=te("button"),m.textContent="Next",h=be(),Me(d.$$.fragment),v=be(),b=te("div"),S=te("button"),S.textContent="Set no Date",y=be(),w=te("button"),w.textContent="Set to Now",q(r,"class","month-switch-button svelte-berpp6"),q(o,"class","date-picker-header-text-month svelte-berpp6"),q(c,"class","date-picker-header-text-year svelte-berpp6"),q(c,"type","number"),c.value=f=n[2].toString(),q(a,"class","date-picker-header-text svelte-berpp6"),q(m,"class","month-switch-button svelte-berpp6"),q(t,"class","date-picker-header svelte-berpp6"),q(S,"class","none-button svelte-berpp6"),q(w,"class","none-button svelte-berpp6"),q(b,"class","date-picker-footer svelte-berpp6"),q(e,"class","date-picker svelte-berpp6")},m(D,N){J(D,e,N),ae(e,t),ae(t,r),ae(t,i),ae(t,a),ae(a,o),ae(o,s),ae(a,u),ae(a,c),ae(t,p),ae(t,m),ae(e,h),Ae(d,e,null),ae(e,v),ae(e,b),ae(b,S),ae(b,y),ae(b,w),_=!0,x||(M=[Se(r,"click",n[4]),Se(c,"input",n[5]),Se(m,"click",n[3]),Se(S,"click",n[7]),Se(w,"click",n[8])],x=!0)},p(D,[N]){(!_||N&2)&&l!==(l=KS(D[1])+"")&&ht(s,l),(!_||N&4&&f!==(f=D[2].toString())&&c.value!==f)&&(c.value=f);let E={};N&2&&(E.month=D[1]),N&4&&(E.year=D[2]),N&1&&(E.selectedDate=D[0]),d.$set(E)},i(D){_||(re(d.$$.fragment,D),_=!0)},o(D){oe(d.$$.fragment,D),_=!1},d(D){D&&Z(e),Ne(d),x=!1,Nt(M)}}}function eee(n,e,t){let{selectedDate:r=(0,Od.default)()}=e,{dateChangeCallback:i}=e,a,o;function l(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function s(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function u(m){let h=m.target.value,d=Number.parseInt(h);Number.isNaN(d)||t(2,o=d)}function c(m){t(0,r=m.detail),i(m.detail)}function f(){t(0,r=null),i(null)}function p(){t(0,r=(0,Od.default)()),i(r)}return n.$$set=m=>{"selectedDate"in m&&t(0,r=m.selectedDate),"dateChangeCallback"in m&&t(9,i=m.dateChangeCallback)},n.$$.update=()=>{if(n.$$.dirty&1)if(r)t(1,a=r.month()),t(2,o=r.year());else{let m=(0,Od.default)();t(1,a=m.month()),t(2,o=m.year())}},[r,a,o,l,s,u,c,f,p,i]}var tA=class extends Re{constructor(e){super(),Ue(this,e,eee,KK,Le,{selectedDate:0,dateChangeCallback:9},QK)}},B5=tA;function tee(n){let e,t,r,i,a,o,l,s,u;return{c(){e=te("div"),t=te("img"),i=be(),a=te("div"),o=te("span"),l=et(n[1]),q(t,"class","mb-image-card-image"),Oi(t.src,r=n[0].internal.imagePathToUri(n[1]))||q(t,"src",r),q(t,"alt",n[1]),q(a,"class","mb-image-card-footer"),q(e,"class","mb-image-card"),q(e,"role","button"),q(e,"tabindex","0")},m(c,f){J(c,e,f),ae(e,t),ae(e,i),ae(e,a),ae(a,o),ae(o,l),s||(u=[Se(e,"click",n[4]),Se(e,"keydown",n[5])],s=!0)},p(c,[f]){f&3&&!Oi(t.src,r=c[0].internal.imagePathToUri(c[1]))&&q(t,"src",r),f&2&&q(t,"alt",c[1]),f&2&&ht(l,c[1])},i:Xe,o:Xe,d(c){c&&Z(e),s=!1,Nt(u)}}}function ree(n,e,t){let{plugin:r}=e,{image:i}=e,{onSelect:a}=e;function o(u,c){u.key===" "&&a(c)}let l=()=>a(i),s=u=>o(u,i);return n.$$set=u=>{"plugin"in u&&t(0,r=u.plugin),"image"in u&&t(1,i=u.image),"onSelect"in u&&t(2,a=u.onSelect)},[r,i,a,o,l,s]}var rA=class extends Re{constructor(e){super(),Ue(this,e,ree,tee,Le,{plugin:0,image:1,onSelect:2})}},O5=rA;function k5(n,e,t){let r=n.slice();return r[8]=e[t],r}function R5(n){let e,t;return e=new O5({props:{plugin:n[0],image:n[8].value,onSelect:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.plugin=r[0]),i&8&&(a.image=r[8].value),i&2&&(a.onSelect=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function nee(n){let e,t,r,i,a,o,l,s=gt(n[3]),u=[];for(let f=0;f<s.length;f+=1)u[f]=R5(k5(n,s,f));let c=f=>oe(u[f],1,1,()=>{u[f]=null});return{c(){e=te("div"),t=te("input"),r=be(),i=te("div");for(let f=0;f<u.length;f+=1)u[f].c();q(t,"type","text"),q(t,"placeholder","Search Images..."),q(e,"class","mb-image-search-container"),q(i,"class","mb-image-card-grid")},m(f,p){J(f,e,p),ae(e,t),Ge(t,n[2]),J(f,r,p),J(f,i,p);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(i,null);a=!0,o||(l=Se(t,"input",n[5]),o=!0)},p(f,[p]){if(p&4&&t.value!==f[2]&&Ge(t,f[2]),p&11){s=gt(f[3]);let m;for(m=0;m<s.length;m+=1){let h=k5(f,s,m);u[m]?(u[m].p(h,p),re(u[m],1)):(u[m]=R5(h),u[m].c(),re(u[m],1),u[m].m(i,null))}for(Dt(),m=s.length;m<u.length;m+=1)c(m);Et()}},i(f){if(!a){for(let p=0;p<s.length;p+=1)re(u[p]);a=!0}},o(f){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)oe(u[p]);a=!1},d(f){f&&(Z(e),Z(r),Z(i)),lr(u,f),o=!1,l()}}}function iee(n,e,t){let{plugin:r}=e,{options:i}=e,{onSelect:a}=e,o="",l,s=r.internal.createFuzzySearch();function u(f){if(!f){t(3,l=i);return}s.setSearch(f),t(3,l=s.filterItems(i,p=>p.value))}function c(){o=this.value,t(2,o)}return n.$$set=f=>{"plugin"in f&&t(0,r=f.plugin),"options"in f&&t(4,i=f.options),"onSelect"in f&&t(1,a=f.onSelect)},n.$$.update=()=>{n.$$.dirty&4&&u(o)},[r,a,o,l,i,c]}var nA=class extends Re{constructor(e){super(),Ue(this,e,iee,nee,Le,{plugin:0,options:4,onSelect:1})}},L5=nA;function U5(n,e,t){let r=n.slice();return r[1]=e[t],r}function aee(n){let e,t,r,i=n[0].stack+"",a;return{c(){e=te("div"),t=te("pre"),r=te("code"),a=et(i),q(r,"class","language-none mb-none"),q(t,"class","mb-pre"),q(e,"class","mb-card")},m(o,l){J(o,e,l),ae(e,t),ae(t,r),ae(r,a)},p(o,l){l&1&&i!==(i=o[0].stack+"")&&ht(a,i)},d(o){o&&Z(e)}}}function oee(n){let e,t,r,i=n[0].errorLevel+"",a,o,l=n[0].getErrorType()+"",s,u,c,f,p=n[0].effect+"",m,h,d,v,b,S,y,w,_,x=n[0].cause+"",M,D,N,E,P,O,U=n[0].effect+"",z,L,B,T,G=n[0].positionContext&&V5(n),R=n[0].tip&&q5(n),ie=n[0].docs&&z5(n),j=n[0].context&&H5(n);return{c(){e=te("div"),t=te("h6"),r=te("span"),a=et(i),o=et(`
                    [`),s=et(l),u=et("]"),f=et(`
                - `),m=et(p),h=be(),G&&G.c(),d=be(),v=te("table"),b=te("tbody"),S=te("tr"),y=te("td"),y.textContent="Cause",w=be(),_=te("td"),M=et(x),D=be(),N=te("tr"),E=te("td"),E.textContent="Effect",P=be(),O=te("td"),z=et(U),L=be(),R&&R.c(),B=be(),ie&&ie.c(),T=be(),j&&j.c(),q(r,"class",c=n[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),q(e,"class","mb-card mb-card-full-width markdown-rendered")},m(H,V){J(H,e,V),ae(e,t),ae(t,r),ae(r,a),ae(r,o),ae(r,s),ae(r,u),ae(t,f),ae(t,m),ae(e,h),G&&G.m(e,null),ae(e,d),ae(e,v),ae(v,b),ae(b,S),ae(S,y),ae(S,w),ae(S,_),ae(_,M),ae(b,D),ae(b,N),ae(N,E),ae(N,P),ae(N,O),ae(O,z),ae(b,L),R&&R.m(b,null),ae(b,B),ie&&ie.m(b,null),ae(b,T),j&&j.m(b,null)},p(H,V){V&1&&i!==(i=H[0].errorLevel+"")&&ht(a,i),V&1&&l!==(l=H[0].getErrorType()+"")&&ht(s,l),V&1&&c!==(c=H[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&q(r,"class",c),V&1&&p!==(p=H[0].effect+"")&&ht(m,p),H[0].positionContext?G?G.p(H,V):(G=V5(H),G.c(),G.m(e,d)):G&&(G.d(1),G=null),V&1&&x!==(x=H[0].cause+"")&&ht(M,x),V&1&&U!==(U=H[0].effect+"")&&ht(z,U),H[0].tip?R?R.p(H,V):(R=q5(H),R.c(),R.m(b,B)):R&&(R.d(1),R=null),H[0].docs?ie?ie.p(H,V):(ie=z5(H),ie.c(),ie.m(b,T)):ie&&(ie.d(1),ie=null),H[0].context?j?j.p(H,V):(j=H5(H),j.c(),j.m(b,null)):j&&(j.d(1),j=null)},d(H){H&&Z(e),G&&G.d(),R&&R.d(),ie&&ie.d(),j&&j.d()}}}function V5(n){let e,t,r=n[0].positionContext+"",i;return{c(){e=te("pre"),t=te("code"),i=et(r),q(t,"class","language-none mb-none"),q(e,"class","mb-pre")},m(a,o){J(a,e,o),ae(e,t),ae(t,i)},p(a,o){o&1&&r!==(r=a[0].positionContext+"")&&ht(i,r)},d(a){a&&Z(e)}}}function q5(n){let e,t,r,i,a=n[0].tip+"",o;return{c(){e=te("tr"),t=te("td"),t.textContent="Tip",r=be(),i=te("td"),o=et(a)},m(l,s){J(l,e,s),ae(e,t),ae(e,r),ae(e,i),ae(i,o)},p(l,s){s&1&&a!==(a=l[0].tip+"")&&ht(o,a)},d(l){l&&Z(e)}}}function z5(n){let e,t,r,i,a=gt(n[0].docs),o=[];for(let l=0;l<a.length;l+=1)o[l]=$5(U5(n,a,l));return{c(){e=te("tr"),t=te("td"),t.textContent="Docs",r=be(),i=te("td");for(let l=0;l<o.length;l+=1)o[l].c()},m(l,s){J(l,e,s),ae(e,t),ae(e,r),ae(e,i);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null)},p(l,s){if(s&1){a=gt(l[0].docs);let u;for(u=0;u<a.length;u+=1){let c=U5(l,a,u);o[u]?o[u].p(c,s):(o[u]=$5(c),o[u].c(),o[u].m(i,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}},d(l){l&&Z(e),lr(o,l)}}}function $5(n){let e,t=n[1]+"",r,i,a;return{c(){e=te("a"),r=et(t),a=te("br"),q(e,"href",i=n[1])},m(o,l){J(o,e,l),ae(e,r),J(o,a,l)},p(o,l){l&1&&t!==(t=o[1]+"")&&ht(r,t),l&1&&i!==(i=o[1])&&q(e,"href",i)},d(o){o&&(Z(e),Z(a))}}}function H5(n){let e,t,r,i,a,o,l=JSON.stringify(n[0].context,null,4)+"",s;return{c(){e=te("tr"),t=te("td"),t.textContent="Context",r=be(),i=te("td"),a=te("pre"),o=te("code"),s=et(l),q(o,"class","language-none mb-none"),q(a,"class","mb-pre")},m(u,c){J(u,e,c),ae(e,t),ae(e,r),ae(e,i),ae(i,a),ae(a,o),ae(o,s)},p(u,c){c&1&&l!==(l=JSON.stringify(u[0].context,null,4)+"")&&ht(s,l)},d(u){u&&Z(e)}}}function see(n){let e;function t(a,o){return a[0]instanceof gn?oee:aee}let r=t(n,-1),i=r(n);return{c(){i.c(),e=_r()},m(a,o){i.m(a,o),J(a,e,o)},p(a,[o]){r===(r=t(a,o))&&i?i.p(a,o):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Xe,o:Xe,d(a){a&&Z(e),i.d(a)}}}function uee(n,e,t){let{error:r}=e;return n.$$set=i=>{"error"in i&&t(0,r=i.error)},[r]}var iA=class extends Re{constructor(e){super(),Ue(this,e,uee,see,Le,{error:0})}},aA=iA;function G5(n,e,t){let r=n.slice();return r[1]=e[t],r}function W5(n,e,t){let r=n.slice();return r[4]=e[t],r}function Y5(n){let e,t=n[0].text+"",r;return{c(){e=te("p"),r=et(t)},m(i,a){J(i,e,a),ae(e,r)},p(i,a){a&1&&t!==(t=i[0].text+"")&&ht(r,t)},d(i){i&&Z(e)}}}function j5(n){let e,t,r=n[0].code+"",i;return{c(){e=te("pre"),t=te("code"),i=et(r),q(t,"class","language-none meta-bind-none"),q(e,"class","mb-pre")},m(a,o){J(a,e,o),ae(e,t),ae(t,i)},p(a,o){o&1&&r!==(r=a[0].code+"")&&ht(i,r)},d(a){a&&Z(e)}}}function Z5(n){let e,t,r,i,a,o=n[0].errorText&&J5(n),l=gt(n[0].errorCollection.getErrors()),s=[];for(let c=0;c<l.length;c+=1)s[c]=X5(W5(n,l,c));let u=c=>oe(s[c],1,1,()=>{s[c]=null});return{c(){e=te("h6"),e.textContent="Errors",t=be(),o&&o.c(),r=be();for(let c=0;c<s.length;c+=1)s[c].c();i=_r()},m(c,f){J(c,e,f),J(c,t,f),o&&o.m(c,f),J(c,r,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(c,f);J(c,i,f),a=!0},p(c,f){if(c[0].errorText?o?o.p(c,f):(o=J5(c),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),f&1){l=gt(c[0].errorCollection.getErrors());let p;for(p=0;p<l.length;p+=1){let m=W5(c,l,p);s[p]?(s[p].p(m,f),re(s[p],1)):(s[p]=X5(m),s[p].c(),re(s[p],1),s[p].m(i.parentNode,i))}for(Dt(),p=l.length;p<s.length;p+=1)u(p);Et()}},i(c){if(!a){for(let f=0;f<l.length;f+=1)re(s[f]);a=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)oe(s[f]);a=!1},d(c){c&&(Z(e),Z(t),Z(r),Z(i)),o&&o.d(c),lr(s,c)}}}function J5(n){let e,t=n[0].errorText+"",r;return{c(){e=te("p"),r=et(t)},m(i,a){J(i,e,a),ae(e,r)},p(i,a){a&1&&t!==(t=i[0].errorText+"")&&ht(r,t)},d(i){i&&Z(e)}}}function X5(n){let e,t;return e=new aA({props:{error:n[4]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.error=r[4]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function Q5(n){let e,t,r,i,a,o=n[0].warningText&&K5(n),l=gt(n[0].errorCollection.getWarnings()),s=[];for(let c=0;c<l.length;c+=1)s[c]=e8(G5(n,l,c));let u=c=>oe(s[c],1,1,()=>{s[c]=null});return{c(){e=te("h6"),e.textContent="Warnings",t=be(),o&&o.c(),r=be();for(let c=0;c<s.length;c+=1)s[c].c();i=_r()},m(c,f){J(c,e,f),J(c,t,f),o&&o.m(c,f),J(c,r,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(c,f);J(c,i,f),a=!0},p(c,f){if(c[0].warningText?o?o.p(c,f):(o=K5(c),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),f&1){l=gt(c[0].errorCollection.getWarnings());let p;for(p=0;p<l.length;p+=1){let m=G5(c,l,p);s[p]?(s[p].p(m,f),re(s[p],1)):(s[p]=e8(m),s[p].c(),re(s[p],1),s[p].m(i.parentNode,i))}for(Dt(),p=l.length;p<s.length;p+=1)u(p);Et()}},i(c){if(!a){for(let f=0;f<l.length;f+=1)re(s[f]);a=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)oe(s[f]);a=!1},d(c){c&&(Z(e),Z(t),Z(r),Z(i)),o&&o.d(c),lr(s,c)}}}function K5(n){let e,t=n[0].warningText+"",r;return{c(){e=te("p"),r=et(t)},m(i,a){J(i,e,a),ae(e,r)},p(i,a){a&1&&t!==(t=i[0].warningText+"")&&ht(r,t)},d(i){i&&Z(e)}}}function e8(n){let e,t;return e=new aA({props:{error:n[1]}}),{c(){Me(e.$$.fragment)},m(r,i){Ae(e,r,i),t=!0},p(r,i){let a={};i&1&&(a.error=r[1]),e.$set(a)},i(r){t||(re(e.$$.fragment,r),t=!0)},o(r){oe(e.$$.fragment,r),t=!1},d(r){Ne(e,r)}}}function lee(n){let e,t,r=n[0].errorCollection.hasErrors(),i,a=n[0].errorCollection.hasWarnings(),o,l,s=n[0].text&&Y5(n),u=n[0].code&&j5(n),c=r&&Z5(n),f=a&&Q5(n);return{c(){s&&s.c(),e=be(),u&&u.c(),t=be(),c&&c.c(),i=be(),f&&f.c(),o=_r()},m(p,m){s&&s.m(p,m),J(p,e,m),u&&u.m(p,m),J(p,t,m),c&&c.m(p,m),J(p,i,m),f&&f.m(p,m),J(p,o,m),l=!0},p(p,[m]){p[0].text?s?s.p(p,m):(s=Y5(p),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),p[0].code?u?u.p(p,m):(u=j5(p),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),m&1&&(r=p[0].errorCollection.hasErrors()),r?c?(c.p(p,m),m&1&&re(c,1)):(c=Z5(p),c.c(),re(c,1),c.m(i.parentNode,i)):c&&(Dt(),oe(c,1,1,()=>{c=null}),Et()),m&1&&(a=p[0].errorCollection.hasWarnings()),a?f?(f.p(p,m),m&1&&re(f,1)):(f=Q5(p),f.c(),re(f,1),f.m(o.parentNode,o)):f&&(Dt(),oe(f,1,1,()=>{f=null}),Et())},i(p){l||(re(c),re(f),l=!0)},o(p){oe(c),oe(f),l=!1},d(p){p&&(Z(e),Z(t),Z(i),Z(o)),s&&s.d(p),u&&u.d(p),c&&c.d(p),f&&f.d(p)}}}function cee(n,e,t){let{settings:r}=e;return n.$$set=i=>{"settings"in i&&t(0,r=i.settings)},[r]}var oA=class extends Re{constructor(e){super(),Ue(this,e,cee,lee,Le,{settings:0})}},t8=oA;function r8(n){let e,t,r,i,a;function o(u,c){return c&1&&(t=null),c&1&&(r=null),t==null&&(t=!!u[0].errorCollection.hasErrors()),t?mee:(r==null&&(r=!!u[0].errorCollection.hasWarnings()),r?pee:fee)}let l=o(n,-1),s=l(n);return{c(){e=te("div"),s.c(),q(e,"class","mb-error-collection"),q(e,"role","button"),q(e,"tabindex","0")},m(u,c){J(u,e,c),s.m(e,null),i||(a=[Se(e,"click",n[3]),Se(e,"keydown",n[4])],i=!0)},p(u,c){l!==(l=o(u,c))&&(s.d(1),s=l(u),s&&(s.c(),s.m(e,null)))},d(u){u&&Z(e),s.d(),i=!1,Nt(a)}}}function fee(n){let e,t,r,i;return{c(){e=xi("svg"),t=xi("circle"),r=xi("path"),i=xi("path"),q(t,"cx","12"),q(t,"cy","12"),q(t,"r","10"),q(r,"d","M12 16v-4"),q(i,"d","M12 8h.01"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-info")},m(a,o){J(a,e,o),ae(e,t),ae(e,r),ae(e,i)},d(a){a&&Z(e)}}}function pee(n){let e,t,r,i;return{c(){e=xi("svg"),t=xi("path"),r=xi("line"),i=xi("line"),q(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),q(r,"x1","12"),q(r,"x2","12"),q(r,"y1","9"),q(r,"y2","13"),q(i,"x1","12"),q(i,"x2","12.01"),q(i,"y1","17"),q(i,"y2","17"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-alert-triangle")},m(a,o){J(a,e,o),ae(e,t),ae(e,r),ae(e,i)},d(a){a&&Z(e)}}}function mee(n){let e,t,r,i,a,o;return{c(){e=xi("svg"),t=xi("circle"),r=xi("line"),i=xi("line"),a=be(),o=te("span"),o.textContent="[META_BIND_ERROR]",q(t,"cx","12"),q(t,"cy","12"),q(t,"r","10"),q(r,"x1","12"),q(r,"x2","12"),q(r,"y1","8"),q(r,"y2","12"),q(i,"x1","12"),q(i,"x2","12.01"),q(i,"y1","16"),q(i,"y2","16"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-alert-circle"),q(o,"class","mb-error")},m(l,s){J(l,e,s),ae(e,t),ae(e,r),ae(e,i),J(l,a,s),J(l,o,s)},d(l){l&&(Z(e),Z(a),Z(o))}}}function dee(n){let e=!n[0].errorCollection.isEmpty(),t,r=e&&r8(n);return{c(){r&&r.c(),t=_r()},m(i,a){r&&r.m(i,a),J(i,t,a)},p(i,[a]){a&1&&(e=!i[0].errorCollection.isEmpty()),e?r?r.p(i,a):(r=r8(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:Xe,o:Xe,d(i){i&&Z(t),r&&r.d(i)}}}function hee(n,e,t){let{plugin:r}=e,{settings:i}=e;function a(){r.internal.openErrorCollectionViewModal(i)}let o=()=>a(),l=s=>{s.key===" "&&a()};return n.$$set=s=>{"plugin"in s&&t(2,r=s.plugin),"settings"in s&&t(0,i=s.settings)},[i,a,r,o,l]}var sA=class extends Re{constructor(e){super(),Ue(this,e,hee,dee,Le,{plugin:2,settings:0})}},n8=sA;var kd=class extends Ca{constructor(e,t,r){super(e,t),this.ipf=r}getItemText(e){return e.displayValue}getItems(){return this.plugin.internal.getSuggesterOptions(this.ipf)}};function gee(n){let e,t,r;return{c(){e=te("input"),q(e,"type","text")},m(i,a){J(i,e,a),Ge(e,n[1]),t||(r=Se(e,"input",n[3]),t=!0)},p(i,a){a&2&&e.value!==i[1]&&Ge(e,i[1])},d(i){i&&Z(e),t=!1,r()}}}function vee(n){let e,t,r;return{c(){e=te("textarea")},m(i,a){J(i,e,a),Ge(e,n[1]),t||(r=Se(e,"input",n[2]),t=!0)},p(i,a){a&2&&Ge(e,i[1])},d(i){i&&Z(e),t=!1,r()}}}function yee(n){let e;return{c(){e=et("OK")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function bee(n){let e;return{c(){e=et("Cancel")},m(t,r){J(t,e,r)},d(t){t&&Z(e)}}}function xee(n){let e,t,r,i;return e=new Sr({props:{variant:"primary",$$slots:{default:[yee]},$$scope:{ctx:n}}}),e.$on("click",n[4]),r=new Sr({props:{$$slots:{default:[bee]},$$scope:{ctx:n}}}),r.$on("click",n[5]),{c(){Me(e.$$.fragment),t=be(),Me(r.$$.fragment)},m(a,o){Ae(e,a,o),J(a,t,o),Ae(r,a,o),i=!0},p(a,o){let l={};o&64&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let s={};o&64&&(s.$$scope={dirty:o,ctx:a}),r.$set(s)},i(a){i||(re(e.$$.fragment,a),re(r.$$.fragment,a),i=!0)},o(a){oe(e.$$.fragment,a),oe(r.$$.fragment,a),i=!1},d(a){a&&Z(t),Ne(e,a),Ne(r,a)}}}function wee(n){let e,t=n[0].subTitle+"",r,i,a,o,l,s;function u(p,m){return p[0].multiline?vee:gee}let c=u(n,-1),f=c(n);return l=new Id({props:{$$slots:{default:[xee]},$$scope:{ctx:n}}}),{c(){e=te("p"),r=et(t),i=be(),a=te("div"),f.c(),o=be(),Me(l.$$.fragment),q(a,"class","mb-full-width-text-input")},m(p,m){J(p,e,m),ae(e,r),J(p,i,m),J(p,a,m),f.m(a,null),J(p,o,m),Ae(l,p,m),s=!0},p(p,[m]){(!s||m&1)&&t!==(t=p[0].subTitle+"")&&ht(r,t),c===(c=u(p,m))&&f?f.p(p,m):(f.d(1),f=c(p),f&&(f.c(),f.m(a,null)));let h={};m&67&&(h.$$scope={dirty:m,ctx:p}),l.$set(h)},i(p){s||(re(l.$$.fragment,p),s=!0)},o(p){oe(l.$$.fragment,p),s=!1},d(p){p&&(Z(e),Z(i),Z(a),Z(o)),f.d(),Ne(l,p)}}}function _ee(n,e,t){let{options:r}=e,i=r.value;function a(){i=this.value,t(1,i)}function o(){i=this.value,t(1,i)}let l=()=>r.onSubmit(i),s=()=>r.onCancel();return n.$$set=u=>{"options"in u&&t(0,r=u.options)},[r,i,a,o,l,s]}var uA=class extends Re{constructor(e){super(),Ue(this,e,_ee,wee,Le,{options:0})}},i8=uA;var Rd=class{constructor(e){this.plugin=e}openCommandSelectModal(e){this.createSearchModal(new Cd(this.plugin,e)).open()}openFileSelectModal(e){this.createSearchModal(new Td(this.plugin,e)).open()}openFolderSelectModal(e){this.createSearchModal(new Fd(this.plugin,e)).open()}openButtonBuilderModal(e){this.createModal(new Pd(this.plugin,e),{title:"Meta Bind Button Builder"}).open()}openSuggesterModal(e,t){this.createSearchModal(new kd(this.plugin,t,e)).open()}openImageSuggesterModal(e,t){this.createModal(new qs((r,i)=>new L5({target:i,props:{plugin:this.plugin,options:this.getImageSuggesterOptions(e),onSelect:a=>{t(a),r.closeModal()}}})),{title:"Meta Bind Image Suggester",classes:["mb-image-suggester-modal"]}).open()}openDatePickerModal(e){this.createModal(new qs((t,r)=>new B5({target:r,props:{selectedDate:e.getInternalValue(),dateChangeCallback:i=>{e.setInternalValue(i),t.closeModal()}}})),{title:"Meta Bind Date Picker"}).open()}openTextPromptModal(e){this.createModal(new qs((t,r)=>new i8({target:r,props:{options:_t(Ie({},e),{onSubmit:i=>{e.onSubmit(i),t.closeModal()},onCancel:()=>{e.onCancel(),t.closeModal()}})}})),e).open()}openErrorCollectionViewModal(e){this.createModal(new qs((t,r)=>new t8({target:r,props:{settings:e}})),{title:"Meta Bind Error Overview",classes:["mb-error-collection-modal","markdown-rendered"]}).open()}createErrorIndicator(e,t){new n8({target:e,props:{plugin:this.plugin,settings:t}})}isFilePathExcluded(e){for(let t of this.plugin.settings.excludedFolders)if(e.startsWith(t))return!0;return!1}};var Fa=dl("obsidian/publish");var Ld=class extends Rd{getLifecycleHookValidator(){return le.instanceof(Fa.Component)}renderMarkdown(e,t,r){return xt(this,null,function*(){return t.innerText+=e,()=>{}})}executeCommandById(e){throw new Error("not implemented")}isJsEngineAvailable(){return!1}jsEngineRunFile(e,t,r,i){return Promise.reject(new Error("not implemented"))}jsEngineRunCode(e,t,r,i){return Promise.reject(new Error("not implemented"))}createJsRenderer(e,t,r,i){throw new Error("not implemented")}openFile(e,t,r){throw new Error("not implemented")}getFilePathByName(e,t=""){return e}showNotice(e){new Fa.Notice(e)}parseYaml(e){return(0,Fa.parseYaml)(e)}stringifyYaml(e){return(0,Fa.stringifyYaml)(e)}setIcon(e,t){(0,Fa.setIcon)(e,t)}imagePathToUri(e){return e}createFuzzySearch(){throw new Error("not implemented")}createModal(e,t){throw new Error("not implemented")}createSearchModal(e){throw new Error("not implemented")}getAllCommands(){return[]}getAllFiles(){return Object.keys(publish.site.cache)}getAllFolders(){let e=this.getAllFiles(),t=new Set;for(let r of e){let i=r.split("/");i.pop(),t.add(i.join("/"))}return Array.from(t)}getImageSuggesterOptions(e){return[]}getSuggesterOptions(e){return[]}readFilePath(e){return Promise.resolve("")}writeFilePath(e,t){return Promise.resolve()}createFile(e,t,r,i){return Promise.resolve("")}createContextMenu(e){throw new Error("not implemented")}createNoteWithTemplater(e,t,r,i){throw new Error("not implemented")}evaluateTemplaterTemplate(e,t){throw new Error("not implemented")}};var Ud=class extends Zs{constructor(e,t,r){super(t,r),this.plugin=e}readExternal(e){var r,i;let t=(r=publish.site.cache.cache[e])==null?void 0:r.frontmatter;return(i=structuredClone(t))!=null?i:{}}getDefaultCacheItem(e){var r,i;let t=(r=publish.site.cache.cache[e])==null?void 0:r.frontmatter;return console.log("meta-bind | Obs Source >> loaded frontmatter",structuredClone(t),e),Ie({data:(i=structuredClone(t))!=null?i:{},storagePath:e},this.manager.getDefaultCacheItem())}syncExternal(e){return xt(this,null,function*(){})}};var _c=class extends co{constructor(e,t){super(void 0),this.ctx=e,this.element=t}getPosition(){let e=this.ctx.getSectionInfo(this.element);if(e)return{lineStart:e.lineStart,lineEnd:e.lineEnd}}};var Vd=class{constructor(){this.activeMountables=new Map}unloadFile(e){for(let t of this.activeMountables.values())t.getFilePath()===e&&(console.debug(`meta-bind | MountableManager >> unregistered Mountable ${t.getUuid()}`),t.unmount())}unload(){for(let e of this.activeMountables.values())console.debug(`meta-bind | MountableManager >> unregistered Mountable ${e.getUuid()}`),e.unmount()}registerMountable(e){console.debug(`meta-bind | MountableManager >> registered Mountable ${e.getUuid()}`),this.activeMountables.set(e.getUuid(),e)}unregisterMountable(e){console.debug(`meta-bind | MountableManager >> unregistered Mountable ${e.getUuid()}`),this.activeMountables.delete(e.getUuid())}};var qd=class{constructor(e){this.settings=e,this.api=new Md(this),this.internal=new Ld(this),this.metadataManager=new Hc,this.setUpMetadataManager(),this.mountableManager=new Vd,this.load()}setUpMetadataManager(){this.metadataManager.registerSource(new Ud(this,"frontmatter",this.metadataManager)),this.metadataManager.registerSource(new Lc("memory",this.metadataManager)),this.metadataManager.registerSource(new Uc("globalMemory",this.metadataManager)),this.metadataManager.setDefaultSource("frontmatter"),window.setInterval(()=>this.metadataManager.cycle(),this.settings.syncInterval)}onLoad(){console.log("meta-bind-publish | loaded"),this.updateInternalSettings(),publish.registerMarkdownPostProcessor((e,t)=>{let r=e.querySelectorAll("code"),i=t.sourcePath;for(let a=0;a<r.length;a++){let o=r.item(a);if(o.hasClass("mb-none"))continue;let l=o.innerText,s=this.api.isInlineFieldDeclarationAndGetType(l);if(s===void 0)continue;let u=this.api.createInlineFieldOfTypeFromString(s,l,i,void 0);this.api.wrapInMDRC(u,o,t).load()}},1),publish.registerMarkdownCodeBlockProcessor("meta-bind",(e,t,r)=>{let i=t,a=e.trim(),o=r.sourcePath,l=this.api.isInlineFieldDeclarationAndGetType(a);if(l===void 0)return;let s=this.api.createInlineFieldOfTypeFromString(l,a,o,void 0,"block",new _c(r,t));this.api.wrapInMDRC(s,i,r).load()}),publish.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(e,t,r)=>{let i=this.api.createJsViewFieldMountable(r.sourcePath,{declaration:e});this.api.wrapInMDRC(i,t,r).load()}),publish.registerMarkdownCodeBlockProcessor("meta-bind-embed",(e,t,r)=>{let i=this.api.createEmbedMountable(r.sourcePath,{content:e,depth:0});this.api.wrapInMDRC(i,t,r).load()});for(let e=1;e<=uf;e++)publish.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${e}`,(t,r,i)=>{let a=this.api.createEmbedMountable(i.sourcePath,{content:t,depth:e});this.api.wrapInMDRC(a,r,i).load()});publish.registerMarkdownCodeBlockProcessor("meta-bind-button",(e,t,r)=>{let i=this.api.createButtonMountable(r.sourcePath,{declaration:e,isPreview:!1,position:new _c(r,t)});this.api.wrapInMDRC(i,t,r).load()})}onUnload(){console.log("meta-bind-publish | unloaded")}load(){this.onLoad()}unload(){this.onUnload()}updateInternalSettings(){On.dateFormat=this.settings.preferredDateFormat,D5(this.settings.firstWeekday),this.loadTemplates()}loadTemplates(){if(!this.api)return;let e=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);e.hasErrors()&&console.warn("meta-bind | failed to parse input field templates",e);let t=this.api.buttonManager.setButtonTemplates(this.settings.buttonTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse button templates",t)}},See=new qd(mb_settings);window.mb=See;return T6(Aee);})();